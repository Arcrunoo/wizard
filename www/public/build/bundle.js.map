{"version":3,"sources":["webpack:///webpack/bootstrap 130f0f6cea0d5223c7cd","webpack:///(webpack)/buildin/module.js","webpack:///./public/app/js/main.js","webpack:///./node_modules/module-dispatcher/lib/moduleDispatcher.js","webpack:///./public/app/css/main.css","webpack:///./public/app/js/modules/core.js","webpack:///./public/app/js/modules/ajax.js","webpack:///./public/app/js/modules/transport.js","webpack:///./public/app/js/modules/content.js","webpack:///./public/app/js/modules/appender.js","webpack:///./public/app/js/modules/parser.js","webpack:///./public/app/js/modules/comments.js","webpack:///./public/app/js/modules/alerts.js","webpack:///./public/app/css/modules/alerts.css","webpack:///./public/app/js/modules/islandSettings.js","webpack:///./public/app/js/modules/autoresizeTextarea.js","webpack:///./public/app/js/modules/user.js","webpack:///./public/app/js/modules/sharer.js","webpack:///./public/app/js/modules/writing.js","webpack:///./node_modules/codex.editor.personality/personality.js","webpack:///./node_modules/codex.editor.link/link.js","webpack:///./public/app/js/modules/loader.js","webpack:///./public/app/js/modules/scrollUp.js","webpack:///./public/app/js/modules/branding.js","webpack:///./public/app/js/modules/pages.js","webpack:///./public/app/js/modules/pages/cover.js","webpack:///./public/app/js/modules/pages/pin.js","webpack:///./public/app/js/modules/checkboxes.js","webpack:///./public/app/js/modules/logo.js","webpack:///./node_modules/codex.special/codex-special.min.js"],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","require","codex","nodes","content","appSettings","uploadMaxSize","init","key","docReady","initModules","Library","special","blockId","checkboxes","approvalButtons","autoresizeTextarea","scrollUp","core","log","branding","setMobileMenuToggler","f","test","document","readyState","window","setTimeout","ajax","transport","appender","parser","comments","alerts","islandSettings","user","sharer","writing","loader","pages","logo","e","t","moduleDispatcher","self","o","n","r","call","m","c","d","configurable","__esModule","default","prototype","hasOwnProperty","p","s","Array","isArray","length","from","TypeError","value","writable","name","element","settings","moduleClass","console","assert","Function","warn","destroy","u","modules","findModules","querySelectorAll","push","apply","extractModulesData","dataset","replace","split","forEach","getModuleSettings","querySelector","textContent","trim","JSON","parse","groupCollapsed","groupEnd","str","prefix","type","arg","staticLength","substr","getOffset","elem","docElem","win","rect","doc","getClientRects","top","left","getBoundingClientRect","width","height","ownerDocument","documentElement","pageYOffset","clientTop","pageXOffset","clientLeft","isElementOnScreen","el","elPositon","screenBottom","scrollY","innerHeight","css","getComputedStyle","insertAfter","target","parentNode","insertBefore","nextSibling","nodeToReplace","replaceWith","replaceChild","random","min","max","Math","floor","delegateEvent","targetSelector","eventName","callback","addEventListener","event","matched","matches","parentElement","nodeTypes","TAG","TEXT","COMMENT","DOCUMENT_FRAGMENT","keys","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","ESC","SPACE","LEFT","UP","DOWN","RIGHT","DELETE","META","isDomNode","nodeType","parseHTML","inputString","contentHolder","childs","parsedNodes","createElement","innerHTML","childNodes","node","isEmpty","obj","isVisible","offsetParent","setCookie","expires","path","domain","toGMTString","cookie","getCookie","dc","begin","indexOf","end","unescape","substring","data","url","XMLHTTP","XMLHttpRequest","ActiveXObject","successFunction","async","success","withCredentials","beforeSend","open","isFormData","setRequestHeader","onreadystatechange","status","responseText","send","object","append","config_","input","configuration","inputElement","multiple","setAttribute","accept","send_","clickInput_","click","error","formData","FormData","files","toggle","which","marker","elements","classList","toggleMobileMenu","menu","getElementById","openedClass","stopPropagation","stopImmediatePropagation","preventDefault","id","menuToggler","customCheckboxes","CHECKED_CLASS","getElementsByClassName","clicked","checkbox","isChecked","contains","removeAttribute","CLICKED_CLASS","buttons","button","isClicked","add","page","blockForItems","loadMoreButton","buttonText","targetBlockId","currentPage","autoLoading","isAllowed","load","dontWaitFirstClick","requestUrl","parseInt","response","list","canLoad","next_page","disable","showException","remove","style","display","isLaunched","scrollEvent","removeEventListener","scrollReachedEnd","body","clientHeight","_this","inputPasteCallback","sendRequest","title","sourceLink","article","commentsList","anchor","location","hash","CSS_","replyForm","replyTextarea","replyOpened","replySubmitButton","highlighted","menuTogglerSelector","highligthAnchor","reply","replyButton","replyParams","parentId","rootId","action","form","createForm","getFormTextarea","focus","params","textarea","createTextarea","createButton","appendChild","placeholder","keydownSubmitHandler","blurTextareaHandler","addListener","submitClicked_","submit","getElementsByTagName","commentId","removeForm","ctrlPressed","ctrlKey","metaKey","enterPressed","keyCode","submitBtn","actionURL","csrf","comment","show","message","removeEmptyCommentsBlock","scrollTo","scrollHeight","highligthComment","activateMenu","emptyCommentsBlock","prepareToggler","numbers","match","itemClicked","targetId","confirm","wrapper","notification","crossBtn","wrapper_","prepare_","options","notify","cross","time","menuHolder","activated","CSS","item","showed","menuTogglers","selector","startIndex","endIndex","index","toggler","menuTogglerHovered","menuTogglerBlurred","menuParams","opened","createMenu","getMenuParams","items","fill","move","itemData","itemElement","createItem","itemIndex","attr","itemEl","togglerIndex","handler","method","submethod","args","arguments","block","container","updateItem","currentMenu","currentItemEl","currentItem","textareas","checkScrollHeight","textareaChanged","photo","updatableElementsName","change","transportType","uploaded","uploadError","updateAll","newSource","updatebleImages","getElementsByName","src","promote","userId","role","field","requestData","menuIndex","buttonValue","changePassword","showForm","lockButton","set","form_","requestChange","showSuccessMessage","button_","dontShowResponse","ajaxResponse","repeatEmail","bio","edit","keydown","val","saved","newBio","createTextNode","email","currentEmail","loadingButton","island","sendConfirmation","changed","saveButton","sendButton","oninput","shareButtons","shareVk","link","desc","img","popup","shareFacebook","FB_APP_ID","href","shareTwitter","shareTelegram","socialType","yaCounter32652805","reachGoal","shareType","shareData","personalityTool","linkTool","editorIsReady","submitButton","hideEditorToolbar","titleId","initialBlockPlugin","resources","holderId","pageId","prepare","initSettings","mergeSettings","loadEditorResources","then","startEditor","EDITOR_IMAGE","EDITOR_FILE","EDITOR_PERSONALITY","editor","start","hideToolbar","sanitizer","tags","a","tools","paragraph","iconClassname","render","validate","save","allowedToPaste","showInlineToolbar","allowRenderOnPaste","header","appendCallback","makeSettings","displayInToolbox","image","isStretched","renderOnPastePatterns","pastePatterns","config","uploadImage","uploadFromUrl","attaches","cdxAttaches","fetchUrl","maxSize","make","enableLineBreaks","fetchURL","defaultStyle","raw","rawPlugin","allowPasteHTML","personality","uploadURL","titleInput","titleKeydownHandler","focusRedactor","firstBlock","redactor","firstChild","firstToolWrapper","aloneTextNode","caret","targetClicked","formId","hidePlaceholderClass","holder","onclick","Promise","all","map","loadResource","resource","scriptUrl","script","styleUrl","importScript","importStyle","getForm","atlasForm","forms","atlas","JSONinput","hidden","saver","saveBlocks","notifications","stringify","state","jsonOutput","submitResponse","redirect","openEditorFullscreen","cdxEditorPersonality","installedModules","__webpack_require__","moduleId","getter","getDefault","getModuleExports","property","ui","cite","photoPreview","create","tagName","className","properties","nameInput","savedName","citeInput","savedCite","div","contentEditable","urlInput","savedUrl","savedPhoto","extractData","nameEl","citeEl","urlEl","toolData","sanitizerConfig","rel","b","wrapTextWithParagraphs","clean","uploader","updatePreview","preview","makePreview","reader","FileReader","readAsDataURL","onload","result","selectPhotoButton","failed","photoClicked","selectAndUpload","bind","pluginHolder","resolve","savingData","cdxEditorLink","linkHolder","linkRendered","cover","backgroundImage","embedTitle","description","linkText","linkUrl","smallCover","bigCover","linkSettings","linkSettingsItem","label","currentNode","inputError","labelLoading","labelFinish","settingsItemActive","drawInput","drawLabel","drawLinkHolder","drawEmbed","drawSettingsHolder","drawSettingsItem","getDataFromHTML","URLPasted","Symbol","iterator","constructor","toolbar","close","switchBlock","clipboardData","getData","scriptPath","instanceName","reject","prefixJS","defer","onerror","head","stylePath","prefixCSS","offsetToShow","layoutWidth","clickableZone","resizeStopWatcher","layoutHolderId","layout","offsetWidth","makeUI","scrollPage","windowScrollHandler","sizeChanged","resize","yCoords","notTheTop","windowWidth","clientWidth","leftColumtWidth","clearTimeout","arrow","emptyBrandingClass","loadingClass","preloaderClass","preloadShown","preload","fullUrl","previewUrl","preloader","pin","currentItemClicked","openWriting","removeHandler","newChild","addToMenu","addToMain","getResponse","replaceMenu","updateSiteMenu","currentItemMenu","newResponseMenuText","oldMenu","newMenu","setCover","setCoverShowed","TRANSPORT_PAGE_COVER","toggleButton","pageIsland","setCoverButton","isNaN","coverHolder","preivew","updateCoverImage","update","imageData","isPreview","ToggleEvent","CustomEvent","CLASSES","checked","defaultCheckbox","NAMES","defaultInput","prepareCheckbox","dispatchEvent","codexSpecial","loaded","g","lang","x","textSizeSwitcher","colorSwitchers","colorSwitcher","included","excludeModificator","excluded","position","bottom","right","A","localStorage","getItem","color","textSize","circle","enabled","disabled","setItem","removeItem","textSizeIncreased","iconButton","decreaseSize","increaseSize","textSise","h","textButton","ru","en","blue","green","white","toString","join"],"mappings":"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","file":"./public/build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 130f0f6cea0d5223c7cd","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/**\n * Require CSS build\n */\nrequire('../css/main.css');\n\n/**\n * Import Dispatcher for Frontend Modules initialization\n */\nimport moduleDispatcher from 'module-dispatcher';\n\n/**\n * Codex client\n * @author Savchenko Peter <specc.dev@gmail.com>\n */\nvar codex = {};\n\ncodex = function () {\n\n    'use strict';\n\n   /**\n    * Static nodes cache\n    */\n\n    codex.nodes = {\n        content: null\n    };\n\n   /**\n    * @var Application settings\n    * @type {Object}\n    * @type {Number} appSettings.uploadMaxSize    - max size for Editor uploads in MB\n    */\n    codex.appSettings = {\n        uploadMaxSize: 25\n    };\n\n   /**\n    * Initiztes application\n    * @param {Object} appSettings - initial settings\n    */\n    codex.init = function (appSettings) {\n\n        /**\n         * Accept settings\n         */\n        for (var key in appSettings) {\n\n            codex.appSettings[key] = appSettings[key];\n\n        }\n\n        codex.docReady(function () {\n\n            initModules();\n\n        });\n\n\n    };\n\n   /**\n    * Function responsible for modules initialization\n    * Called no earlier than document is ready\n    */\n    function initModules() {\n\n      /**\n       * Instantiate moduleDispatcher to init Modules\n       * @type {moduleDispatcher}\n       */\n        new moduleDispatcher({\n            Library : codex\n        });\n\n       /**\n        * CodeX Special\n        *\n        * Availiable options:\n        *    position {String} (optional) — toolbar position on screen\n        *        'top-left', 'bottom-right', 'bottom-left', 'top-right'\n        *    blockId {String} (optional) — toolbar wrapper\n        *    lang {String} (optional) — language 'ru' or 'en'. (default: 'ru')\n        */\n        codex.special.init({\n            blockId: 'js-contrast-version-holder'\n        });\n\n       /**\n        * Stylize custom checkboxes\n        */\n        codex.checkboxes.init();\n\n       /**\n        * Init approval buttons\n        */\n        codex.content.approvalButtons.init();\n\n       /**\n        * Enable textarea autoresizer\n        */\n        codex.autoresizeTextarea.init();\n\n       /**\n        * Activate scroll-up button\n        */\n        codex.scrollUp.init('js-layout-holder');\n\n       /**\n        * Client is ready\n        */\n        codex.core.log('Initialized', 'CodeX', 'info');\n\n       /**\n        * Initiate branding preload\n        */\n        codex.branding.init();\n\n        /**\n         * Set listener for mobile menu toggler\n         */\n        codex.content.setMobileMenuToggler('js-mobile-menu-toggler');\n\n    };\n\n    return codex;\n\n}();\n\n/**\n * Document ready handler\n */\ncodex.docReady = function (f) {\n\n    /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\n\n};\n\n/**\n * Load modules\n */\ncodex.core = require('./modules/core');\ncodex.ajax = require('./modules/ajax');\ncodex.transport = require('./modules/transport');\ncodex.content = require('./modules/content');\ncodex.appender = require('./modules/appender');\ncodex.parser = require('./modules/parser');\ncodex.comments = require('./modules/comments');\ncodex.alerts = require('./modules/alerts');\ncodex.islandSettings = require('./modules/islandSettings');\ncodex.autoresizeTextarea = require('./modules/autoresizeTextarea');\ncodex.user = require('./modules/user');\ncodex.sharer = require('./modules/sharer');\ncodex.writing = require('./modules/writing');\ncodex.loader = require('./modules/loader');\ncodex.scrollUp = require('./modules/scrollUp');\ncodex.branding = require('./modules/branding');\ncodex.pages = require('./modules/pages');\ncodex.checkboxes = require('./modules/checkboxes');\ncodex.logo = require('./modules/logo');\ncodex.special = require('codex.special');\n\nmodule.exports = codex;\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/main.js","/*!\n * CodeX Module Dispatcher — Initialize frontend Modules from the DOM without inline scripts\n * \n * @copyright CodeX Team <team@ifmo.su>\n * @license MIT https://github.com/codex-team/dispatcher/LICENSE\n * @author @polinashneider https://github.com/polinashneider\n * @version 0.0.1\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.moduleDispatcher=t():e.moduleDispatcher=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){var n=t.name,o=t.element,s=t.settings,i=t.moduleClass;r(this,e),this.name=n,this.element=o,this.settings=s,this.moduleClass=i}return s(e,[{key:\"init\",value:function(){try{console.assert(this.moduleClass.init instanceof Function,\"Module «\"+this.name+\"» should implement init method\"),this.moduleClass.init instanceof Function&&(this.moduleClass.init(this.settings,this.element),console.log(\"Module «\"+this.name+\"» initialized\"))}catch(e){console.warn(\"Module «\"+this.name+\"» was not initialized because of \",e)}}},{key:\"destroy\",value:function(){this.moduleClass.destroy instanceof Function&&(this.moduleClass.destroy(),console.log(\"Module «\"+this.name+\"» destroyed.\"))}}]),e}(),u=function(){function e(t){r(this,e),this.Library=t.Library||window,this.modules=this.findModules(document),this.initModules()}return s(e,[{key:\"findModules\",value:function(e){for(var t=[],n=e.querySelectorAll(\"[data-module]\"),r=n.length-1;r>=0;r--)t.push.apply(t,o(this.extractModulesData(n[r])));return t}},{key:\"extractModulesData\",value:function(e){var t=this,n=[],o=e.dataset.module;return o=o.replace(/\\s+/,\" \"),o.split(\" \").forEach(function(o,r){var s=new i({name:o,element:e,settings:t.getModuleSettings(e,r,o),moduleClass:t.Library[o]});n.push(s)}),n}},{key:\"getModuleSettings\",value:function(e,t,n){var o=e.querySelector(\"module-settings\"),r=void 0;if(!o)return null;try{r=o.textContent.trim(),r=JSON.parse(r)}catch(e){return console.warn(\"Can not parse Module «\"+n+\"» settings bacause of: \"+e),console.groupCollapsed(n+\" settings\"),console.log(r),console.groupEnd(),null}return Array.isArray(r)?r[t]?r[t]:null:0===t?r:(console.warn(\"Wrong settings format. For several Modules use an array instead of object.\"),null)}},{key:\"initModules\",value:function(){console.groupCollapsed(\"ModuleDispatcher\"),this.modules.forEach(function(e){e.init()}),console.groupEnd()}}]),e}();t.default=u}])});\n\n\n// WEBPACK FOOTER //\n// ./node_modules/module-dispatcher/lib/moduleDispatcher.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/main.css\n// module id = 3\n// module chunks = 0","/**\n* Significant core methods\n*/\n\nmodule.exports = {\n\n    /** Logging method */\n    log : function (str, prefix, type, arg) {\n\n        var staticLength = 32;\n\n        if (prefix) {\n\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\n\n            while (prefix.length < staticLength - 1) {\n\n                prefix += ' ';\n\n            }\n\n            prefix += ':';\n            str = prefix + str;\n\n        }\n\n        type = type || 'log';\n\n        try {\n\n            if ('console' in window && window.console[ type ]) {\n\n                if (arg) console[type](str, arg);\n                else console[type](str);\n\n            }\n\n        } catch(e) {}\n\n    },\n\n    /**\n    * @return {object} dom element real offset\n    */\n    getOffset : function (elem) {\n\n        var docElem, win, rect, doc;\n\n        if (!elem) {\n\n            return;\n\n        }\n\n        /**\n        * Support: IE <=11 only\n        * Running getBoundingClientRect on a\n        * disconnected node in IE throws an error\n        */\n        if (!elem.getClientRects().length) {\n\n            return {\n                top: 0,\n                left: 0\n            };\n\n        }\n\n        rect = elem.getBoundingClientRect();\n\n        /** Make sure element is not hidden (display: none) */\n        if (rect.width || rect.height) {\n\n            doc = elem.ownerDocument;\n            win = window;\n            docElem = doc.documentElement;\n\n            return {\n                top: rect.top + win.pageYOffset - docElem.clientTop,\n                left: rect.left + win.pageXOffset - docElem.clientLeft\n            };\n\n        }\n\n        /** Return zeros for disconnected and hidden elements (gh-2310) */\n        return rect;\n\n    },\n\n    /**\n    * Checks if element visible on screen at the moment\n    * @param {Element} - HTML NodeElement\n    */\n    isElementOnScreen : function (el) {\n\n        var elPositon    = codex.core.getOffset(el).top,\n            screenBottom = window.scrollY + window.innerHeight;\n\n        return screenBottom > elPositon;\n\n    },\n\n    /**\n    * Returns computed css styles for element\n    * @param {Element} el\n    */\n    css : function (el) {\n\n        return window.getComputedStyle(el);\n\n    },\n\n    /**\n    * Helper for inserting one element after another\n    */\n    insertAfter : function (target, element) {\n\n        target.parentNode.insertBefore(element, target.nextSibling);\n\n    },\n\n    /**\n    * Replaces node with\n    * @param {Element} nodeToReplace\n    * @param {Element} replaceWith\n    */\n    replace : function (nodeToReplace, replaceWith) {\n\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n\n    },\n\n    /**\n    * Helper for insert one element before another\n    */\n    insertBefore : function (target, element) {\n\n        target.parentNode.insertBefore(element, target);\n\n    },\n\n    /**\n    * Returns random {int} between numbers\n    */\n    random : function (min, max) {\n\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n\n    },\n\n    /**\n    * Attach event to Element in parent\n    * @param {Element} parentNode    - Element that holds event\n    * @param {string} targetSelector - selector to filter target\n    * @param {string} eventName      - name of event\n    * @param {function} callback     - callback function\n    */\n    delegateEvent : function (parentNode, targetSelector, eventName, callback) {\n\n        parentNode.addEventListener(eventName, function (event) {\n\n            var el = event.target, matched;\n\n            while (el && !matched) {\n\n                matched = el.matches(targetSelector);\n\n                if (!matched) el = el.parentElement;\n\n            }\n\n            if (matched) {\n\n                callback.call(event.target, event, el);\n\n            }\n\n        }, true);\n\n    },\n\n\n    /**\n    * Readable DOM-node types map\n    */\n    nodeTypes : {\n        TAG     : 1,\n        TEXT    : 3,\n        COMMENT : 8,\n        DOCUMENT_FRAGMENT : 11\n    },\n\n    /**\n    * Readable keys map\n    */\n    keys : { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, LEFT: 37, UP: 38, DOWN: 40, RIGHT: 39, DELETE: 46, META: 91 },\n\n    /**\n    * @protected\n    * Check object for DOM node\n    */\n    isDomNode : function (el) {\n\n        return el && typeof el === 'object' && el.nodeType && el.nodeType == this.nodeTypes.TAG;\n\n    },\n\n    /**\n    * Parses string to nodeList\n    * Removes empty text nodes\n    * @param {string} inputString\n    * @return {array} of nodes\n    *\n    * Does not supports <tr> and <td> on firts level of inputString\n    */\n\n    parseHTML : function (inputString) {\n\n        // var templatesSupported = spark.supports.templates();\n\n        var contentHolder,\n            childs,\n            parsedNodes = [];\n\n        // if ( false &&   templatesSupported ) {\n\n        //     contentHolder = document.createElement('template');\n        //     contentHolder.innerHTML = inputString.trim();\n\n        //     console.log(\"contentHolder: %o\", contentHolder);\n\n        //     childs = contentHolder.content.cloneNode(true).childNodes;\n\n        // } else {\n\n        contentHolder = document.createElement('div');\n        contentHolder.innerHTML = inputString.trim();\n\n        childs = contentHolder.childNodes;\n\n        // }\n\n\n        /**\n        * Iterate childNodes and remove empty Text Nodes on first-level\n        */\n        for (var i = 0, node; !!(node = childs[i]); i++) {\n\n            if (node.nodeType == codex.core.nodeTypes.TEXT && !node.textContent.trim()) {\n\n                continue;\n\n            }\n\n            parsedNodes.push(node);\n\n        }\n\n        return parsedNodes;\n\n    },\n\n    /**\n    * Checks passed object for emptiness\n    * @require ES5 - Object.keys\n    * @param {object}\n    */\n    isEmpty : function (obj) {\n\n        return Object.keys(obj).length === 0;\n\n    },\n\n    /**\n    * Check for Element visibility\n    * @param {Element} el\n    */\n    isVisible : function (el) {\n\n        return el.offsetParent !== null;\n\n    },\n\n    setCookie : function (name, value, expires, path, domain) {\n\n        var str = name + '=' + value;\n\n        if (expires) str += '; expires=' + expires.toGMTString();\n        if (path)    str += '; path=' + path;\n        if (domain)  str += '; domain=' + domain;\n\n        document.cookie = str;\n\n    },\n\n    getCookie : function (name) {\n\n        var dc = document.cookie;\n\n        var prefix = name + '=',\n            begin = dc.indexOf('; ' + prefix);\n\n        if (begin == -1) {\n\n            begin = dc.indexOf(prefix);\n            if (begin !== 0) return null;\n\n        } else\n            begin += 2;\n\n        var end = document.cookie.indexOf(';', begin);\n\n        if (end == -1) end = dc.length;\n\n        return unescape(dc.substring(begin + prefix.length, end));\n\n    },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/core.js","/**\n* AJAX module\n*/\nvar ajax = (function () {\n\n    /**\n    * @usage codex.ajax.call();\n    */\n    var call = function (data) {\n\n        if (!data || !data.url) return;\n\n        var XMLHTTP          = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject('Microsoft.XMLHTTP'),\n            successFunction  = function () {};\n\n        data.async           = true;\n        data.type            = data.type || 'GET';\n        data.data            = data.data || '';\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\n        successFunction      = data.success || successFunction;\n\n        if (data.type == 'GET' && data.data) {\n\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\n\n        }\n\n        if (data.withCredentials) {\n\n            XMLHTTP.withCredentials = true;\n\n        }\n\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\n\n            data.beforeSend.call();\n\n        }\n\n        XMLHTTP.open(data.type, data.url, data.async);\n\n        /**\n        * If we send FormData, we need no content-type header\n        */\n        if (!isFormData(data.data)) {\n\n            XMLHTTP.setRequestHeader('Content-type', data['content-type']);\n\n        }\n\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        XMLHTTP.onreadystatechange = function () {\n\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\n\n                successFunction(XMLHTTP.responseText);\n\n            }\n\n        };\n\n        XMLHTTP.send(data.data);\n\n    };\n\n    /**\n     * Function for checking is it FormData object to send.\n     * @param {Object} object to check\n     * @return boolean\n     */\n    function isFormData(object) {\n\n        return typeof object.append === 'function';\n\n    };\n\n    return {\n\n        call : call\n\n    };\n\n}());\n\nmodule.exports = ajax;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/ajax.js","/**\n * File transport module\n *\n * @module Transport module. Uploads file and returns some response from server\n * @copyright Codex-Team 2017\n *\n * @example\n *\n * Basic usage :\n *  codex.transport.init( {\n *      url : fetchURL,\n *      multiple : bool,\n *      accept : string  // http://htmlbook.ru/html/input/accept\n *      beforeSend : Function,\n *      success : Function,\n *      error : Function\n *      data : Object — additional data\n * });\n *\n * You can handle all of this event like:\n *  - what should happen before data sending with XMLHTTP\n *  - what should after success request\n *  - error handler\n */\n\nmodule.exports = ( function (transport) {\n\n    /** Empty configuration */\n    var config_ = null;\n\n    /** File holder */\n    transport.input = null;\n\n    /** initialize module */\n    transport.init = function (configuration) {\n\n        if (!configuration.url) {\n\n            codex.core.log('can\\'t send request because `url` is missed', 'Transport module', 'error');\n            return;\n\n        }\n\n        config_ = configuration;\n\n        var inputElement = document.createElement('INPUT');\n\n        inputElement.type = 'file';\n\n        if (config_ && config_.multiple) {\n\n            inputElement.setAttribute('multiple', 'multiple');\n\n        }\n\n        if (config_ && config_.accept) {\n\n            inputElement.setAttribute('accept', config_.accept);\n\n        }\n\n        inputElement.addEventListener('change', send_, false);\n\n        /** Save input */\n        transport.input = inputElement;\n\n        /** click input to show upload window */\n        clickInput_();\n\n    };\n\n    var clickInput_ = function () {\n\n        transport.input.click();\n\n    };\n\n    /**\n     * Sends transport AJAX request\n     */\n    var send_ = function () {\n\n        var url        = config_.url,\n            beforeSend = config_.beforeSend,\n            success    = config_.success,\n            error      = config_.error,\n            formData   = new FormData(),\n            files      = transport.input.files;\n\n        if (files.length > 1) {\n\n            for (var i = 0; i < files.length; i++) {\n\n                formData.append('files[]', files[i], files[i].name);\n\n            }\n\n        } else {\n\n            formData.append('files', files[0], files[0].name);\n\n        }\n\n        /**\n         * Append additional data\n         */\n        if ( config_.data !== null && typeof config_.data === 'object' ) {\n\n            for (var key in config_.data) {\n\n                formData.append(key, config_.data[key]);\n\n            }\n\n        }\n\n        codex.ajax.call({\n            type : 'POST',\n            data : formData,\n            url : url,\n            beforeSend : beforeSend,\n            success : success,\n            error : error\n        });\n\n    };\n\n    return transport;\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/transport.js","/**\n* Operations with pages\n*/\nmodule.exports = (function () {\n\n     /**\n    * Toggles classname on passed blocks\n    * @param {string} selector\n    * @param {string} toggled classname\n    */\n    var toggle = function ( which, marker ) {\n\n        var elements = document.querySelectorAll( which );\n\n        for (var i = elements.length - 1; i >= 0; i--) {\n\n            elements[i].classList.toggle( marker );\n\n        }\n\n    };\n\n\n    /**\n    * Toggles mobile menu\n    * Handles clicks on the hamburger icon in header\n    */\n    var toggleMobileMenu = function ( event ) {\n\n        var menu = document.getElementById('js-mobile-menu-holder'),\n            openedClass = 'mobile-menu-holder--opened';\n\n        menu.classList.toggle(openedClass);\n\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n        event.preventDefault();\n\n    };\n\n    /**\n     * Create listener for mobile menu toggler\n     * @param {String} id — toggler's id\n     */\n    var setMobileMenuToggler = function ( id ) {\n\n        var menuToggler = document.getElementById(id);\n\n        if ( !menuToggler ) {\n\n            return;\n\n        }\n\n        menuToggler.addEventListener('click', toggleMobileMenu);\n\n    };\n\n\n    /**\n    * Module uses for toggle custom checkboxes\n    * that has 'js-custom-checkbox' class and input[type=\"checkbox\"] included\n    * Example:\n    * <span class=\"js-custom-checkbox\">\n    *    <input type=\"checkbox\" name=\"\" value=\"1\"/>\n    * </span>\n    */\n    var customCheckboxes = {\n\n        /**\n        * This class specifies checked custom-checkbox\n        * You may set it on serverisde\n        */\n        CHECKED_CLASS : 'checked',\n\n        init : function () {\n\n            var checkboxes = document.getElementsByClassName('js-custom-checkbox');\n\n            if (checkboxes.length) for (var i = checkboxes.length - 1; i >= 0; i--) {\n\n                checkboxes[i].addEventListener('click', codex.content.customCheckboxes.clicked, false);\n\n            }\n\n        },\n\n        clicked : function () {\n\n            var checkbox  = this,\n                input     = this.querySelector('input'),\n                isChecked = this.classList.contains(codex.content.customCheckboxes.CHECKED_CLASS);\n\n            checkbox.classList.toggle(codex.content.customCheckboxes.CHECKED_CLASS);\n\n            if (isChecked) {\n\n                input.removeAttribute('checked');\n\n            } else {\n\n                input.setAttribute('checked', 'checked');\n\n            }\n\n        }\n    };\n\n    var approvalButtons = {\n\n        CLICKED_CLASS : 'click-again-to-approve',\n\n        init : function () {\n\n            var buttons = document.getElementsByClassName('js-approval-button');\n\n            if (buttons.length) for (var i = buttons.length - 1; i >= 0; i--) {\n\n                buttons[i].addEventListener('click', codex.content.approvalButtons.clicked, false);\n\n            }\n\n        },\n\n        clicked : function (event) {\n\n            var button    = this,\n                isClicked = this.classList.contains(codex.content.approvalButtons.CLICKED_CLASS);\n\n            if (!isClicked) {\n\n                /* временное решение, пока нет всплывающего окна подверждения важных действий */\n                button.classList.add(codex.content.approvalButtons.CLICKED_CLASS);\n\n                event.preventDefault();\n\n            }\n\n        }\n    };\n\n    return {\n\n        toggleMobileMenu : toggleMobileMenu,\n        setMobileMenuToggler : setMobileMenuToggler,\n        customCheckboxes : customCheckboxes,\n        approvalButtons : approvalButtons,\n        toggle : toggle\n\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/content.js","/**\n * Appender is being used for ajax-loading next pages of lists\n *\n *    codex.appender.init({\n *        buttonId      : 'buttonLoadNews',       // button for listening\n *        currentPage   : '<?= $page_number ?>',    // currentPage number\n *        url           : '/',                      // url for ajax-requests\n *        targetBlockId : 'list_of_news',           // target for appending\n *        autoLoading   : true,                     // allow loading when reach bottom while scrolling\n *    });\n */\n\nvar appender = {\n\n    /* Pagination. Here is a number of current page */\n    page : 1,\n\n    settings : null,\n\n    blockForItems : null,\n\n    loadMoreButton : null,\n\n    /**\n     * Button's text for saving it.\n     * On its place dots will be while news are loading\n     *\n     * @param {Object} button — button loading more news,\n     *                          passed from moduleDispatcher\n     */\n    buttonText : null,\n\n    init : function (settings, button) {\n\n        this.settings = settings;\n\n        /* Checking for existing button and field for loaded info */\n        this.loadMoreButton = button;\n\n        if (!this.loadMoreButton) return false;\n\n        this.blockForItems = document.getElementById(this.settings.targetBlockId);\n\n        if (!this.blockForItems) return false;\n\n        this.page       = settings.currentPage;\n        this.buttonText = this.loadMoreButton.innerHTML;\n\n        if (this.settings.autoLoading) this.autoLoading.isAllowed = true;\n\n        this.loadMoreButton.addEventListener('click', function (event) {\n\n            codex.appender.load();\n\n            event.preventDefault();\n\n            codex.appender.autoLoading.init();\n\n        }, false);\n\n        /** Force init if need no waiting for a first click */\n        if (this.settings.dontWaitFirstClick) {\n\n            codex.appender.autoLoading.init();\n\n        }\n\n\n    },\n\n    load : function () {\n\n        var requestUrl = this.settings.url + (parseInt(this.page) + 1);\n            // separator   = '<a href=\"' + requestUrl + '\"><div class=\"article post-list-item w_island separator\">Page ' + (parseInt(this.page) + 1) + '</div></a>';\n\n        codex.ajax.call({\n            type: 'post',\n            url: requestUrl,\n            data: {},\n            beforeSend : function () {\n\n                codex.appender.loadMoreButton.classList.add('loading');\n\n            },\n            success : function (response) {\n\n                response = JSON.parse(response);\n\n                if (response.success) {\n\n                    if (!response.list) return;\n\n                    /* Append items */\n                    // codex.appender.blockForItems.innerHTML += separator;\n                    codex.appender.blockForItems.innerHTML += response.list;\n\n                    /* Next page */\n                    codex.appender.page++;\n\n                    if (codex.appender.settings.autoLoading) {\n\n                        /* Removing restriction for auto loading */\n                        codex.appender.autoLoading.canLoad = true;\n\n                    }\n\n                    /* Checking for next page's existing. If no — hide the button for loading news and remove listener */\n                    if (!response.next_page) codex.appender.disable();\n\n                } else {\n\n                    codex.core.showException('Не удалось подгрузить новости');\n\n                }\n\n                codex.appender.loadMoreButton.classList.remove('loading');\n\n            }\n\n        });\n\n    },\n\n    disable : function () {\n\n        codex.appender.loadMoreButton.style.display = 'none';\n\n        if (codex.appender.autoLoading.isLaunched) {\n\n            codex.appender.autoLoading.disable();\n\n        }\n\n    },\n\n    autoLoading : {\n\n        isAllowed : false,\n\n        isLaunched : false,\n\n        /**\n         * Possibility to load news by scrolling.\n         * Restriction for reduction requests which could be while scrolling\n         */\n        canLoad : true,\n\n        init : function () {\n\n            if (!this.isAllowed) return;\n\n            window.addEventListener('scroll', codex.appender.autoLoading.scrollEvent);\n\n            codex.appender.autoLoading.isLaunched = true;\n\n        },\n\n        disable : function () {\n\n            window.removeEventListener('scroll', codex.appender.autoLoading.scrollEvent);\n\n            codex.appender.autoLoading.isLaunched = false;\n\n        },\n\n        scrollEvent : function () {\n\n            var scrollReachedEnd = window.pageYOffset + window.innerHeight >= document.body.clientHeight;\n\n            if (scrollReachedEnd && codex.appender.autoLoading.canLoad) {\n\n                codex.appender.autoLoading.canLoad = false;\n\n                codex.appender.load();\n\n            }\n\n        },\n\n    }\n\n};\n\nmodule.exports = appender;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/appender.js","/**\n * Parser module\n * @author Taly Guryn\n */\nvar parser = {\n\n    input : null,\n\n    init : function () {\n\n        // this.input = document.getElementById(settings.input_id);\n\n        var _this = this;\n\n        this.input.addEventListener('paste', function () {\n\n            _this.inputPasteCallback();\n\n        }, false);\n\n    },\n\n    inputPasteCallback : function () {\n\n        var e = this.input;\n\n        var _this = this;\n\n        window.setTimeout(function () {\n\n            _this.sendRequest(e.value);\n\n        }, 100);\n\n    },\n\n\n    sendRequest : function (url) {\n\n        codex.core.ajax({\n            type: 'get',\n            url: '/ajax/get_page',\n            data: { 'url' : url },\n            success: function (response) {\n\n                var title, content, sourceLink;\n\n                if ( response.success == 1) {\n\n                    title = document.getElementById('page_form_title');\n                    content = document.getElementById('page_form_content');\n                    sourceLink = document.getElementById('source_link');\n\n                    title.value = response.title;\n                    content.value = response.article;\n                    sourceLink.value = url;\n\n                    // while we have no own editor, we should use this getting element\n                    // cause I can't edit code for external editor\n                    document.getElementsByClassName('redactor_redactor')[0].innerHTML = response.article;\n\n                } else {\n\n                    codex.core.showException('Не удалось импортировать страницу');\n\n                }\n\n            }\n\n        });\n\n    }\n};\n\nmodule.exports = parser;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/parser.js","/**\n * Comments module\n * @author  @guryn @neSpecc\n * @copyright CodeX Team https://github.com/codex-team\n * @version 1.1.0\n */\nmodule.exports = (function () {\n\n    var commentsList = null,\n        anchor       = document.location.hash;\n\n    var CSS_ = {\n        replyForm :         'comments-form',\n        replyTextarea :     'comment-form__text',\n        replyOpened :       'comment-form__placeholder--opened',\n        replySubmitButton : 'comment-form__button',\n        highlighted :       'comment--highligthed'\n    };\n\n    /**\n     * Settings-menu toggler selector\n     * @type {String}\n     */\n    var menuTogglerSelector = '.js-comment-settings';\n\n    /**\n     * Initialize comments\n     * @param {Object} data params\n     * @param {Object} list — list of comments,\n     *                        passed from moduleDispatcher\n     */\n    function init(data, list) {\n\n        commentsList = list;\n\n        if (anchor) {\n\n            highligthAnchor();\n\n        }\n\n    }\n\n    /**\n     * Remove holder and append form for comment\n     * @param {Element} placeholder 'Write reply...' button\n     */\n    function reply( replyButton ) {\n\n        /** If reply already opened, do noting */\n        if ( replyButton.classList.contains( CSS_.replyOpened ) ) {\n\n            return;\n\n        }\n\n        /** Get reply params from dataset */\n        var replyParams = {\n            parentId : replyButton.dataset.parentId,\n            rootId   : replyButton.dataset.rootId,\n            action   : replyButton.dataset.action\n        };\n\n        /** Create reply form */\n        var form = createForm( replyParams );\n\n        /** Insert form after reply button */\n        codex.core.insertAfter( replyButton, form );\n\n        replyButton.classList.add( CSS_.replyOpened );\n        getFormTextarea(form).focus();\n\n    }\n\n    /**\n     * Returns reply form\n     *\n     * @param {object} params\n     * @param {Number} params.parentId     parent comment's id\n     * @param {Number} params.rootId       root comment's id\n     * @param {String} params.action       URL for saving\n     *\n     * @return {Element} element that holds textarea and submit-button\n     */\n    function createForm( params ) {\n\n        var textarea     = createTextarea(),\n            button       = createButton(),\n            form         = document.createElement('DIV');\n\n        form.classList.add(CSS_.replyForm);\n\n        /** Store data in Textarea */\n        textarea.dataset.parentId = params.parentId;\n        textarea.dataset.rootId   = params.rootId;\n        textarea.dataset.action   = params.action;\n\n        form.appendChild(textarea);\n        form.appendChild(button);\n\n        return form;\n\n    }\n\n    /** Return textarea for form for comment */\n    function createTextarea() {\n\n        var textarea = document.createElement('TEXTAREA');\n\n        textarea.classList.add(CSS_.replyTextarea);\n        textarea.placeholder = 'Ваш комментарий';\n\n        textarea.addEventListener('keydown', keydownSubmitHandler, false);\n        textarea.addEventListener('blur', blurTextareaHandler, false);\n\n        codex.autoresizeTextarea.addListener(textarea);\n\n        return textarea;\n\n    }\n\n    /** Return submit button for form*/\n    function createButton() {\n\n        var button = document.createElement('DIV');\n\n        button.classList.add( CSS_.replySubmitButton, 'button', 'master');\n        button.textContent = 'Отправить';\n\n        button.addEventListener('click', submitClicked_, false);\n\n        return button;\n\n    }\n\n    /**\n     * Reply submit button click handler\n     */\n    function submitClicked_() {\n\n        var submit = this,\n            form   = submit.parentNode,\n            textarea = getFormTextarea(form);\n\n        send_( textarea );\n\n    }\n\n    /* Return textarea for given form */\n    function getFormTextarea(form) {\n\n        return form.getElementsByTagName('TEXTAREA')[0];\n\n    }\n\n    /**\n     * Remove form on textarea blur\n     * @param {Event} blur Event\n     */\n    function blurTextareaHandler( event ) {\n\n        var textarea  = event.target,\n            form      = textarea.parentNode,\n            commentId = textarea.dataset.parentId;\n\n        if (!textarea.value.trim()) {\n\n            removeForm(form, commentId);\n\n        }\n\n    }\n\n    /**\n     * Removes reply form\n     * @param {Element} form\n     * @param {Number} commentId   reply target comment id\n     */\n    function removeForm( form, commentId ) {\n\n        var replyButton = document.getElementById('reply' + commentId );\n\n        form.remove();\n        replyButton.classList.remove(CSS_.replyOpened);\n\n    }\n\n    /**\n     * Catch Ctrl+Enter or Cmd+Enter for send form\n     * @param {Event} event    Keydown Event\n     */\n    function keydownSubmitHandler(event) {\n\n        var ctrlPressed  = event.ctrlKey || event.metaKey,\n            enterPressed = event.keyCode == 13,\n            textarea = event.target;\n\n        if ( ctrlPressed && enterPressed ) {\n\n            send_( textarea );\n\n            event.preventDefault();\n\n        }\n\n    }\n\n    /**\n     * Ajax function for submit comment\n     * @param {Element} textarea    input with dataset and text\n     */\n    function send_( textarea ) {\n\n        var formData  = new FormData(),\n            form      = textarea.parentNode,\n            submitBtn = form.querySelector('.' + CSS_.replySubmitButton),\n            rootId    = textarea.dataset.rootId,\n            parentId  = textarea.dataset.parentId,\n            actionURL = textarea.dataset.action;\n\n        formData.append('root_id', rootId);\n        formData.append('parent_id', parentId);\n        formData.append('comment_text', textarea.value);\n        formData.append('csrf', window.csrf);\n\n        codex.ajax.call({\n            type: 'POST',\n            url: actionURL,\n            data: formData,\n            beforeSend : function () {\n\n                submitBtn.classList.add('loading');\n\n            },\n            success : function (response) {\n\n                var comment;\n\n                submitBtn.classList.remove('loading');\n\n                response = JSON.parse(response);\n\n                if (!response.success) {\n\n                    codex.alerts.show({\n                        type: 'error',\n                        message: response.error\n                    });\n                    return;\n\n                }\n\n                /** Remove form and return placeholder */\n                removeForm(form, parentId);\n\n                /** Remove empty-feed block */\n                removeEmptyCommentsBlock();\n\n                comment = codex.core.parseHTML(response.comment)[0];\n                commentsList.appendChild(comment);\n\n                /** Scroll down to the new comment */\n                window.scrollTo(0, document.body.scrollHeight);\n\n                /** Highligth new comment */\n                highligthComment(response.commentId);\n\n                /** If menu found, activate it */\n                activateMenu(comment);\n\n            }\n\n        });\n\n    }\n\n    /**\n     * Removes empty-feed motivation\n     */\n    function removeEmptyCommentsBlock() {\n\n        var emptyCommentsBlock = document.querySelector('.js-empty-comments');\n\n        if (!emptyCommentsBlock) {\n\n            return;\n\n        }\n\n        emptyCommentsBlock.remove();\n\n    }\n\n    /**\n     * If menu-toggler found in comment\n     * @return {Element} comment - comment's island\n     */\n    function activateMenu( comment ) {\n\n        var  menuToggler = comment.querySelector(menuTogglerSelector);\n\n        if (!menuToggler) {\n\n            return;\n\n        }\n\n        codex.islandSettings.prepareToggler(menuToggler, menuTogglerSelector);\n\n    }\n\n    /**\n     * Highligth comment by id for a time\n     * @param {Number} commentId   id comment to highlight\n     */\n    function highligthComment(commentId) {\n\n        var comment = document.getElementById('comment' + commentId);\n\n        comment.classList.add(CSS_.highlighted);\n\n        window.setTimeout(function () {\n\n            comment.classList.remove(CSS_.highlighted);\n\n        }, 500);\n\n    }\n\n    /** Highligth comment if anchor is in url */\n    function highligthAnchor() {\n\n        var numbers = anchor.match(/\\d+/),\n            commentId;\n\n        if (!numbers) return;\n\n        commentId = numbers[0];\n\n        highligthComment(commentId);\n\n    }\n\n    /**\n     * Comment removing action\n     * @return {Event} click Event\n     */\n    function remove() {\n\n        var itemClicked = this,\n            targetId    = itemClicked.dataset.id;\n\n        if (!window.confirm('Подтвердите удаление комментария')) {\n\n            return;\n\n        }\n\n        document.location = '/delete-comment/' + targetId;\n\n    }\n\n    return {\n        init : init,\n        reply : reply,\n        remove : remove\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/comments.js","/**\n* Notifications tips module\n*/\nmodule.exports = (function () {\n\n    require('../../css/modules/alerts.css');\n\n    var CSS_ = {\n        wrapper : 'cdx-notifies-wrapper',\n        notification : 'cdx-notifies',\n        crossBtn: 'cdx-notifies-cross'\n    };\n\n    var wrapper_ = null;\n\n    function prepare_() {\n\n        if ( wrapper_ ) {\n\n            return true;\n\n        }\n\n        wrapper_ = document.createElement('DIV');\n        wrapper_.classList.add(CSS_.wrapper);\n\n        document.body.appendChild(wrapper_);\n\n    }\n\n    /**\n    * @param {Object} options:\n    *\n    * @property {String} type    - type of notification. Just adds {CSS_.notification + '--' + type} class. 'notify' by default\n    * @property {String} message - text to notify, can contains HTML\n    * @property {String} time    - expiring time\n    */\n    function show(options) {\n\n        prepare_();\n\n        var notify  = document.createElement('DIV'),\n            cross   = document.createElement('DIV'),\n            message = options.message,\n            type    = options.type || 'notify',\n            time    = options.time || 8000;\n\n        if (!message) {\n\n            return;\n\n        }\n\n        notify.classList.add(CSS_.notification);\n        notify.classList.add(CSS_.notification + '--' + type);\n        notify.innerHTML = message;\n\n        cross.classList.add(CSS_.crossBtn);\n        cross.addEventListener('click', function () {\n\n            notify.remove();\n\n        });\n\n        notify.appendChild(cross);\n        wrapper_.appendChild(notify);\n\n        notify.classList.add('bounceIn');\n\n        window.setTimeout(function () {\n\n            notify.remove();\n\n        }, time);\n\n    }\n\n    return {\n        show : show\n    };\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/alerts.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/modules/alerts.css\n// module id = 12\n// module chunks = 0","/**\n* Dropdown menu module\n* @author: @ndawn\n*/\n\nmodule.exports = (function () {\n\n    /**\n     * Menu block cache\n     * @type {Element|null}\n     */\n    var menuHolder = null;\n\n    /**\n     * Activated menus\n     * @type {Array}\n     */\n    var activated = [];\n\n    /**\n     * CSS class names\n     * @type {Object}\n     */\n    var CSS = {\n        menu   : 'island-settings__menu',\n        item   : 'island-settings__item',\n        showed : 'island-settings__menu--showed'\n\n    };\n\n    /**\n     * Initialization\n     * @param  {Object} settings  - initial settings\n     */\n    var init = function (settings) {\n\n        var menuTogglers = document.querySelectorAll(settings.selector),\n            startIndex   = activated.length,\n            endIndex     = menuTogglers.length + activated.length;\n\n        for (var index = startIndex; index < endIndex; index++) {\n\n            /**\n             * Save initial object\n             */\n            activated.push({\n                el : menuTogglers[index],\n                settings: settings\n            });\n\n            prepareToggler(index, menuTogglers[index - startIndex]);\n\n        }\n\n    };\n\n    /**\n     * @public\n     * Add event listener to the toggler\n     * @param  {Number} index   - toggler initial index\n     * @param  {Element} toggler\n     */\n    var prepareToggler = function (index, toggler) {\n\n        /** Save initial selector to specify menu type */\n        toggler.dataset.index = index;\n        toggler.addEventListener('mouseover', menuTogglerHovered, false);\n        toggler.addEventListener('mouseleave', menuTogglerBlurred, false);\n\n    };\n\n    /**\n     * @private\n     *\n     * Island circled-icon mouseover handler\n     *\n     * @param {Event} event     mouseover-event\n     */\n    var menuTogglerHovered = function () {\n\n        var menuToggler = this,\n            menuParams;\n\n        /** Prevent mouseover handling multiple times */\n        if ( menuToggler.dataset.opened == 'true' ) {\n\n            return;\n\n        }\n\n        menuToggler.dataset.opened = true;\n\n        if (!menuHolder) {\n\n            menuHolder = createMenu();\n\n        }\n\n        /**\n         * Get current menu params\n         * @type {Object}\n         */\n        menuParams = getMenuParams(menuToggler.dataset.index);\n\n        console.assert(menuParams.items, 'Menu items missed');\n\n        fill(menuParams.items, menuToggler);\n        move(menuToggler);\n\n    };\n\n    /**\n     * Toggler blur handler\n     */\n    var menuTogglerBlurred = function () {\n\n        this.dataset.opened = false;\n\n    };\n\n    /**\n     * Return menu parametres by toggler index\n     * @param {Number}  index  - index got in init() method\n     * @return {Object}\n     */\n    var getMenuParams = function (index) {\n\n        return activated[index].settings;\n\n    };\n\n    /**\n     * Fills menu with items\n     * @param  {Array}   items     list of menu items\n     * @param  {Element} toggler   islan menu icon with data-attributes\n     */\n\n    var fill = function (items, toggler) {\n\n        var i,\n            itemData,\n            itemElement;\n\n        menuHolder.innerHTML = '';\n\n        for (i = 0; !!(itemData = items[i]); i++) {\n\n            itemElement = createItem(itemData);\n\n            /** Save index in dataset for edit-ability */\n            itemElement.dataset.itemIndex = i;\n\n            /** Pass all parametres stored in icon's dataset to the item's dataset */\n            for (var attr in toggler.dataset) {\n\n                itemElement.dataset[attr] = toggler.dataset[attr];\n\n            }\n\n            menuHolder.appendChild(itemElement);\n\n        }\n\n    };\n\n    /**\n    * @private\n    * Creates an option block\n    * @param {Object}   item          - menu item data\n    * @param {String}   item.title    - title\n    * @param {Function} item.handler  - click handler\n    *\n    * @return {Element} menu item with click handler\n    */\n    var createItem = function ( item ) {\n\n        var itemEl = document.createElement('LI');\n\n        itemEl.classList.add(CSS.item);\n\n        console.assert(item.title, 'islandSettings: item title is missed');\n\n        itemEl.textContent = item.title;\n        itemEl.addEventListener('click', itemClicked);\n\n        return itemEl;\n\n    };\n\n    /**\n     * Single callback for all items handler\n     * Calls defined handler on itemClicked (Menu li Element) context and trasmits arguments\n     */\n    var itemClicked = function () {\n\n        var itemEl = this,\n            togglerIndex = itemEl.dataset.index,\n            itemIndex = itemEl.dataset.itemIndex,\n            menuParams,\n            handler,\n            module,\n            method,\n            submethod,\n            args;\n\n        menuParams = getMenuParams(togglerIndex);\n\n        module = menuParams.items[itemIndex].handler.module;\n        method = menuParams.items[itemIndex].handler.method;\n        submethod = menuParams.items[itemIndex].handler.submethod;\n\n        if (module && method) {\n\n            handler = codex[module][method];\n\n            if (submethod) {\n\n                handler = codex[module][method][submethod];\n\n            }\n\n        } else {\n\n            handler = menuParams.items[itemIndex].handler;\n\n        }\n\n        args = menuParams.items[itemIndex].arguments;\n\n        handler.call(itemEl, args || {});\n\n    };\n\n    /**\n    * @private\n    * Creates the dropdown menu\n    */\n    var createMenu = function () {\n\n        var block = document.createElement('UL');\n\n        block.classList.add(CSS.menu);\n\n        return block;\n\n    };\n\n    /**\n    * Appends a menu to the container\n    * @param {Element} container - where to append menu\n    */\n    var move = function (container) {\n\n        container.appendChild(menuHolder);\n        menuHolder.classList.add(CSS.showed);\n\n    };\n\n    /**\n     * @public\n     * @description Updates menu item\n     * @param  {Number} togglerIndex   - Menu toggler initial index stored in toggler's dataset.index\n     * @param  {Number} itemIndex      - Item index stored in item's dataset.itemIndex\n     * @param  {String} title          - new title\n     * @param  {Function} handler      - new handler\n     * @param  {Object} args           - handler arguments\n     */\n    var updateItem = function (togglerIndex, itemIndex, title, handler, args) {\n\n        console.assert(activated[togglerIndex], 'Toggler was not found by index');\n\n        var currentMenu = activated[togglerIndex],\n            currentItemEl = menuHolder.childNodes[itemIndex],\n            currentItem;\n\n        if (!currentMenu) {\n\n            return;\n\n        }\n\n        currentItem = activated[togglerIndex].settings.items[itemIndex];\n\n        if ( title ) {\n\n            currentItem.title = title;\n\n        }\n\n        if ( args  ) {\n\n            currentItem.arguments = args;\n\n        }\n\n        if (handler && typeof handler == 'function') {\n\n            currentItem.handler = handler;\n\n        }\n\n        /** Update opened menu item text  */\n        if (menuHolder) {\n\n            if ( title ) {\n\n                currentItemEl.textContent = title;\n\n            }\n\n        }\n\n        codex.core.log('item updated %o', 'islandSettings', 'info', currentItem);\n\n    };\n\n    return {\n        init : init,\n        updateItem : updateItem,\n        prepareToggler : prepareToggler\n    };\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/islandSettings.js","/**\n* Module for comments textarea autoresize\n*/\nmodule.exports = (function () {\n\n    /**\n    * Textareas initialization\n    */\n    var init = function () {\n\n        var textareas = document.getElementsByClassName('js-autoresizable');\n\n        if (textareas.length) {\n\n            for (var i = 0; i < textareas.length; i++) {\n\n                addListener(textareas[i]);\n\n                checkScrollHeight(textareas[i]);\n\n            }\n\n        }\n\n    };\n\n    /**\n    * Add input event listener to textarea\n    *\n    * @param {Element} textarea — node which need to be able to autoresize\n    */\n    var addListener = function (textarea) {\n\n        textarea.addEventListener('input', textareaChanged, false);\n\n    };\n\n    /**\n    * Hanging events on textareas\n    */\n    var textareaChanged = function (event) {\n\n        var textarea = event.target;\n\n        checkScrollHeight(textarea);\n\n    };\n\n    /**\n    * Increasing textarea height\n    */\n    var checkScrollHeight = function (textarea) {\n\n        if (textarea.scrollHeight > textarea.clientHeight) {\n\n            textarea.style.height = textarea.scrollHeight + 'px';\n\n        }\n\n    };\n\n    return {\n        init: init,\n        addListener : addListener\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/autoresizeTextarea.js","/**\n * User methods module\n */\nmodule.exports = function () {\n\n    /**\n     * Manupulations with user photo\n     * @return {Object} - Module\n     */\n    var photo = function () {\n\n        /**\n         * Mark elements with this name=\"\" to dynamically update their sources\n         * @type {String}\n         */\n        var updatableElementsName = 'js-img-updatable';\n\n        /**\n         * Changes user's photo\n         * @param  {Event}  event   click event\n         */\n        var change = function ( event, transportType ) {\n\n            codex.transport.init({\n                url : '/upload/' + transportType,\n                success : uploaded,\n                error   : error\n            });\n\n        };\n\n        /**\n         * Uploading error\n         * @param  {Object} error\n         */\n        var error = function (uploadError) {\n\n            console.log(uploadError);\n\n        };\n\n        /**\n         * Photo uploading callback\n         * @param  {String} response    server answer\n         */\n        var uploaded = function (response) {\n\n            response = JSON.parse(response);\n\n            if ( !response.success ) {\n\n                codex.alerts.show({\n                    type: 'error',\n                    message: response.message || 'File uploading error :('\n                });\n\n                return;\n\n            }\n\n            console.assert( response.data && response.data.url, 'Wrong response data');\n\n            updateAll( response.data.url );\n\n        };\n\n        /**\n         * Updates all user photo sources\n         * @uses   updatableElementsName  to find img tags\n         * @param  {String} newSource\n         */\n        var updateAll = function ( newSource) {\n\n            var updatebleImages = document.getElementsByName(updatableElementsName);\n\n            for (var i = updatebleImages.length - 1; i >= 0; i--) {\n\n                updatebleImages[i].src = newSource;\n\n            }\n\n        };\n\n        return {\n            change : change\n        };\n\n    }();\n\n    /**\n     * Updatin user ROLE or STATUS\n     * @type {{status, role}}\n     */\n    var promote = function () {\n\n        var status = function (args) {\n\n            var itemClicked = this,\n                userId = itemClicked.dataset.id,\n                value = args.value;\n\n            sendRequest(itemClicked, 'status', userId, value);\n\n        };\n\n        var role = function (args) {\n\n            var itemClicked = this,\n                userId = itemClicked.dataset.id,\n                value = args.value;\n\n            sendRequest(itemClicked, 'role', userId, value);\n\n        };\n\n        /**\n         * Change user role or status request\n         * @param {Element} itemClicked     - menu item element\n         * @param {string}  field           - field to save (role|status)\n         * @param {Number}  userId          - target user id\n         * @param {Number}  value           - new value\n         */\n        var sendRequest = function (itemClicked, field, userId, value) {\n\n            var url = '/user/' + userId + '/change/' + field,\n                requestData = new FormData();\n\n            requestData.append('value', value);\n\n            codex.ajax.call({\n                url : url,\n                type : 'POST',\n                data: requestData,\n                beforeSend : function () {\n\n                    itemClicked.classList.add('loading');\n\n                },\n                success: function (response) {\n\n                    var menuIndex = itemClicked.dataset.index,\n                        itemIndex = itemClicked.dataset.itemIndex;\n\n                    response = JSON.parse(response);\n\n                    itemClicked.classList.remove('loading');\n\n                    codex.islandSettings.updateItem(menuIndex, itemIndex, response.buttonText, null, {\n                        value: response.buttonValue\n                    });\n\n                    codex.alerts.show({\n                        type: response.success ? 'success' : 'error',\n                        message: response.message || 'Не удалось сохранить изменения'\n                    });\n\n                }\n            });\n\n        };\n\n        return {\n            status : status,\n            role   : role\n        };\n\n    }();\n\n\n    var changePassword = function () {\n\n        var form    = null,\n            input   = null,\n            button  = null;\n        /**\n         * Shows form with input for current password\n         *\n         * @param lockButton\n         */\n        var showForm = function (lockButton) {\n\n            lockButton.classList.add('hide');\n\n            form = document.getElementById('change-password-form');\n            input = document.getElementById('change-password-input');\n\n            form.classList.remove('hide');\n\n\n        };\n\n        /**\n         * Handler for set password button\n         *\n         * @param form_\n         */\n        var set = function (form_) {\n\n            form = form_;\n            requestChange(form, true);\n            showSuccessMessage();\n\n        };\n\n        /**\n         * Requests email with change password link\n         *\n         * @param button_\n         * @param dontShowResponse - if TRUE, response will be ignored\n         */\n        var requestChange = function (button_, dontShowResponse) {\n\n            button = button_;\n            button.classList.add('loading');\n\n            var data = new FormData();\n\n            data.append('csrf', window.csrf);\n            data.append('currentPassword', input ? input.value : '');\n\n            codex.ajax.call({\n                url: '/user/passchange',\n                type: 'POST',\n                data: data,\n                success: dontShowResponse ? null : ajaxResponse,\n                error: ajaxResponse\n            });\n\n        };\n\n        /**\n         * Repeat password change email sending\n         *\n         * @param button_\n         */\n        var repeatEmail = function (button_) {\n\n            button_.classList.add('loading');\n\n            var data = new FormData();\n\n            data.append('csrf', window.csrf);\n            data.append('repeatEmail', true);\n\n            codex.ajax.call({\n                url: '/user/passchange',\n                type: 'POST',\n                data: data,\n                success: function () {\n\n                    button_.classList.remove('loading');\n\n                    codex.alerts.show({\n                        type: 'success',\n                        message: 'Мы отправили на вашу почту письмо'\n                    });\n\n                },\n                error: function () {\n\n                    button_.classList.remove('loading');\n\n                    codex.alerts.show({\n                        type: 'error',\n                        message: 'Произошла ошибка'\n                    });\n\n                }\n            });\n\n        };\n\n        var ajaxResponse = function (response) {\n\n            button.classList.remove('loading');\n\n            try {\n\n                response = JSON.parse(response);\n\n            } catch (e) {\n\n                response = {success: 0, message: 'Произошла ошибка'};\n\n            }\n\n            if (!response.success) {\n\n                if (input) input.classList.add('form__input--invalid');\n\n                codex.alerts.show({\n                    type: 'error',\n                    message:response.message\n                });\n\n\n            } else {\n\n                showSuccessMessage();\n                return;\n\n            }\n\n\n        };\n\n        /**\n         * Shows success email sending message\n         *\n         */\n        var showSuccessMessage = function () {\n\n            codex.alerts.show({\n                type: 'success',\n                message: 'Мы выслали инструкцию на вашу почту'\n            });\n\n            form.classList.add('hide');\n\n            form = document.getElementById('change-password-success');\n            form.classList.remove('hide');\n\n        };\n\n        return {\n            showForm: showForm,\n            requestChange: requestChange,\n            set: set,\n            repeatEmail: repeatEmail,\n        };\n\n    }();\n\n    /**\n     * Working with bio\n     */\n    var bio = function () {\n\n        /**\n         * Edited textarea cache\n         * @type {Element|null}\n         */\n        var textarea = null;\n\n        /**\n         * Edit bio click handler;\n         * @param {Element} button  - button clicked\n         */\n        var edit = function ( button ) {\n\n            var opened = button.querySelector('textarea');\n\n            if (opened) {\n\n                return;\n\n            }\n\n            textarea = document.createElement('TEXTAREA');\n            textarea.innerHTML = button.textContent.trim();\n            textarea.addEventListener('keydown', keydown);\n\n            button.innerHTML = '';\n            button.appendChild(textarea);\n\n            textarea.focus();\n\n            /** Fire autoresize */\n            codex.autoresizeTextarea.addListener(textarea);\n\n        };\n\n        /**\n         * Bio textarea keydowns\n         * Sends via AJAX by ENTER\n         */\n        var keydown = function ( event ) {\n\n            if ( event.keyCode == codex.core.keys.ENTER ) {\n\n                send(this.value);\n                event.preventDefault();\n\n            }\n\n        };\n\n        /**\n         * Sends bio field\n         * @param  {String} val textarea value\n         */\n        var send = function (val) {\n\n            if (!val.trim()) {\n\n                codex.alerts.show({\n                    type: 'error',\n                    message: 'Write something about yourself'\n                });\n                return;\n\n            }\n\n            var formData = new FormData();\n\n            formData.append('bio', val);\n            formData.append('csrf', window.csrf);\n\n            codex.ajax.call({\n                type : 'POST',\n                url : '/user/updateBio',\n                data : formData,\n                beforeSend: beforeSend,\n                success : saved\n            });\n\n        };\n\n        /**\n         * Simple beforeSend method\n         */\n        var beforeSend = function () {\n\n            textarea.classList.add('loading');\n\n        };\n\n        /**\n         * Success saving callback\n         */\n        var saved = function (response) {\n\n            response = JSON.parse(response);\n\n            if (!response.success || !response.bio) {\n\n                textarea.classList.remove('loading');\n                codex.alerts.show({\n                    type: 'error',\n                    message: 'Saving error, sorry'\n                });\n                return;\n\n            }\n\n            var newBio = document.createTextNode(response.bio || '');\n\n            /** Update user's CSRF token */\n            window.csrf = response.csrf;\n\n            codex.core.replace(textarea, newBio);\n\n        };\n\n        return {\n            edit: edit\n        };\n\n    }();\n\n    var email = function () {\n\n        var currentEmail    = null,\n            loadingButton   = null;\n\n        var saved = function (response) {\n\n            try {\n\n                response = JSON.parse(response);\n\n                if (response.success) {\n\n                    codex.core.replace(currentEmail.parentNode, codex.core.parseHTML(response.island)[0]);\n\n                    codex.alerts.show({\n                        type: 'success',\n                        message: 'Адрес почты обновлен. Теперь вам нужно подтвердить его, перейдя по ссылке в письме.'\n                    });\n\n                    currentEmail = null;\n                    return;\n\n                }\n\n            } catch (e) {}\n\n            loadingButton.classList.remove('loading');\n\n            codex.alerts.show({\n                type: 'error',\n                message: response.message || 'Произошла ошибка, попробуйте позже'\n            });\n\n        };\n\n        var send = function () {\n\n            if (currentEmail.value.trim() == '') {\n\n                codex.alerts.show({\n                    type: 'error',\n                    message: 'Введите email'\n                });\n\n                return;\n\n            }\n\n            loadingButton = this;\n            loadingButton.classList.add('loading');\n\n            var data = new FormData();\n\n            data.append('email', currentEmail.value);\n            data.append('csrf', window.csrf);\n\n            codex.ajax.call({\n                url: 'user/changeEmail',\n                type: 'POST',\n                data: data,\n                success: saved,\n                error: saved\n            });\n\n        };\n\n        var sendConfirmation = function (button) {\n\n            var success = function (response) {\n\n                response = JSON.parse(response);\n\n                codex.alerts.show({\n                    type: 'success',\n                    message: response.message\n                });\n                button.classList.remove('loading');\n\n            };\n\n            button.classList.add('loading');\n\n            codex.ajax.call({\n                url: '/ajax/confirmation-email',\n                success: success\n            });\n\n        };\n\n        var changed = function (input) {\n\n            if (currentEmail) {\n\n                return;\n\n            }\n\n            currentEmail = input;\n\n            var saveButton = document.createElement('BUTTON'),\n                sendButton = input.parentNode.querySelector('button');\n\n            if (sendButton) sendButton.classList.remove('master');\n\n            saveButton.classList.add('button', 'master');\n            saveButton.textContent = 'Сохранить';\n\n            saveButton.addEventListener('click', send);\n\n            input.oninput = null;\n            input.parentNode.appendChild(saveButton);\n\n        };\n\n        var set = function (button) {\n\n            button.classList.add('hide');\n\n            var form = document.getElementById('set-email-form');\n\n            form.classList.remove('hide');\n\n            currentEmail = document.getElementById('set-email-input');\n\n        };\n\n        return {\n            sendConfirmation: sendConfirmation,\n            changed: changed,\n            send: send,\n            set: set,\n        };\n\n    }();\n\n\n    return {\n        changePassword: changePassword,\n        promote: promote,\n        photo: photo,\n        bio : bio,\n        email: email,\n    };\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/user.js","var sharer = {\n\n    init : function () {\n\n        var shareButtons = document.querySelectorAll('.js-share');\n\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\n\n            shareButtons[i].addEventListener('click', sharer.click, true);\n\n        }\n\n    },\n\n    shareVk : function (data) {\n\n        var link  = 'https://vk.com/share.php?';\n\n        link += 'url='          + data.url;\n        link += '&title='       + data.title;\n        link += '&description=' + data.desc;\n        link += '&image='       + data.img;\n        link += '&noparse=true';\n\n        this.popup( link, 'vkontakte'  );\n\n    },\n\n    shareFacebook : function (data) {\n\n        var FB_APP_ID = 1740455756240878,\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\n\n        link += '&app_id='       + FB_APP_ID;\n        link += '&href='         + data.url;\n        link += '&redirect_uri=' + document.location.href;\n\n        this.popup( link, 'facebook' );\n\n    },\n\n    shareTwitter : function (data) {\n\n        var link = 'https://twitter.com/share?';\n\n        link += 'text='      + data.title;\n        link += '&url='      + data.url;\n        link += '&counturl=' + data.url;\n\n        this.popup( link, 'twitter' );\n\n    },\n\n    shareTelegram : function (data) {\n\n        var link  = 'https://telegram.me/share/url';\n\n        link += '?text=' + data.title;\n        link += '&url='  + data.url;\n\n        this.popup( link, 'telegram' );\n\n    },\n\n    popup : function ( url, socialType ) {\n\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\n\n        /**\n         * Write analytics goal\n         */\n        if ( window.yaCounter32652805 ) {\n\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\n\n        }\n\n    },\n\n    click : function (event) {\n\n        var target = event.target;\n\n        /**\n         * Social provider stores in data 'shareType' attribute on share-button\n         * But click may be fired on child-element in button, so we need to handle it.\n         */\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\n\n        if (!sharer[type]) return;\n\n        /**\n         * Sanitize share params\n         * @todo test for taint strings\n         */\n            // for (key in window.shareData){\n            //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\n            // }\n\n        var shareData = {\n\n            url:    target.dataset.url || target.parentNode.dataset.url,\n            title:  target.dataset.title || target.parentNode.dataset.title,\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\n            img:    target.dataset.img || target.parentNode.dataset.title\n\n        };\n\n        /**\n         * Fire click handler\n         */\n\n        sharer[type](shareData);\n\n    }\n\n};\n\nmodule.exports = sharer;\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/sharer.js","/**\n * Module for load and start codex-editor\n *\n * Using:\n *\n * codex.writing.prepare({\n *     holderId : 'placeForEditor',                                         // (required)\n *     hideEditorToolbar : <?= $hideEditorToolbar ? 'true' : 'false' ?>,\n *     items : <?= json_encode($page->blocks) ?: '[]' ?>,\n *     pageId   : <?= $page->id ?>,\n *     parentId : <?= $page->id_parent ?>,\n * }).then(\n *    codex.writing.init\n * );\n */\n\n\nmodule.exports = (function () {\n\n    /**\n     * CodeX Editor Personality-tool\n     * @see  https://github.com/codex-editor/personality\n     */\n    var personalityTool = require('exports-loader?cdxEditorPersonality!codex.editor.personality');\n\n    /**\n     * CodeX Editor link embed tool\n     * @see  https://github.com/codex-editor/link\n     */\n    var linkTool = require('exports-loader?cdxEditorLink!codex.editor.link');\n\n    var editorIsReady = false,\n        submitButton = null,\n        settings = {\n            hideEditorToolbar   : false,\n            titleId             : 'editorWritingTitle',\n            initialBlockPlugin  : 'paragraph',\n            data                : {items: []},\n            resources           : [],\n            holderId            : null,\n            pageId              : 0,\n            parentId            : 0,\n        };\n\n    /**\n     * Prepare editor's resourses\n     *\n     * @param  {Object} initSettings    base settings for editor\n     * @return {Promise}            all editor's resources are ready\n     */\n    var prepare = function (initSettings) {\n\n        mergeSettings(initSettings);\n\n        return loadEditorResources(settings.resources)\n                .then(function () {\n\n                    editorIsReady = true;\n\n                });\n\n    };\n\n    /**\n     * Fill module's settings by settings from params\n     *\n     * @param  {Object} initSettings  list of params from init\n     */\n    function mergeSettings(initSettings) {\n\n        for (var key in initSettings) {\n\n            settings[key] = initSettings[key];\n\n        }\n\n    }\n\n    /**\n     * Run editor\n     */\n    function startEditor() {\n\n        /**\n         * @todo get from server\n         */\n        var EDITOR_IMAGE = 1;\n        var EDITOR_FILE  = 2;\n        var EDITOR_PERSONALITY  = 6;\n\n        codex.editor.start({\n\n            holderId:  settings.holderId,\n            initialBlockPlugin : settings.initialBlockPlugin,\n            hideToolbar: settings.hideEditorToolbar,\n            sanitizer: {\n                tags : {\n                    p : {},\n                    a : {\n                        href: true,\n                        target: '_blank'\n                    }\n                }\n            },\n            tools : {\n                paragraph: {\n                    type               : 'paragraph',\n                    iconClassname      : 'ce-icon-paragraph',\n                    render             : window.paragraph.render,\n                    validate           : window.paragraph.validate,\n                    save               : window.paragraph.save,\n                    allowedToPaste     : true,\n                    showInlineToolbar  : true,\n                    destroy            : window.paragraph.destroy,\n                    allowRenderOnPaste : true\n                },\n                header: {\n                    type             : 'header',\n                    iconClassname    : 'ce-icon-header',\n                    appendCallback   : window.header.appendCallback,\n                    makeSettings     : window.header.makeSettings,\n                    render           : window.header.render,\n                    validate         : window.header.validate,\n                    save             : window.header.save,\n                    destroy          : window.header.destroy,\n                    displayInToolbox : true\n                },\n                image: {\n                    type                  : 'image',\n                    iconClassname         : 'ce-icon-picture',\n                    appendCallback        : window.image.appendCallback,\n                    prepare               : window.image.prepare,\n                    makeSettings          : window.image.makeSettings,\n                    render                : window.image.render,\n                    save                  : window.image.save,\n                    destroy               : window.image.destroy,\n                    isStretched           : true,\n                    showInlineToolbar     : true,\n                    displayInToolbox      : true,\n                    renderOnPastePatterns : window.image.pastePatterns,\n                    config: {\n                        uploadImage : '/upload/' + EDITOR_IMAGE,\n                        uploadFromUrl : ''\n                    }\n                },\n                attaches: {\n                    type             : 'attaches',\n                    displayInToolbox : true,\n                    iconClassname    : 'cdx-attaches__icon',\n                    prepare          : window.cdxAttaches.prepare,\n                    render           : window.cdxAttaches.render,\n                    save             : window.cdxAttaches.save,\n                    validate         : window.cdxAttaches.validate,\n                    destroy          : window.cdxAttaches.destroy,\n                    appendCallback   : window.cdxAttaches.appendCallback,\n                    config: {\n                        fetchUrl: '/upload/' + EDITOR_FILE,\n                        maxSize: codex.appSettings.uploadMaxSize * 1000,\n                    }\n                },\n                list: {\n                    type: 'list',\n                    iconClassname: 'ce-icon-list-bullet',\n                    make: window.list.make,\n                    appendCallback: null,\n                    makeSettings: window.list.makeSettings,\n                    render: window.list.render,\n                    validate: window.list.validate,\n                    save: window.list.save,\n                    destroy: window.list.destroy,\n                    displayInToolbox: true,\n                    showInlineToolbar: true,\n                    enableLineBreaks: true,\n                    allowedToPaste: true\n                },\n                link: {\n                    type             : 'link',\n                    iconClassname    : 'cdx-link-icon',\n                    displayInToolbox : true,\n                    prepare          : linkTool.prepare,\n                    render           : linkTool.render,\n                    makeSettings     : linkTool.settings,\n                    save             : linkTool.save,\n                    destroy          : linkTool.destroy,\n                    validate         : linkTool.validate,\n                    config           : {\n                        fetchURL         : '/fetchURL',\n                        defaultStyle     : 'smallCover'\n                    }\n                },\n                raw : {\n                    type: 'raw',\n                    displayInToolbox: true,\n                    iconClassname: 'raw-plugin-icon',\n                    render: window.rawPlugin.render,\n                    save: window.rawPlugin.save,\n                    validate: window.rawPlugin.validate,\n                    destroy: window.rawPlugin.destroy,\n                    enableLineBreaks: true,\n                    allowPasteHTML: true\n                },\n                personality: {\n                    type             : 'personality',\n                    displayInToolbox : true,\n                    iconClassname    : 'cdx-personality-icon',\n                    prepare          : personalityTool.prepare,\n                    render           : personalityTool.render,\n                    save             : personalityTool.save,\n                    validate         : personalityTool.validate,\n                    destroy          : personalityTool.destroy,\n                    enableLineBreaks : true,\n                    showInlineToolbar: true,\n                    config: {\n                        uploadURL: '/upload/' + EDITOR_PERSONALITY,\n                    }\n                }\n            },\n\n            data : settings.data\n        });\n\n        var titleInput = document.getElementById(settings.titleId);\n\n        /**\n         * Focus at the title\n         */\n        titleInput.focus();\n        titleInput.addEventListener('keydown', titleKeydownHandler );\n\n    }\n\n    /**\n     * Title input keydowns\n     * @description  By ENTER, sets focus on editor\n     * @param  {Event} event  - keydown event\n     */\n    var titleKeydownHandler = function (event) {\n\n        /* Set focus on Editor by Enter     */\n        if ( event.keyCode == codex.core.keys.ENTER ) {\n\n            event.preventDefault();\n\n            focusRedactor();\n\n        }\n\n    };\n\n    /**\n     * Temporary scheme to focus Codex Editor first-block\n     */\n    var focusRedactor = function () {\n\n        var firstBlock       = codex.editor.nodes.redactor.firstChild,\n            contentHolder    = firstBlock.firstChild,\n            firstToolWrapper = contentHolder.firstChild,\n            aloneTextNode;\n\n        /**\n         * Caret will not be placed in empty textNode, so we need textNode with zero-width char\n         */\n        aloneTextNode = document.createTextNode('\\u200B');\n\n        /**\n         * We need to append manually created textnode before returning\n         */\n        firstToolWrapper.appendChild(aloneTextNode);\n\n        codex.editor.caret.set(firstToolWrapper, 0, 0);\n\n    };\n\n    /**\n     * Public function for run editor\n     */\n    var init = function () {\n\n        if (!editorIsReady) return;\n\n        startEditor();\n\n    };\n\n    /**\n     * Show form and hide placeholder\n     *\n     * @param  {Element} targetClicked       placeholder with wrapper\n     * @param  {String}  formId               remove 'hide' from this form by id\n     * @param  {String}  hidePlaceholderClass add this class to placeholder\n     */\n    var open = function (targetClicked, formId, hidePlaceholderClass) {\n\n        if (!editorIsReady) return;\n\n        var holder = targetClicked;\n\n        document.getElementById(formId).classList.remove('hide');\n        holder.classList.add(hidePlaceholderClass);\n        holder.onclick = null;\n\n        init();\n\n    };\n\n    /**\n     * Load editor resources and append block with them to body\n     *\n     * @param  {Array} resources list of resources which should be loaded\n     * @return {Promise}\n     */\n    var loadEditorResources = function (resources) {\n\n        return Promise.all(\n            resources.map(loadResource)\n        );\n\n    };\n\n    /**\n     * Loads resource\n     *\n     * @param  {Object} resource name and paths for js and css\n     * @return {Promise}\n     */\n    function loadResource(resource) {\n\n        var name      = resource.name,\n            scriptUrl = resource.path.script,\n            styleUrl  = resource.path.style;\n\n        return Promise.all([\n            codex.loader.importScript(scriptUrl, name),\n            codex.loader.importStyle(styleUrl, name)\n        ]);\n\n    }\n\n    /**\n    * Prepares form to submit\n    */\n    var getForm = function () {\n\n        var atlasForm = document.forms.atlas;\n\n        if (!atlasForm) return;\n\n        /** CodeX.Editor */\n        var JSONinput = document.createElement('TEXTAREA');\n\n        JSONinput.name   = 'content';\n        JSONinput.id     = 'json_result';\n        JSONinput.hidden = true;\n        atlasForm.appendChild(JSONinput);\n\n        /**\n         * Save blocks\n         */\n        codex.editor.saver.saveBlocks();\n\n        return atlasForm;\n\n    };\n\n    /**\n     * Send ajax request with writing form data\n     * @param button - submit button (needed to add loading animation)\n     */\n    var submit = function (button) {\n\n        var title = document.forms.atlas.elements['title'],\n            form;\n\n        if (title.value.trim() === '') {\n\n            codex.editor.notifications.notification({\n                type: 'warn',\n                message: 'Заполните заголовок'\n            });\n\n            return;\n\n        }\n\n        form = getForm();\n\n        submitButton = button;\n\n        submitButton.classList.add('loading');\n\n        window.setTimeout(function () {\n\n            form.elements['content'].innerHTML = JSON.stringify({items: codex.editor.state.jsonOutput});\n\n            codex.ajax.call({\n                url: '/p/save',\n                data: new FormData(form),\n                success: submitResponse,\n                type: 'POST'\n            });\n\n        }, 500);\n\n    };\n\n    /**\n     * Response handler for page saving\n     * @param response\n     */\n    var submitResponse = function (response) {\n\n        submitButton.classList.remove('loading');\n\n        response = JSON.parse(response);\n\n        if (response.success) {\n\n            window.location = response.redirect;\n            return;\n\n        }\n\n        codex.editor.notifications.notification({\n            type: 'warn',\n            message: response.message\n        });\n\n    };\n\n    /**\n    * Submits writing form for opening in full-screan page without saving\n    */\n    var openEditorFullscreen = function () {\n\n\n        var form = getForm();\n\n        window.setTimeout(function () {\n\n            form.elements['content'].innerHTML = JSON.stringify({ items: codex.editor.state.jsonOutput });\n\n            form.submit();\n\n        }, 500);\n\n    };\n\n    return {\n        init    : init,\n        prepare : prepare,\n        open    : open,\n        openEditorFullscreen : openEditorFullscreen,\n        submit               : submit,\n    };\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/writing.js","var cdxEditorPersonality =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n * Interface for Personality tool\n * @author CodeX Team\n */\nmodule.exports = function (ui) {\n\n    'use strict';\n\n    /**\n     * CSS class names\n     * @type {Object}\n     */\n    ui.css = {\n        holder       : 'cdx-personality',\n        name         : 'cdx-personality__name',\n        cite         : 'cdx-personality__cite',\n        url          : 'cdx-personality__url',\n        photo        : 'cdx-personality__photo',\n        photoPreview : 'cdx-personality__photo--preview'\n    };\n\n    /**\n     * Creates Element\n     * @param {string} tagName\n     * @param {string} className\n     * @param {object} properties - allow to assign properties\n     */\n    var create = function ( tagName, className, properties ) {\n\n        var el = document.createElement( tagName );\n\n        if ( className ) el.className = className;\n\n        if ( properties ) {\n\n            for (var name in properties) {\n\n                el[name] = properties[name];\n\n            }\n\n        }\n\n        return el;\n\n    };\n\n    /**\n     * Creates plugin holder\n     * @return {Element}\n     */\n    ui.holder = function () {\n\n        return create('DIV', ui.css.holder);\n\n    };\n\n    /**\n     * Input for personality name\n     * @param {String} savedName\n     * @return {Element}\n     */\n    ui.nameInput = function (savedName) {\n\n        var name = create('INPUT', ui.css.name);\n\n        name.placeholder = 'Введите имя';\n        name.value = savedName || '';\n\n        return name;\n\n    };\n\n    /**\n     * Input for personality description\n     * @param {String} savedCite\n     * @return {Element}\n     */\n    ui.citeInput = function (savedCite) {\n\n        var div = create('DIV', ui.css.cite);\n\n        div.contentEditable = true;\n        div.setAttribute('data-placeholder', 'Должность или другая информация');\n        div.innerHTML = savedCite || '';\n\n        return div;\n\n    };\n\n    /**\n     * Input for personality URL\n     * @param {String} savedUrl\n     * @return {Element}\n     */\n    ui.urlInput = function (savedUrl) {\n\n        var url = create('INPUT', ui.css.url);\n\n        url.placeholder = 'Ссылка на страницу человека';\n        url.value = savedUrl || '';\n\n        return url;\n\n    };\n\n     /**\n     * @return {Element}\n     * @param {String} savedPhoto image URL\n     */\n    ui.photo = function (savedPhoto) {\n\n        var photo = create('DIV', ui.css.photo),\n            img;\n\n        if (savedPhoto) {\n\n            img = document.createElement('IMG');\n            img.src = savedPhoto;\n            photo.appendChild(img);\n\n        }\n\n        return photo;\n\n    };\n\n    return ui;\n\n}({});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Saver module for Personality tool\n * @author  CodeX Team\n */\nmodule.exports = function (saver) {\n\n    'use strict';\n\n    var ui = __webpack_require__(0);\n\n    /**\n     * Extracts data from block\n     * @param  {Element} block\n     * @return {Object}\n     */\n    saver.extractData = function (block) {\n\n        var nameEl = block.querySelector(`.${ui.css.name}`),\n            citeEl = block.querySelector(`.${ui.css.cite}`),\n            urlEl  = block.querySelector(`.${ui.css.url}`),\n            photo  = block.querySelector(`.${ui.css.photo} img`),\n            toolData = {},\n            sanitizerConfig = {\n                tags : {\n                    p : {},\n                    a: {\n                        href: true,\n                        target: '_blank',\n                        rel: 'nofollow'\n                    },\n                    i: {},\n                    b: {},\n                }\n            },\n            cite;\n\n        cite = citeEl.innerHTML;\n        cite = codex.editor.content.wrapTextWithParagraphs(cite);\n        cite = codex.editor.sanitizer.clean(cite, sanitizerConfig);\n\n        toolData.name = nameEl.value;\n        toolData.cite = cite;\n        toolData.url  = urlEl.value;\n        toolData.photo = null;\n\n        if (photo) {\n\n            toolData.photo = photo.src;\n\n        }\n\n        return toolData;\n\n    };\n\n    /**\n     * Validation method\n     * @param  {Object} toolData - saving data that needs to check\n     * @return {Boolean}         - TRUE if data is value\n     */\n    saver.validate = function (toolData) {\n\n        /** Dont allow empty name */\n        if (!toolData.name.trim()) {\n\n            return false;\n\n        }\n\n        return true;\n\n    };\n\n    return saver;\n\n}({});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Uploader module for Personality tool\n * @author  CodeX Team\n */\nmodule.exports = function (uploader) {\n\n    'use strict';\n\n    var ui = __webpack_require__(0);\n\n    /**\n     * External config\n     * @type {Object}\n     */\n    uploader.config = {\n        uploadURL : ''\n    };\n\n    /**\n     * Updates preview image\n     * @return {Element} preview - preview IMG\n     * @return {String} src      - preview image source\n     */\n    function updatePreview( preview, src ) {\n\n        preview.src = src;\n\n    }\n\n\n    /**\n     * Makes images preview\n     * @param  {HTMLElement} holder\n     */\n    function makePreview(holder) {\n\n        var input = codex.editor.transport.input,\n            files = input.files,\n            reader,\n            preview = document.createElement('IMG');\n\n        console.assert( files, 'There is no files in input');\n\n        reader = new window.FileReader();\n        reader.readAsDataURL(files[0]);\n\n        preview.classList.add(ui.css.photoPreview);\n        holder.innerHTML = '';\n        holder.appendChild(preview);\n\n        reader.onload = function ( e ) {\n\n            updatePreview(preview, e.target.result);\n\n        };\n\n        return preview;\n\n    }\n\n    /**\n     * Before send method\n     * @this {Button clicked}\n     */\n    function beforeSend() {\n\n        var selectPhotoButton = this;\n\n        /**\n         * Returned value will be passed as context of success and error\n         */\n        return makePreview(selectPhotoButton);\n\n    }\n\n    /**\n     * Success uploading hanlder\n     * @this - beforeSend result\n     * @param {String} response - upload response\n     *\n     * Expected response format:\n     * {\n     *     success : 1,\n     *     data: {\n     *         url : 'site/filepath.jpg'\n     *     }\n     * }\n     */\n    function success( response ) {\n\n        let preview = this;\n\n        response = JSON.parse(response);\n\n        console.assert(response.data && response.data.url, 'Expected photo URL was not found in response data');\n\n        updatePreview(preview, response.data.url);\n        preview.classList.remove(ui.css.photoPreview);\n\n    }\n\n    /**\n     * Error during upload handler\n     * @this {Element} preview\n     */\n    function failed() {\n\n        var preview = this;\n\n        codex.editor.notifications.notification({type: 'error', message: 'Ошибка во время загрузки. Попробуйте другой файл'});\n\n        preview.remove();\n\n    }\n\n    /**\n     * Select file click listener\n     */\n    uploader.photoClicked = function () {\n\n        var button = this;\n\n        codex.editor.transport.selectAndUpload({\n            url         : uploader.config.uploadURL,\n            multiple    : false,\n            accept      : 'image/*',\n            beforeSend  : beforeSend.bind(button),\n            success     : success,\n            error       : failed\n        });\n\n    };\n\n    return uploader;\n\n}({});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Personality\n * Tool for CodeX Editor\n *\n * @author CodeX Team\n * @version 1.0.0\n * @see https://github.com/codex-editor/personality\n *\n * @description Provides public interface methods\n */\nmodule.exports = function () {\n\n    'use strict';\n\n    /**\n     * Styleheets\n     */\n    __webpack_require__(3);\n\n    var ui       = __webpack_require__(0);\n    var saver    = __webpack_require__(1);\n    var uploader = __webpack_require__(2);\n\n    /**\n     * @param {Object} toolData\n     * @param {string} toolData.name    - Personality name\n     * @param {string} toolData.cite    - Personality cite\n     * @param {string} toolData.url     - Personality url\n     * @param {string} toolData.photo   - Personality photo URL\n     *\n     * @return {Element} personality tool block\n     */\n    function render( toolData ) {\n\n        toolData = toolData || {};\n\n        var pluginHolder = ui.holder(),\n            name         = ui.nameInput(toolData.name),\n            cite         = ui.citeInput(toolData.cite),\n            url          = ui.urlInput(toolData.url),\n            photo        = ui.photo(toolData.photo);\n\n        pluginHolder.appendChild(photo);\n        pluginHolder.appendChild(name);\n        pluginHolder.appendChild(cite);\n        pluginHolder.appendChild(url);\n\n        photo.addEventListener('click', uploader.photoClicked);\n\n        return pluginHolder;\n\n    }\n\n    /**\n     * Prepares plugin\n     * @param  {Object} config\n     * @return {Promise}\n     */\n    function prepare(config) {\n\n        return Promise.resolve().then(function () {\n\n            uploader.config = config;\n\n        });\n\n    }\n\n    /**\n     * Validation\n     * @param  {Object} savingData - tool presaved data\n     * @fires saver.validate\n     * @return {Boolean}\n     */\n    function validate( savingData ) {\n\n        return saver.validate(savingData);\n\n    }\n\n    /**\n     * Destroy method\n     */\n    function destroy() {\n\n        window.cdxEditorPersonality = null;\n\n    }\n\n    /**\n     * Saving method\n     * @param  {Element} block   - plugin content\n     * @return {Object}          - personality data\n     */\n    function save( block ) {\n\n        var data = saver.extractData(block);\n\n        return data;\n\n    }\n\n    return {\n        render, save, validate, destroy, prepare\n    };\n\n}();\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ./node_modules/codex.editor.personality/personality.js","var cdxEditorLink=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=6)}([function(e,t,n){\"use strict\";e.exports=function(){function e(){var e=document.createElement(\"INPUT\");return e.type=\"input\",e.classList.add(s.inputElement),e.placeholder=\"Paste Link...\",e}function t(){var e=document.createElement(\"DIV\");return e.classList.add(s.linkHolder),e}function r(e){var n=t(),r=document.createElement(\"DIV\"),i=document.createElement(\"DIV\"),o=document.createElement(\"DIV\"),l=document.createElement(\"A\");switch(n.dataset.style=e.style,n.classList.add(s.linkHolder,s.linkRendered),i.classList.add(s.cover),i.style.backgroundImage='url(\"'+e.image+'\")',r.textContent=e.title,r.classList.add(s.embedTitle),o.textContent=e.description,o.classList.add(s.description),l.textContent=e.linkText,l.href=e.linkUrl,l.classList.add(s.anchor),n.appendChild(i),e.style){case\"smallCover\":i.classList.add(s.smallCover);break;case\"bigCover\":i.classList.add(s.bigCover)}return n.appendChild(r),n.appendChild(o),n.appendChild(l),n}function i(){var e=document.createElement(\"DIV\");return e.classList.add(s.linkSettings),e}function o(e,t){var n=document.createElement(\"SPAN\");return n.textContent=e[t],n.classList.add(s.linkSettingsItem),n}function l(){var e=document.createElement(\"LABEL\");return e.classList.add(s.label),e}function c(e){var t=codex.editor.content.currentNode,n=e||t.querySelector(\".\"+s.linkHolder),r=n.querySelector(\".\"+s.embedTitle),i=n.querySelector(\".\"+s.cover),o=i.style.backgroundImage.match(/http?.[^\"]+/),l=n.querySelector(\".\"+s.description),c=n.querySelector(\".\"+s.anchor),a={};return a.style=n.dataset.style,a.image=o,a.title=r.textContent,a.description=l.innerHTML,a.linkText=c.innerHTML,a.linkUrl=c.href,a}var s={linkHolder:\"cdx-link-tool\",linkRendered:\"cdx-link-tool--rendered\",embedTitle:\"cdx-link-tool__title\",cover:\"cdx-link-tool__cover\",smallCover:\"cdx-link-tool__cover--small\",bigCover:\"cdx-link-tool__cover--big\",description:\"cdx-link-tool__description\",anchor:\"cdx-link-tool__anchor\",inputElement:\"cdx-link-tool__input\",inputError:\"cdx-link-tool__input--error\",label:\"cdx-link-tool__label\",labelLoading:\"cdx-link-tool__label--loading\",labelFinish:\"cdx-link-tool__label--finish\",linkSettings:\"link-settings\",linkSettingsItem:\"link-settings__item\",settingsItemActive:\"link-settings__item--active\"};return n(7),{css:s,drawInput:e,drawLabel:l,drawLinkHolder:t,drawEmbed:r,drawSettingsHolder:i,drawSettingsItem:o,getDataFromHTML:c}}()},function(e,t,n){\"use strict\";e.exports=function(){function e(e){var t=void 0;if(e&&e.style)t=r.drawEmbed(e);else{var n=void 0;t=r.drawLinkHolder(),n=r.drawInput(),n.addEventListener(\"paste\",i.URLPasted.bind(n)),t.appendChild(n)}return t}function t(t){return e(t)}return t}();var r=n(0),i=n(5)},function(e,t,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};e.exports=function(e){return e.config=null,e.prepare=function(t){return new Promise(function(n,i){\"object\"===(void 0===t?\"undefined\":r(t))&&t.fetchURL?(e.config=t,n()):i(\"Cant initialize plugin without fetch server\")})},e}({})},function(e,t,n){\"use strict\";e.exports=function(){function e(e){var t={tags:{}},n={tags:{p:{}}},r={tags:{p:{},a:{href:!0,target:\"_blank\",rel:\"nofollow\"},b:{},i:{}}};return\"bigCover\"!=e.style&&\"smallCover\"!=e.style&&(e.style=\"smallCover\"),e.title=codex.editor.sanitizer.clean(e.title,n),e.description=codex.editor.sanitizer.clean(e.description,r),e.linkText=codex.editor.sanitizer.clean(e.linkText,t),e.linkUrl=codex.editor.sanitizer.clean(e.linkUrl,t),e.image=codex.editor.sanitizer.clean(e.image,t),e}function t(t){return e(r.getDataFromHTML(t))}return t}();var r=n(0)},function(e,t,n){\"use strict\";e.exports=function(){function e(){var e=codex.editor.content.currentNode,n=e.querySelector(\".\"+r.css.linkHolder),i=r.drawSettingsHolder(),o={smallCover:\"Маленькая обложка\",bigCover:\"Большая обложка\"};for(var l in o){var c=r.drawSettingsItem(o,l);c.dataset.style=l,c.addEventListener(\"click\",t),n.dataset.style==l&&c.classList.add(r.css.settingsItemActive),i.appendChild(c)}return i}function t(){var e=codex.editor.content.currentNode;switch(this.dataset.style){case\"smallCover\":n(e);break;case\"bigCover\":o(e)}codex.editor.toolbar.settings.close()}function n(e){var t=r.getDataFromHTML(),n=void 0;t.style=\"smallCover\",n=i(t),codex.editor.content.switchBlock(e,n,\"link\")}function o(e){var t=r.getDataFromHTML(),n=void 0;t.style=\"bigCover\",n=i(t),codex.editor.content.switchBlock(e,n,\"link\")}return e}();var r=n(0),i=n(1)},function(e,t,n){\"use strict\";e.exports=function(){function e(e){var o=this,c=void 0,s=void 0;c=e.clipboardData||window.clipboardData,s=c.getData(\"Text\"),o.classList.remove(r.css.inputError),codex.editor.core.ajax({url:i.config.fetchURL+\"?url=\"+s,type:\"GET\",beforeSend:t.bind(o),success:n,error:l})}function t(){var e=this,t=r.drawLabel(),n=e.parentNode;return n.insertBefore(t,e),window.setTimeout(function(){t.classList.add(r.css.labelLoading)},50),n}function n(e){var t=this,n=void 0,c=t.querySelector(\".\"+r.css.label),s=void 0;c.classList.add(r.css.labelFinish);try{n=JSON.parse(e),n.style=i.config.defaultStyle,n.success||1===n.success?(s=o(n),window.setTimeout(function(){codex.editor.content.switchBlock(t,s,\"link\")},2500)):l.call(t,n.message)}catch(e){l.call(t)}}function l(e){var t=this,n=t.querySelector(\".\"+r.css.label);t.querySelector(\".\"+r.css.inputElement).classList.add(r.css.inputError),n.remove(),codex.editor.notifications.notification({type:\"error\",message:e||\"Unsupported link\"})}return{URLPasted:e}}();var r=n(0),i=n(2),o=n(1)},function(e,t,n){\"use strict\";e.exports=function(){var e=n(1),t=n(3),r=n(4);return{prepare:n(2).prepare,render:e,save:t,settings:r}}()},function(e,t){}]);\n\n\n// WEBPACK FOOTER //\n// ./node_modules/codex.editor.link/link.js","module.exports = {\n\n\n\n\n    importScript : function (scriptPath, instanceName) {\n\n        return new Promise(function (resolve, reject) {\n\n            var prefixJS = 'cdx-script-',\n                script;\n            /**\n             * @todo make importStyle static function,\n             * because now in Promise construction\n             * this.prefixJS is undefined\n             */\n\n            /** Script is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(prefixJS + instanceName) ) {\n\n                resolve(scriptPath);\n\n            }\n\n            script = document.createElement('SCRIPT');\n            script.async = true;\n            script.defer = true;\n            script.id    = codex.loader.prefixJS + instanceName;\n\n            script.onload = function () {\n\n                resolve(scriptPath);\n\n            };\n\n            script.onerror = function () {\n\n                reject(scriptPath);\n\n            };\n\n            script.src = scriptPath;\n            document.head.appendChild(script);\n\n        });\n\n    },\n\n    importStyle : function (stylePath, instanceName) {\n\n        return new Promise(function (resolve, reject) {\n\n            var style,\n                prefixCSS = 'cdx-style-';\n            /**\n             * @todo make importStyle static function,\n             * because now in Promise construction\n             * this.prefixCSS is undefined\n             */\n\n\n            /** Style is already loaded */\n            if ( !instanceName ) {\n\n                reject('Instance name is missed');\n\n            } else if ( document.getElementById(prefixCSS + instanceName) ) {\n\n                resolve(stylePath);\n\n            }\n\n            style = document.createElement('LINK');\n            style.type = 'text/css';\n            style.href = stylePath;\n            style.rel  = 'stylesheet';\n            style.id   = codex.loader.prefixCSS + instanceName;\n\n            style.onload = function () {\n\n                resolve(stylePath);\n\n            };\n\n            style.onerror = function () {\n\n                reject(stylePath);\n\n            };\n\n            style.src = stylePath;\n            document.head.appendChild(style);\n\n        });\n\n    },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/loader.js","/**\n* Module for scroll-up button\n* @author @scytem @guryn\n*/\n\n\nmodule.exports = (function () {\n\n\n    /**\n     * Scroll-up will be shown after sroll reaches this value\n     * @type {Number}\n     */\n    var offsetToShow = 300;\n\n    /**\n     * Size content width\n     * @type {Number}\n     */\n    var layoutWidth = 0;\n\n    /**\n     * Clickable Element that holds arrow\n     * @type {Element}\n     */\n    var clickableZone = null;\n\n    /**\n     * Window Resize stop watcher Timeout\n     * @type {timeoutId}\n     */\n    var resizeStopWatcher = null;\n\n    /**\n     * @public\n     *\n     * Init method\n     * Fired after document is ready\n     */\n    var init = function ( layoutHolderId ) {\n\n        var layout = document.getElementById(layoutHolderId);\n\n        if (!layout) {\n\n            codex.core.log('Layout center-col ID wissed', 'scrollUp', 'warn');\n            return;\n\n        }\n\n        layoutWidth = layout.offsetWidth;\n\n        clickableZone = makeUI();\n\n        /** Bind click event on scroll-up button */\n        clickableZone.addEventListener('click', scrollPage);\n\n        /** Global window scroll handler */\n        window.addEventListener('scroll', windowScrollHandler);\n\n        /** Autoresize */\n        window.addEventListener('resize', sizeChanged, false);\n\n        /** Set size */\n        resize();\n\n        /* Check heigth */\n        windowScrollHandler();\n\n    };\n\n    /**\n    * Scroll the document to the begin position\n    * @param {number} yCoords Y-coordinate\n    */\n    var scrollPage = function (yCoords) {\n\n        window.scrollTo(0, yCoords);\n\n    };\n\n    /**\n    * Hiding Scroll-up button if user on the top of page\n    */\n    var windowScrollHandler = function () {\n\n        var notTheTop = window.pageYOffset > offsetToShow;\n\n        if (notTheTop) {\n\n            clickableZone.classList.add('show');\n\n        } else {\n\n            clickableZone.classList.remove('show');\n\n        }\n\n    };\n\n    /**\n    * Resize hover/click area touching user width of screen\n    */\n    var resize = function () {\n\n        var windowWidth     = document.body.clientWidth,\n            leftColumtWidth = (windowWidth - layoutWidth) / 2;\n\n        clickableZone.style.width = leftColumtWidth + 'px';\n\n    };\n\n\n    /**\n    * Delay for resize\n    */\n    var sizeChanged = function () {\n\n        if ( resizeStopWatcher ) {\n\n            window.clearTimeout(resizeStopWatcher);\n\n        }\n\n        resizeStopWatcher = window.setTimeout(resize, 150);\n\n    };\n\n    /**\n     * Makes scroll-up arrow and wrapper\n     */\n    var makeUI = function () {\n\n        var wrapper = document.createElement('DIV'),\n            arrow   = document.createElement('DIV');\n\n        wrapper.classList.add('scroll-up');\n        arrow.classList.add('scroll-up__arrow');\n\n        wrapper.appendChild(arrow);\n        document.body.appendChild(wrapper);\n\n        return wrapper;\n\n    };\n\n    return {\n        init: init\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/scrollUp.js","/**\n * Admin module\n */\n\nmodule.exports = (function () {\n\n    var emptyBrandingClass = 'branding--empty';\n    var loadingClass       = 'branding--loading';\n    var preloaderClass     = 'branding__preloader';\n    var preloadShown       = 'branding__preloader--shown';\n\n    /**\n     * Branding holder\n     * @type {Element|null}\n     */\n    var wrapper = null;\n\n    /**\n     * Initialization\n     * @fires preload\n     */\n    var init = function () {\n\n        wrapper = document.getElementById('brandingSection');\n\n        if ( !wrapper ) {\n\n            return;\n\n        }\n\n        var url = wrapper.dataset.src;\n\n        preload( url );\n\n    };\n\n    /**\n     * Shows blurred preview and change it to the full-view image\n     * @param  {String} fullUrl          - URL of original image\n     * @return {String|null} previewUrl  - pass to renew preloader\n     */\n    var preload = function ( fullUrl, previewUrl ) {\n\n        var preloader = wrapper.querySelector('.' + preloaderClass),\n            img = document.createElement('IMG');\n\n        if ( previewUrl ) {\n\n            preloader.style.backgroundImage = \"url('\" + previewUrl + \"')\";\n            preloader.classList.add(preloadShown);\n\n        }\n\n        img.src = fullUrl;\n        img.onload = function () {\n\n            wrapper.style.backgroundImage = \"url('\" + fullUrl + \"')\";\n            preloader.classList.remove(preloadShown);\n\n        };\n\n    };\n\n\n\n    /**\n     * changes site branding\n     * @private\n     */\n    var change = function () {\n\n        codex.transport.init({\n\n            url : '/upload/4',\n            accept : 'image/*',\n            beforeSend: function () {\n\n                wrapper.classList.add(loadingClass);\n\n            },\n            success : function (result) {\n\n                var response = JSON.parse(result),\n                    url,\n                    preview;\n\n                wrapper.classList.remove(loadingClass);\n\n                if ( response.success ) {\n\n                    url = response.data.url;\n                    preview = '/upload/branding/preload_' + response.data.name + '.jpg';\n\n                    if ( wrapper.classList.contains(emptyBrandingClass) ) {\n\n                        wrapper.classList.remove(emptyBrandingClass);\n\n                    }\n\n                    preload( url, preview );\n\n                } else {\n\n                    codex.alerts.show({\n                        type: 'error',\n                        message: 'Uploading failed'\n                    });\n\n                }\n\n            },\n            error: function () {\n\n                wrapper.classList.remove(loadingClass);\n\n                codex.alerts.show({\n                    type: 'error',\n                    message: 'Error while uploading branding image;'\n                });\n\n            }\n\n        });\n\n    };\n\n    return {\n        init: init,\n        change : change\n    };\n\n})({});\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/branding.js","/**\n * Page significant methods\n */\nmodule.exports = (function () {\n\n    /**\n     * Page cover module\n     */\n    var cover = require('./pages/cover');\n\n    /**\n     * Page pin module\n     */\n    var pin = require('./pages/pin');\n\n    /**\n     * Saves current clicked item in page drop-down menu\n     * @type {Element}\n     */\n    var currentItemClicked = null;\n\n    /**\n     * Opens page-writing form\n     */\n    var openWriting = function () {\n\n        currentItemClicked = this;\n\n        var targetId = currentItemClicked.dataset.id;\n\n        document.location = '/p/writing?id=' + targetId;\n\n    };\n\n    /**\n     * Opens page-writing form\n     */\n    var remove = function () {\n\n        currentItemClicked = this;\n\n        var targetId    = currentItemClicked.dataset.id;\n\n        if (!window.confirm('Подтвердите удаление страницы')) {\n\n            return;\n\n        }\n\n        codex.ajax.call({\n            url : '/p/' + targetId + '/delete',\n            success: removeHandler\n        });\n\n    };\n\n    /**\n     * Opens writing form for child page\n     */\n    var newChild = function () {\n\n        currentItemClicked = this;\n\n        var targetId = currentItemClicked.dataset.id;\n\n        document.location = '/p/writing?parent=' + targetId;\n\n    };\n\n    /**\n     * Send ajax request to add page to menu\n     */\n    var addToMenu = function () {\n\n        currentItemClicked = this;\n        currentItemClicked.classList.add('loading');\n\n        var targetId = currentItemClicked.dataset.id;\n\n        codex.ajax.call({\n            url : '/p/' + targetId + '/promote?list=4',\n            success: promote\n        });\n\n    };\n\n    /**\n     * Send ajax request to add page to main\n     */\n    var addToMain = function () {\n\n        currentItemClicked = this;\n        currentItemClicked.classList.add('loading');\n\n        var targetId = currentItemClicked.dataset.id;\n\n        codex.ajax.call({\n            url : '/p/' + targetId + '/promote?list=3',\n            success: promote\n        });\n\n    };\n\n    /**\n     * Parse JSON response\n     * @param {JSON} response\n     * @returns {Object} response\n     */\n    var getResponse = function (response) {\n\n        try {\n\n            response = JSON.parse(response);\n\n        } catch(e) {\n\n            return {\n                success: 0,\n                message: 'Произошла ошибка, попробуйте позже'\n            };\n\n        }\n\n        return response;\n\n    };\n\n    /**\n     * Response handler for page remove\n     * @param response\n     */\n    var removeHandler = function (response) {\n\n        response = getResponse(response);\n\n        if (response.success) {\n\n            window.location.replace(response.redirect);\n            return;\n\n        }\n\n        codex.alerts.show({\n            type: 'error',\n            message: response.message\n        });\n\n    };\n\n    /**\n     * Response handler for page promotion\n     * @param response\n     */\n    var promote = function (response) {\n\n        response = getResponse(response);\n        currentItemClicked.classList.remove('loading');\n\n        if (response.success) {\n\n            if (response.buttonText) {\n\n                replaceMenu(currentItemClicked, response.buttonText);\n\n            }\n\n            if (response.menu) {\n\n                updateSiteMenu(response.menu);\n\n            }\n\n            /**\n             * TODO: сделать замену текста кнопки\n             **/\n\n            codex.alerts.show({\n                type: 'success',\n                message: response.message\n            });\n\n            return;\n\n        }\n\n        codex.alerts.show({\n            type: 'error',\n            message: response.message\n        });\n\n    };\n\n    /**\n     * Replace site menu with new button text from server response\n     * @param currentItemMenu\n     * @param newResponseMenuText\n     */\n    var replaceMenu = function (currentItemMenu, newResponseMenuText) {\n\n        var itemIndex = currentItemMenu.dataset.itemIndex,\n            menuIndex = currentItemMenu.dataset.index;\n\n        /** update item on menu */\n        codex.islandSettings.updateItem(menuIndex, itemIndex, newResponseMenuText);\n\n        /** update item text immediatelly */\n        currentItemMenu.textContent = newResponseMenuText;\n\n    };\n\n    /**\n     * Replace site menu with menu form server response\n     *\n     * @param menu\n     */\n    var updateSiteMenu = function (menu) {\n\n        var oldMenu = document.getElementById('js-site-menu'),\n            newMenu = codex.core.parseHTML(menu)[0];\n\n        codex.core.replace(oldMenu, newMenu);\n\n    };\n\n    return {\n        openWriting: openWriting,\n        newChild: newChild,\n        addToMenu: addToMenu,\n        addToMain: addToMain,\n        remove : remove,\n        pin: pin,\n        cover: cover\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/pages.js","/**\n * Actions with page cover\n */\nmodule.exports = function (cover) {\n\n    var css = {\n        cover          : 'posts-list-item__cover',\n        setCover       : 'posts-list-item__cover--empty',\n        setCoverShowed : 'posts-list-item__cover--empty-showed',\n        preview        : 'posts-list-item__cover--preview',\n    };\n\n    /**\n     * Transport type constant\n     * @type {Number}\n     */\n    var TRANSPORT_PAGE_COVER = 5;\n\n    /**\n     * Menu 'set-cover' button handler\n     * @this menu Element\n     */\n    cover.toggleButton = function () {\n\n        var pageId = this.dataset.id,\n            pageIsland,\n            setCoverButton;\n\n        pageIsland = document.getElementById('js-page-' + pageId);\n\n        if (!pageIsland) {\n\n            return;\n\n        }\n\n        setCoverButton = pageIsland.querySelector('.' + css.cover);\n\n        setCoverButton.classList.add(css.setCover);\n        setCoverButton.classList.toggle(css.setCoverShowed);\n\n        /** Let user see cover-button, than click on it */\n        window.setTimeout(function () {\n\n            cover.set(pageId);\n\n        }, 300);\n\n    };\n\n    /**\n     * Select file\n     * @param {Number} pageId - cover's page id\n     */\n    cover.set = function ( pageId ) {\n\n        if ( isNaN(pageId) ) {\n\n            codex.core.log('Wrong pageId passed %o', '[page.cover]', 'warn', pageId);\n            return;\n\n        }\n\n        codex.transport.init({\n            url : '/upload/' + TRANSPORT_PAGE_COVER,\n            data : {\n                target : pageId\n            },\n            success : uploaded,\n            beforeSend : beforeSend.bind(pageId),\n            error   : error\n        });\n\n    };\n\n    /**\n     * Makes preview\n     * @this {pageId}\n     */\n    function beforeSend() {\n\n        var pageId = this,\n            article = document.getElementById('js-page-' + pageId),\n            coverHolder;\n\n        if (!article) {\n\n            return;\n\n        }\n\n        coverHolder = article.querySelector('.' + css.cover);\n\n        /** Compose preview */\n        makePreview(coverHolder, pageId);\n\n    }\n\n    /**\n     * Makes uploading image preview\n     * @param  {Element} holder cover holder image\n     * @param  {string|Number} pageId\n     */\n    function makePreview( holder, pageId ) {\n\n        var input = codex.transport.input,\n            files = input.files,\n            reader;\n\n        console.assert( files, 'There is no files in input');\n\n        reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n\n        holder.classList.add(css.preivew);\n\n        reader.onload = function ( e ) {\n\n            updateCoverImage(\n                {\n                    url : e.target.result,\n                    target : pageId\n                },\n                holder,\n                true // is preview mode\n            );\n\n        };\n\n    }\n\n    /**\n     * Success uploading handler\n     * @param  {String} response    server answer\n     */\n    function uploaded( response ) {\n\n        response = JSON.parse(response);\n\n        if ( !response.success ) {\n\n            codex.alerts.show({\n                type: 'error',\n                message: response.message || 'File uploading error :('\n            });\n\n            return;\n\n        }\n\n        console.assert( response.data && response.data.url, 'Wrong response data');\n\n        update( response.data );\n\n    }\n\n    /**\n     * Update cover after succes uploading\n     * Do it after new image loading\n     * @param  {Object} imageData  - new cover data\n     */\n    function update( imageData ) {\n\n        var img = document.createElement('IMG');\n\n        /** Wait for browser download and cache image */\n        img.onload = function () {\n\n            updateCoverImage(imageData);\n\n        };\n\n        img.src = imageData.url;\n\n    }\n\n    /**\n     * Updates visible cover image\n     * @param  {Object} imageData\n     * @param  {string} imageData.url       - full cover URL\n     * @param  {string} imageData.target    - page id\n     * @param  {Element|null} coverHolder   - page cover holder (if known)\n     * @param  {Boolean} isPreview          - pass TRUE for preview-mode\n     */\n    function updateCoverImage( imageData, coverHolder, isPreview ) {\n\n        console.assert(imageData.target, 'Page id must be passed as target');\n\n        var article = document.getElementById('js-page-' + imageData.target);\n\n        if (!article) {\n\n            return;\n\n        }\n\n        coverHolder = coverHolder || article.querySelector('.' + css.cover);\n\n        if ( !coverHolder ) {\n\n            codex.core.log('Nothing to update. Cover was not found', '[page.cover]', 'warn');\n            return;\n\n        }\n\n        if (isPreview) {\n\n            coverHolder.classList.add(css.preview);\n\n        } else {\n\n            coverHolder.classList.remove(css.preview);\n\n        }\n\n        /** Remove button svg icon */\n        coverHolder.innerHTML = '';\n\n        coverHolder.style.backgroundImage = 'url(' + imageData.url + ')';\n        coverHolder.classList.remove(css.setCover, css.setCoverShowed);\n\n    }\n\n    /**\n     * Uploading error\n     * @param  {Object} error\n     */\n    var error = function (uploadError) {\n\n        codex.core.log('Cover uploading error: %o', '[pages.cover]', 'warn', uploadError);\n\n    };\n\n    return cover;\n\n}({});\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/pages/cover.js","/**\n * Pins page in news feed\n */\nmodule.exports = function () {\n\n    var currentItemClicked = null,\n        targetId           = null;\n\n    /**\n     * Requests page pin toggle via ajax\n     */\n    var toggle = function () {\n\n        currentItemClicked = this;\n        targetId = currentItemClicked.dataset.id;\n\n        currentItemClicked.classList.add('loading');\n\n        codex.ajax.call({\n            url : '/p/' + targetId + '/pin',\n            success: success,\n            error: error\n        });\n\n    };\n\n    /** Response for success ajax request **/\n    var success =  function (response) {\n\n        currentItemClicked.classList.remove('loading');\n        response = JSON.parse(response);\n\n        codex.alerts.show({\n            type: response.success ? 'success' : 'error',\n            message: response.message\n        });\n\n        var page = document.getElementById('js-page-' + targetId);\n\n        var time = page.querySelector('.js-article-time');\n\n        time.textContent = response.message;\n\n\n    };\n\n    /** Response for ajax request errors **/\n    var error = function () {\n\n        currentItemClicked.classList.remove('loading');\n\n        codex.alerts.show({\n            type: 'error',\n            message: 'Произошла ошибка'\n        });\n\n    };\n\n    return {\n        toggle: toggle\n    };\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/pages/pin.js","/**\n *  Module for custom checkboxes\n *\n *  Adds stylized checkbox. You can use them in forms as default checkboxes.\n *  You can user your own styles, just change classes names in classes dictionary\n *\n *  To init module\n *  1. Add element with `cdx-custom-checkbox` name to page.\n *     You can have any other elements in it, checkbox will be added as first child.\n *\n *     `cdx-custom-checkbox` element can have data attributes:\n *      - data-name -- name of checkbox input, that will be in request array.\n *                    By default uses NAMES.defaultInput ('cdx-custom-checkbox')\n *\n *     - data-checked -- if TRUE checkbox will be checked by default\n *\n *      Example:\n *      <span name='cdx-custom-checkbox' data-name='checkbox1' data-checked='false'>I agree</span>\n *\n *  2. Call `init` method of this module\n *  3. If you want to handle changing of checkbox just register event listener on `cdx-custom-checkbox` element with 'toggle' event type:\n *\n *     checkbox.addEventListener('toggle', handler)\n *\n *  @requires checkboxes.css\n *\n *  @author gohabereg\n *  @version 1.0\n */\n\nmodule.exports = function () {\n\n    /**\n     * Custom event for checkboxes. Dispatches when checkbox clicked\n     * @type {CustomEvent}\n     */\n    var ToggleEvent = new window.CustomEvent('toggle'),\n\n    /**\n     * Elements classes dictionary\n     */\n        CLASSES    = {\n            wrapper: 'cdx-checkbox',\n            checkbox: 'cdx-checkbox__slider',\n            checked: 'cdx-checkbox--checked',\n            defaultCheckbox: 'cdx-default-checkbox--hidden'\n        },\n    /**\n     * Elements names dictionary\n     */\n        NAMES      = {\n            checkbox: 'cdx-custom-checkbox',\n            defaultInput: 'cdx-custom-checkbox'\n        };\n\n\n    /**\n     * Creates checkbox element in wrapper with `cdx-custom-checkbox` name\n     *\n     * @param wrapper - element with `cdx-custom-checkbox` name\n     */\n    var prepareCheckbox = function (wrapper) {\n\n        var input      = document.createElement('INPUT'),\n            checkbox   = document.createElement('SPAN'),\n            firstChild = wrapper.firstChild;\n\n        input.type  = 'checkbox';\n        input.name  = wrapper.dataset.name || NAMES.defaultInput;\n        input.value = 1;\n        input.classList.add(CLASSES.defaultCheckbox);\n\n        checkbox.classList.add(CLASSES.checkbox);\n        checkbox.appendChild(input);\n\n        wrapper.classList.add(CLASSES.wrapper);\n        wrapper.addEventListener('click', clicked);\n\n        if (wrapper.dataset.checked) {\n\n            input.checked = true;\n\n            wrapper.classList.add(CLASSES.checked);\n\n        }\n\n        if (firstChild) {\n\n            wrapper.insertBefore(checkbox, firstChild);\n\n        } else {\n\n            wrapper.appendChild(checkbox);\n\n        }\n\n\n    };\n\n    /**\n     * Handler for click event on checkbox. Toggle checkbox state and dispatch CheckEvent\n     */\n    var clicked = function () {\n\n        var wrapper  = this,\n            checkbox = wrapper.querySelector('.' + CLASSES.checkbox),\n            input    = checkbox.querySelector('input');\n\n        checkbox.parentNode.classList.toggle(CLASSES.checked);\n        input.checked = !input.checked;\n\n        /**\n         * Add `checked` property to CheckEvent\n         */\n        ToggleEvent.checked = input.checked;\n\n        checkbox.dispatchEvent(ToggleEvent);\n\n    };\n\n    /**\n     * Takes all elements with `cdx-custom-checkbox` name and calls prepareCheckbox function for each one\n     */\n    var init = function () {\n\n        var checkboxes = document.getElementsByName(NAMES.checkbox);\n\n        Array.prototype.forEach.call(checkboxes, prepareCheckbox);\n\n    };\n\n    return {\n        init: init\n    };\n\n}();\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/checkboxes.js","module.exports = function () {\n\n    var change = function (e) {\n\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        var wrapper = this.parentNode;\n\n        codex.transport.init({\n\n            url : '/upload/7',\n            accept : 'image/*',\n            success : function (result) {\n\n                var response = JSON.parse(result),\n                    img = document.getElementById('js-site-logo');\n\n                if ( response.success ) {\n\n                    if ( !img ) {\n\n                        img = document.createElement('IMG');\n                        wrapper.appendChild(img);\n\n                    }\n\n                    img.src = response.data.url;\n                    wrapper.classList.remove('site-head__logo--empty');\n\n                } else {\n\n                    codex.alerts.show({\n                        type: 'error',\n                        message: 'Uploading failed'\n                    });\n\n                }\n\n            },\n            error: function () {\n\n                codex.alerts.show({\n                    type: 'error',\n                    message: 'Error while uploading logo'\n                });\n\n            }\n\n        });\n\n    };\n\n    return {\n        change : change\n    };\n\n}();\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/modules/logo.js","!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports.codexSpecial=o():e.codexSpecial=o()}(this,function(){return function(e){function o(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}var t={};return o.m=e,o.c=t,o.p=\"\",o(0)}([function(e,o,t){e.exports=t(1)},function(e,o,t){e.exports=function(){function e(e){for(var o in e)g[o]=e[o]}function o(){var e=document.createElement(\"STYLE\"),o=t(4);e.innerHTML=o[0][1],document.head.appendChild(e)}function i(){b=d[g.lang];var e=x.toolbar(),o=x.textSizeSwitcher();e.appendChild(o);for(var t in p.colorSwitchers){var i=x.colorSwitcher(t);i.dataset.style=t,e.appendChild(i),f.colorSwitchers.push(i)}f.toolbar=e,f.textSizeSwitcher=o,a()}function a(){if(g.blockId){var e=document.getElementById(g.blockId);if(e)return e.appendChild(f.toolbar),void f.toolbar.classList.add(p.toolbar.state.included);g.blockId=\"\"}if(document.body.classList.add(p.body.excludeModificator),f.toolbar.classList.add(p.toolbar.state.excluded),g.position)switch(g.position){case\"top-left\":f.toolbar.classList.add(p.toolbar.position.top,p.toolbar.position.left);break;case\"bottom-right\":f.toolbar.classList.add(p.toolbar.position.bottom,p.toolbar.position.right);break;case\"bottom-left\":f.toolbar.classList.add(p.toolbar.position.bottom,p.toolbar.position.left);break;default:f.toolbar.classList.add(p.toolbar.position.top,p.toolbar.position.right)}document.body.appendChild(f.toolbar)}function c(){f.colorSwitchers.map(function(e,o){e.addEventListener(\"click\",A,!1)}),f.textSizeSwitcher.addEventListener(\"click\",n,!1)}function r(){var e,o=window.localStorage.getItem(m.color),t=window.localStorage.getItem(m.textSize);o&&f.colorSwitchers.map(function(e,t){e.dataset.style==o&&A.call(e)}),t&&(e=f.textSizeSwitcher,n.call(e))}function A(){return this.classList.contains(p.circle.state.enabled)?l():(l(),f.colorSwitchers.map(function(e,o){e.classList.add(p.circle.state.disabled)}),this.classList.remove(p.circle.state.disabled),this.classList.add(p.circle.state.enabled),window.localStorage.setItem(m.color,this.dataset.style),void document.body.classList.add(p.colorSwitchers[this.dataset.style]))}function l(){for(var e in p.colorSwitchers)document.body.classList.remove(p.colorSwitchers[e]);f.colorSwitchers.map(function(e,o){e.classList.remove(p.circle.state.disabled,p.circle.state.enabled)}),window.localStorage.removeItem(m.color)}function n(){return document.body.classList.contains(p.textSizeIncreased)?s():(s(),f.textSizeSwitcher.innerHTML='<i class=\"'+p.iconButton.elem+'\"></i> '+b.decreaseSize,window.localStorage.setItem(m.textSize,\"big\"),void document.body.classList.add(p.textSizeIncreased))}function s(){document.body.classList.remove(p.textSizeIncreased),f.textSizeSwitcher.innerHTML='<i class=\"'+p.iconButton.elem+'\"></i> '+b.increaseSize,window.localStorage.removeItem(m.textSize)}var d=t(2),p=t(3),b=null,f={toolbar:null,colorSwitchers:[],textSizeSwitcher:null},m={textSise:\"codex-special__text-size\",color:\"codex-special__color\"},g={blockId:null,lang:\"ru\",position:\"top-right\"},h=function(){};h.prototype.init=function(o){e(o),i(),c(),r()};var x={element:function(e,o){var t=document.createElement(e);return t.classList.add(o),t},toolbar:function(){return x.element(\"DIV\",p.toolbar.elem)},colorSwitcher:function(e){var o=x.element(\"SPAN\",p.circle.elem);return o.classList.add(p.circle.prefix+e),o},textSizeSwitcher:function(){var e=x.element(\"SPAN\",p.textButton.elem);return e.innerHTML='<i class=\"'+p.iconButton.elem+'\"></i> '+b.increaseSize,e}};return o(),new h}()},function(e,o){e.exports={ru:{increaseSize:\"Увеличить шрифт\",decreaseSize:\"Уменьшить шрифт\"},en:{increaseSize:\"Increase font\",decreaseSize:\"Decrease font\"}}},function(e,o){e.exports={colorSwitchers:{blue:\"special-blue\",green:\"special-green\",white:\"special-white\"},textSizeIncreased:\"special-big\",toolbar:{elem:\"codex-special__toolbar\",state:{included:\"codex-special__toolbar--included\",excluded:\"codex-special__toolbar--excluded\"},position:{top:\"codex-special__toolbar--position-top\",bottom:\"codex-special__toolbar--position-bottom\",left:\"codex-special__toolbar--position-left\",right:\"codex-special__toolbar--position-right\"}},iconButton:{elem:\"codex-special__toolbar-icon\"},textButton:{elem:\"codex-special__toolbar-text\"},circle:{elem:\"codex-special__circle\",prefix:\"codex-special__circle--\",state:{enabled:\"codex-special__circle--enabled\",disabled:\"codex-special__circle--disabled\"}},body:{excludeModificator:\"codex-special--excluded\"}}},function(e,o,t){o=e.exports=t(5)(),o.push([e.id,'.special-blue article,.special-blue aside,.special-blue div,.special-blue footer,.special-blue form,.special-blue header,body.special-blue{background-color:#c1d1e6!important;background-image:none!important;color:#3f5077!important}.special-blue *{box-shadow:none;border-color:hsla(0,0%,53%,.24)!important}.special-blue input,.special-blue textarea{background-color:#d9e4f7!important;color:#36465b!important}.special-blue a{color:#082a90!important}.special-blue a:hover{color:#0034d2!important}.special-green article,.special-green aside,.special-green div,.special-green footer,.special-green form,.special-green header,body.special-green{background-color:#2b2924!important;background-image:none!important;color:#33d24a!important}.special-green *{box-shadow:none;border-color:hsla(0,0%,53%,.24)!important}.special-green input,.special-green textarea{background-color:#211f1a!important;color:#44e963!important}.special-green a{color:#98ff81!important}.special-green a:hover{color:#c8ffbb!important}.special-white article,.special-white aside,.special-white div,.special-white footer,.special-white form,.special-white header,body.special-white{background-color:#121213!important;background-image:none!important;color:#666871!important}.special-white *{border-color:#212121!important;box-shadow:none}.special-white input,.special-white textarea{background-color:#1d1d1d!important;color:#fff!important}.special-white a{color:#9ea0ad!important}.special-white a:hover{color:#fff!important}.special-big div{font-size:20px;line-height:1.5em}.special-big div *{font-size:inherit!important;line-height:inherit}.special-big h1{font-size:2em!important;line-height:1.35em}.special-big h2{font-size:1.5em!important;line-height:1.35em}.special-big h3{font-size:1.17em!important;line-height:1.35em}.special-big h4{font-size:1.12em!important;line-height:1.35em}.special-big h5{font-size:.83em!important;line-height:1.35em}.special-big h6{font-size:.75em!important;line-height:1.35em}@font-face{font-family:codex-special;src:url(data:application/font-woff2;charset=utf-8;base64,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) format(\"woff2\"),url(data:application/font-woff;charset=utf-8;base64,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) format(\"woff\");font-weight:400;font-style:normal}.codex-special__toolbar{padding:15px!important;background-color:#fff;white-space:nowrap;z-index:9999;line-height:21px!important}html body .codex-special__toolbar{font-size:15px!important}.codex-special__toolbar--included{position:relative;border-top:1px solid #f2f4f8}.codex-special__toolbar--excluded{position:fixed;width:300px;border:1px solid #f2f4f8}.codex-special__toolbar--position-top{top:0;bottom:auto;border-radius:0 0 3px 3px;border-top:0}.codex-special__toolbar--position-bottom{top:auto;bottom:0;border-radius:3px 3px 0 0;border-bottom:0}.codex-special__toolbar--position-left{left:3%;right:auto}.codex-special__toolbar--position-right{right:3%;left:auto}.codex-special__toolbar-text{display:inline-block;vertical-align:middle;cursor:pointer;border-radius:5px}.codex-special__toolbar-text:hover{color:#3d82c1}.codex-special__toolbar-icon{display:inline-block;margin-right:.3em;margin-bottom:1px;vertical-align:text-bottom;line-height:1em;font-size:.84em;font-style:normal}.codex-special__toolbar-icon:before{content:\"A\";font-family:codex-special}.special-big .codex-special__toolbar-icon{line-height:.96em}.special-big .codex-special__toolbar-icon:before{content:\"B\"}.special-big .codex-special__toolbar,.special-blue .codex-special__toolbar,.special-green .codex-special__toolbar,.special-white .codex-special__toolbar{background-color:#fff812!important;color:#15130b!important;border-color:transparent!important}.special-big .codex-special__toolbar-text:hover,.special-blue .codex-special__toolbar-text:hover,.special-green .codex-special__toolbar-text:hover,.special-white .codex-special__toolbar-text:hover{color:#b00!important}@media (max-width:1000px){.codex-special__toolbar--excluded{top:auto;bottom:0;right:0;left:0;width:auto;border:1px solid #f2f4f8}.codex-special--excluded{padding-bottom:50px}}.codex-special__circle{display:inline-block;width:7px;height:7px;border:7px solid;vertical-align:middle;box-sizing:content-box;border-radius:50%;cursor:pointer;float:right}.codex-special__circle:not(:first-of-type){margin-right:5px}.codex-special__circle:hover{width:11px;height:11px;border-width:5px}.codex-special__circle--enabled{border-radius:10%}.codex-special__circle--disabled{opacity:.7}.codex-special__circle--disabled:hover{opacity:1}.codex-special__circle--blue{background-color:#36465b;border-color:#c5dfff!important}.codex-special__circle--green{background-color:#44e963;border-color:#7c766a!important}.codex-special__circle--white{background-color:#fff;border-color:#2b2a28!important}',\"\"])},function(e,o){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],o=0;o<this.length;o++){var t=this[o];t[2]?e.push(\"@media \"+t[2]+\"{\"+t[1]+\"}\"):e.push(t[1])}return e.join(\"\")},e.i=function(o,t){\"string\"==typeof o&&(o=[[null,o,\"\"]]);for(var i={},a=0;a<this.length;a++){var c=this[a][0];\"number\"==typeof c&&(i[c]=!0)}for(a=0;a<o.length;a++){var r=o[a];\"number\"==typeof r[0]&&i[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]=\"(\"+r[2]+\") and (\"+t+\")\"),e.push(r))}},e}}])});\n//# sourceMappingURL=codex-special.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/codex.special/codex-special.min.js"],"sourceRoot":""}