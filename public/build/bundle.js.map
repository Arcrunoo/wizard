{"version":3,"sources":["webpack:///webpack/bootstrap 6a51cd951a7099bef8e9","webpack:///./public/app/js/main.js","webpack:///./public/app/css/main.css","webpack:///./public/app/js/modules/core.js","webpack:///./public/app/js/modules/ajax.js","webpack:///./public/app/js/modules/transport.js","webpack:///./public/app/js/modules/content.js","webpack:///./public/app/js/modules/appender.js","webpack:///./public/app/js/modules/parser.js","webpack:///./public/app/js/modules/comments.js","webpack:///./public/app/js/modules/alerts.js","webpack:///./public/app/css/modules/alerts.css","webpack:///./public/app/js/modules/islandSettings.js","webpack:///./public/app/js/modules/autoresizeTextarea.js","webpack:///./public/app/js/modules/user.js","webpack:///./public/app/js/modules/sharer.js","webpack:///./public/app/js/modules/writing.js","webpack:///./~/codex.editor.personality/personality.js","webpack:///./public/app/js/modules/loader.js","webpack:///./public/app/js/modules/scrollUp.js","webpack:///./public/app/js/modules/branding.js","webpack:///./public/app/js/modules/pages.js","webpack:///./public/app/js/modules/pages/cover.js","webpack:///./public/app/js/modules/pages/pin.js","webpack:///./public/app/js/modules/checkboxes.js","webpack:///./public/app/js/modules/logo.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC,IAAI;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;AClHA,0C;;;;;;;;;;;ACAA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,UAAS;;AAET,MAAK;;AAEL;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA,eAAc,QAAQ;AACtB;AACA;;AAEA;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA,eAAc,QAAQ;AACtB;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA,M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AEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AC7lBD;;AAEA;;AAEA;;AAEA,8CAA6C,QAAQ;;AAErD;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+EAA8E,SAAS,2BAA2B;;AAElH;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,yB;;;;;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,UAAU;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,QAAQ;AACxB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,kBAAiB;;AAEjB;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,kEAAiE,qCAAqC;;AAEtG;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA,kEAAiE,uCAAuC;;AAExG;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;ACpbD;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,0BAA0B,EAAE;AAC/D,0CAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,+DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;;AAEA;;AA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CA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AC1OD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB,iBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,aAAa;AAC7B,iBAAgB,QAAQ;AACxB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC,GAAG,E;;;;;;AC3OJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA,EAAC;;;;;;;AC9DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,EAAC,G;;;;;;ACvID;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,kBAAiB;;AAEjB;AACA;AACA;AACA,sBAAqB;;AAErB;;AAEA,cAAa;AACb;;AAEA;AACA;AACA;AACA,kBAAiB;;AAEjB;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA,EAAC,G","file":"./public/build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6a51cd951a7099bef8e9","/**\r\n* Require CSS build\r\n*/\r\nrequire('../css/main.css');\r\n\r\n/**\r\n* Codex client\r\n* @author Savchenko Peter <specc.dev@gmail.com>\r\n*/\r\ncodex = (function (codex) {\r\n\r\n    'use strict';\r\n\r\n    /**\r\n    * Static nodes cache\r\n    */\r\n    codex.nodes = {\r\n        content : null\r\n    };\r\n\r\n    /**\r\n     * @var Application settings\r\n     * @type {Object}\r\n     * @type {Number} appSettings.uploadMaxSize    - max size for Editor uploads in MB\r\n     */\r\n    codex.appSettings = {\r\n        uploadMaxSize : 25\r\n    };\r\n\r\n    /**\r\n     * Initiztes application\r\n     * @param {Object} appSettings - initial settings\r\n     */\r\n    codex.init = function ( appSettings ) {\r\n\r\n        /**\r\n         * Accept settings\r\n         */\r\n        for ( var key in appSettings ) {\r\n\r\n            codex.appSettings[key] = appSettings[key];\r\n\r\n        }\r\n\r\n        /**\r\n        * Stylize custom checkboxes\r\n        */\r\n        codex.checkboxes.init();\r\n\r\n        /**\r\n        * Init approval buttons\r\n        */\r\n        codex.content.approvalButtons.init();\r\n\r\n        /**\r\n         * Enable textarea autoresizer\r\n         */\r\n        codex.autoresizeTextarea.init();\r\n\r\n        /**\r\n         * Activate scroll-up button\r\n         */\r\n        codex.scrollUp.init('js-layout-holder');\r\n\r\n        /**\r\n         * Client is ready\r\n         */\r\n        codex.core.log('Initialized', 'CodeX', 'info');\r\n\r\n        /**\r\n         * Initiate branding preload\r\n         */\r\n        codex.branding.init();\r\n\r\n    };\r\n\r\n    return codex;\r\n\r\n})({});\r\n\r\n/**\r\n* Document ready handler\r\n*/\r\ncodex.docReady = function (f) {\r\n\r\n    /in/.test(document.readyState) ? window.setTimeout(codex.docReady, 9, f) : f();\r\n\r\n};\r\n\r\n\r\n/**\r\n* Load modules\r\n*/\r\ncodex.core               = require('./modules/core');\r\ncodex.ajax               = require('./modules/ajax');\r\ncodex.transport          = require('./modules/transport');\r\ncodex.content            = require('./modules/content');\r\ncodex.appender           = require('./modules/appender');\r\ncodex.parser             = require('./modules/parser');\r\ncodex.comments           = require('./modules/comments');\r\ncodex.alerts             = require('./modules/alerts');\r\ncodex.islandSettings     = require('./modules/islandSettings');\r\ncodex.autoresizeTextarea = require('./modules/autoresizeTextarea');\r\ncodex.user               = require('./modules/user');\r\ncodex.sharer             = require('./modules/sharer');\r\ncodex.writing            = require('./modules/writing');\r\ncodex.loader             = require('./modules/loader');\r\ncodex.scrollUp           = require('./modules/scrollUp');\r\ncodex.branding           = require('./modules/branding');\r\ncodex.pages              = require('./modules/pages');\r\ncodex.checkboxes         = require('./modules/checkboxes');\r\ncodex.logo               = require('./modules/logo');\r\n\r\n\r\nmodule.exports = codex;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/main.js\n// module id = 0\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/main.css\n// module id = 1\n// module chunks = 0","/**\r\n* Significant core methods\r\n*/\r\n\r\nmodule.exports = {\r\n\r\n    /** Logging method */\r\n    log : function (str, prefix, type, arg) {\r\n\r\n        var staticLength = 32;\r\n\r\n        if (prefix) {\r\n\r\n            prefix = prefix.length < staticLength ? prefix : prefix.substr( 0, staticLength - 2 );\r\n\r\n            while (prefix.length < staticLength - 1) {\r\n\r\n                prefix += ' ';\r\n\r\n            }\r\n\r\n            prefix += ':';\r\n            str = prefix + str;\r\n\r\n        }\r\n\r\n        type = type || 'log';\r\n\r\n        try {\r\n\r\n            if ('console' in window && window.console[ type ]) {\r\n\r\n                if (arg) console[type](str, arg);\r\n                else console[type](str);\r\n\r\n            }\r\n\r\n        } catch(e) {}\r\n\r\n    },\r\n\r\n    /**\r\n    * @return {object} dom element real offset\r\n    */\r\n    getOffset : function (elem) {\r\n\r\n        var docElem, win, rect, doc;\r\n\r\n        if (!elem) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        /**\r\n        * Support: IE <=11 only\r\n        * Running getBoundingClientRect on a\r\n        * disconnected node in IE throws an error\r\n        */\r\n        if (!elem.getClientRects().length) {\r\n\r\n            return {\r\n                top: 0,\r\n                left: 0\r\n            };\r\n\r\n        }\r\n\r\n        rect = elem.getBoundingClientRect();\r\n\r\n        /** Make sure element is not hidden (display: none) */\r\n        if (rect.width || rect.height) {\r\n\r\n            doc = elem.ownerDocument;\r\n            win = window;\r\n            docElem = doc.documentElement;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset - docElem.clientTop,\r\n                left: rect.left + win.pageXOffset - docElem.clientLeft\r\n            };\r\n\r\n        }\r\n\r\n        /** Return zeros for disconnected and hidden elements (gh-2310) */\r\n        return rect;\r\n\r\n    },\r\n\r\n    /**\r\n    * Checks if element visible on screen at the moment\r\n    * @param {Element} - HTML NodeElement\r\n    */\r\n    isElementOnScreen : function (el) {\r\n\r\n        var elPositon    = codex.core.getOffset(el).top,\r\n            screenBottom = window.scrollY + window.innerHeight;\r\n\r\n        return screenBottom > elPositon;\r\n\r\n    },\r\n\r\n    /**\r\n    * Returns computed css styles for element\r\n    * @param {Element} el\r\n    */\r\n    css : function (el) {\r\n\r\n        return window.getComputedStyle(el);\r\n\r\n    },\r\n\r\n    /**\r\n    * Helper for inserting one element after another\r\n    */\r\n    insertAfter : function (target, element) {\r\n\r\n        target.parentNode.insertBefore(element, target.nextSibling);\r\n\r\n    },\r\n\r\n    /**\r\n    * Replaces node with\r\n    * @param {Element} nodeToReplace\r\n    * @param {Element} replaceWith\r\n    */\r\n    replace : function (nodeToReplace, replaceWith) {\r\n\r\n        return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\r\n\r\n    },\r\n\r\n    /**\r\n    * Helper for insert one element before another\r\n    */\r\n    insertBefore : function (target, element) {\r\n\r\n        target.parentNode.insertBefore(element, target);\r\n\r\n    },\r\n\r\n    /**\r\n    * Returns random {int} between numbers\r\n    */\r\n    random : function (min, max) {\r\n\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n\r\n    },\r\n\r\n    /**\r\n    * Attach event to Element in parent\r\n    * @param {Element} parentNode    - Element that holds event\r\n    * @param {string} targetSelector - selector to filter target\r\n    * @param {string} eventName      - name of event\r\n    * @param {function} callback     - callback function\r\n    */\r\n    delegateEvent : function (parentNode, targetSelector, eventName, callback) {\r\n\r\n        parentNode.addEventListener(eventName, function (event) {\r\n\r\n            var el = event.target, matched;\r\n\r\n            while (el && !matched) {\r\n\r\n                matched = el.matches(targetSelector);\r\n\r\n                if (!matched) el = el.parentElement;\r\n\r\n            }\r\n\r\n            if (matched) {\r\n\r\n                callback.call(event.target, event, el);\r\n\r\n            }\r\n\r\n        }, true);\r\n\r\n    },\r\n\r\n\r\n    /**\r\n    * Readable DOM-node types map\r\n    */\r\n    nodeTypes : {\r\n        TAG     : 1,\r\n        TEXT    : 3,\r\n        COMMENT : 8,\r\n        DOCUMENT_FRAGMENT : 11\r\n    },\r\n\r\n    /**\r\n    * Readable keys map\r\n    */\r\n    keys : { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, LEFT: 37, UP: 38, DOWN: 40, RIGHT: 39, DELETE: 46, META: 91 },\r\n\r\n    /**\r\n    * @protected\r\n    * Check object for DOM node\r\n    */\r\n    isDomNode : function (el) {\r\n\r\n        return el && typeof el === 'object' && el.nodeType && el.nodeType == this.nodeTypes.TAG;\r\n\r\n    },\r\n\r\n    /**\r\n    * Parses string to nodeList\r\n    * Removes empty text nodes\r\n    * @param {string} inputString\r\n    * @return {array} of nodes\r\n    *\r\n    * Does not supports <tr> and <td> on firts level of inputString\r\n    */\r\n\r\n    parseHTML : function (inputString) {\r\n\r\n        // var templatesSupported = spark.supports.templates();\r\n\r\n        var contentHolder,\r\n            childs,\r\n            parsedNodes = [];\r\n\r\n        // if ( false &&   templatesSupported ) {\r\n\r\n        //     contentHolder = document.createElement('template');\r\n        //     contentHolder.innerHTML = inputString.trim();\r\n\r\n        //     console.log(\"contentHolder: %o\", contentHolder);\r\n\r\n        //     childs = contentHolder.content.cloneNode(true).childNodes;\r\n\r\n        // } else {\r\n\r\n        contentHolder = document.createElement('div');\r\n        contentHolder.innerHTML = inputString.trim();\r\n\r\n        childs = contentHolder.childNodes;\r\n\r\n        // }\r\n\r\n\r\n        /**\r\n        * Iterate childNodes and remove empty Text Nodes on first-level\r\n        */\r\n        for (var i = 0, node; !!(node = childs[i]); i++) {\r\n\r\n            if (node.nodeType == codex.core.nodeTypes.TEXT && !node.textContent.trim()) {\r\n\r\n                continue;\r\n\r\n            }\r\n\r\n            parsedNodes.push(node);\r\n\r\n        }\r\n\r\n        return parsedNodes;\r\n\r\n    },\r\n\r\n    /**\r\n    * Checks passed object for emptiness\r\n    * @require ES5 - Object.keys\r\n    * @param {object}\r\n    */\r\n    isEmpty : function (obj) {\r\n\r\n        return Object.keys(obj).length === 0;\r\n\r\n    },\r\n\r\n    /**\r\n    * Check for Element visibility\r\n    * @param {Element} el\r\n    */\r\n    isVisible : function (el) {\r\n\r\n        return el.offsetParent !== null;\r\n\r\n    },\r\n\r\n    setCookie : function (name, value, expires, path, domain) {\r\n\r\n        var str = name + '=' + value;\r\n\r\n        if (expires) str += '; expires=' + expires.toGMTString();\r\n        if (path)    str += '; path=' + path;\r\n        if (domain)  str += '; domain=' + domain;\r\n\r\n        document.cookie = str;\r\n\r\n    },\r\n\r\n    getCookie : function (name) {\r\n\r\n        var dc = document.cookie;\r\n\r\n        var prefix = name + '=',\r\n            begin = dc.indexOf('; ' + prefix);\r\n\r\n        if (begin == -1) {\r\n\r\n            begin = dc.indexOf(prefix);\r\n            if (begin !== 0) return null;\r\n\r\n        } else\r\n            begin += 2;\r\n\r\n        var end = document.cookie.indexOf(';', begin);\r\n\r\n        if (end == -1) end = dc.length;\r\n\r\n        return unescape(dc.substring(begin + prefix.length, end));\r\n\r\n    },\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/core.js\n// module id = 7\n// module chunks = 0","/**\r\n* AJAX module\r\n*/\r\nvar ajax = (function () {\r\n\r\n    /**\r\n    * @usage codex.ajax.call();\r\n    */\r\n    var call = function (data) {\r\n\r\n        if (!data || !data.url) return;\r\n\r\n        var XMLHTTP          = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject('Microsoft.XMLHTTP'),\r\n            successFunction  = function () {};\r\n\r\n        data.async           = true;\r\n        data.type            = data.type || 'GET';\r\n        data.data            = data.data || '';\r\n        data['content-type'] = data['content-type'] || 'application/json; charset=utf-8';\r\n        successFunction      = data.success || successFunction;\r\n\r\n        if (data.type == 'GET' && data.data) {\r\n\r\n            data.url = /\\?/.test(data.url) ? data.url + '&' + data.data : data.url + '?' + data.data;\r\n\r\n        }\r\n\r\n        if (data.withCredentials) {\r\n\r\n            XMLHTTP.withCredentials = true;\r\n\r\n        }\r\n\r\n        if (data.beforeSend && typeof data.beforeSend == 'function') {\r\n\r\n            data.beforeSend.call();\r\n\r\n        }\r\n\r\n        XMLHTTP.open(data.type, data.url, data.async);\r\n\r\n        /**\r\n        * If we send FormData, we need no content-type header\r\n        */\r\n        if (!isFormData(data.data)) {\r\n\r\n            XMLHTTP.setRequestHeader('Content-type', data['content-type']);\r\n\r\n        }\r\n\r\n        XMLHTTP.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n        XMLHTTP.onreadystatechange = function () {\r\n\r\n            if (XMLHTTP.readyState == 4 && XMLHTTP.status == 200) {\r\n\r\n                successFunction(XMLHTTP.responseText);\r\n\r\n            }\r\n\r\n        };\r\n\r\n        XMLHTTP.send(data.data);\r\n\r\n    };\r\n\r\n    /**\r\n     * Function for checking is it FormData object to send.\r\n     * @param {Object} object to check\r\n     * @return boolean\r\n     */\r\n    function isFormData(object) {\r\n\r\n        return typeof object.append === 'function';\r\n\r\n    };\r\n\r\n    return {\r\n\r\n        call : call\r\n\r\n    };\r\n\r\n}());\r\n\r\nmodule.exports = ajax;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/ajax.js\n// module id = 8\n// module chunks = 0","/**\r\n * File transport module\r\n *\r\n * @module Transport module. Uploads file and returns some response from server\r\n * @copyright Codex-Team 2017\r\n *\r\n * @example\r\n *\r\n * Basic usage :\r\n *  codex.transport.init( {\r\n *      url : fetchURL,\r\n *      multiple : bool,\r\n *      accept : string  // http://htmlbook.ru/html/input/accept\r\n *      beforeSend : Function,\r\n *      success : Function,\r\n *      error : Function\r\n *      data : Object — additional data\r\n * });\r\n *\r\n * You can handle all of this event like:\r\n *  - what should happen before data sending with XMLHTTP\r\n *  - what should after success request\r\n *  - error handler\r\n */\r\n\r\nmodule.exports = ( function (transport) {\r\n\r\n    /** Empty configuration */\r\n    var config_ = null;\r\n\r\n    /** File holder */\r\n    transport.input = null;\r\n\r\n    /** initialize module */\r\n    transport.init = function (configuration) {\r\n\r\n        if (!configuration.url) {\r\n\r\n            codex.core.log('can\\'t send request because `url` is missed', 'Transport module', 'error');\r\n            return;\r\n\r\n        }\r\n\r\n        config_ = configuration;\r\n\r\n        var inputElement = document.createElement('INPUT');\r\n\r\n        inputElement.type = 'file';\r\n\r\n        if (config_ && config_.multiple) {\r\n\r\n            inputElement.setAttribute('multiple', 'multiple');\r\n\r\n        }\r\n\r\n        if (config_ && config_.accept) {\r\n\r\n            inputElement.setAttribute('accept', config_.accept);\r\n\r\n        }\r\n\r\n        inputElement.addEventListener('change', send_, false);\r\n\r\n        /** Save input */\r\n        transport.input = inputElement;\r\n\r\n        /** click input to show upload window */\r\n        clickInput_();\r\n\r\n    };\r\n\r\n    var clickInput_ = function () {\r\n\r\n        transport.input.click();\r\n\r\n    };\r\n\r\n    /**\r\n     * Sends transport AJAX request\r\n     */\r\n    var send_ = function () {\r\n\r\n        var url        = config_.url,\r\n            beforeSend = config_.beforeSend,\r\n            success    = config_.success,\r\n            error      = config_.error,\r\n            formData   = new FormData(),\r\n            files      = transport.input.files;\r\n\r\n        if (files.length > 1) {\r\n\r\n            for (var i = 0; i < files.length; i++) {\r\n\r\n                formData.append('files[]', files[i], files[i].name);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            formData.append('files', files[0], files[0].name);\r\n\r\n        }\r\n\r\n        /**\r\n         * Append additional data\r\n         */\r\n        if ( config_.data !== null && typeof config_.data === 'object' ) {\r\n\r\n            for (var key in config_.data) {\r\n\r\n                formData.append(key, config_.data[key]);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        codex.ajax.call({\r\n            type : 'POST',\r\n            data : formData,\r\n            url : url,\r\n            beforeSend : beforeSend,\r\n            success : success,\r\n            error : error\r\n        });\r\n\r\n    };\r\n\r\n    return transport;\r\n\r\n})({});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/transport.js\n// module id = 9\n// module chunks = 0","/**\r\n* Operations with pages\r\n*/\r\nmodule.exports = (function () {\r\n\r\n     /**\r\n    * Toggles classname on passed blocks\r\n    * @param {string} selector\r\n    * @param {string} toggled classname\r\n    */\r\n    var toggle = function ( which, marker ) {\r\n\r\n        var elements = document.querySelectorAll( which );\r\n\r\n        for (var i = elements.length - 1; i >= 0; i--) {\r\n\r\n            elements[i].classList.toggle( marker );\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    /**\r\n    * Toggles mobile menu\r\n    * Handles clicks on the hamburger icon in header\r\n    */\r\n    var toggleMobileMenu = function ( event ) {\r\n\r\n        var menu = document.getElementById('js-mobile-menu-holder'),\r\n            openedClass = 'mobile-menu-holder--opened';\r\n\r\n        menu.classList.toggle(openedClass);\r\n\r\n        event.stopPropagation();\r\n        event.stopImmediatePropagation();\r\n        event.preventDefault();\r\n\r\n    };\r\n\r\n    /**\r\n    * Module uses for toggle custom checkboxes\r\n    * that has 'js-custom-checkbox' class and input[type=\"checkbox\"] included\r\n    * Example:\r\n    * <span class=\"js-custom-checkbox\">\r\n    *    <input type=\"checkbox\" name=\"\" value=\"1\"/>\r\n    * </span>\r\n    */\r\n    var customCheckboxes = {\r\n\r\n        /**\r\n        * This class specifies checked custom-checkbox\r\n        * You may set it on serverisde\r\n        */\r\n        CHECKED_CLASS : 'checked',\r\n\r\n        init : function () {\r\n\r\n            var checkboxes = document.getElementsByClassName('js-custom-checkbox');\r\n\r\n            if (checkboxes.length) for (var i = checkboxes.length - 1; i >= 0; i--) {\r\n\r\n                checkboxes[i].addEventListener('click', codex.content.customCheckboxes.clicked, false);\r\n\r\n            }\r\n\r\n        },\r\n\r\n        clicked : function () {\r\n\r\n            var checkbox  = this,\r\n                input     = this.querySelector('input'),\r\n                isChecked = this.classList.contains(codex.content.customCheckboxes.CHECKED_CLASS);\r\n\r\n            checkbox.classList.toggle(codex.content.customCheckboxes.CHECKED_CLASS);\r\n\r\n            if (isChecked) {\r\n\r\n                input.removeAttribute('checked');\r\n\r\n            } else {\r\n\r\n                input.setAttribute('checked', 'checked');\r\n\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    var approvalButtons = {\r\n\r\n        CLICKED_CLASS : 'click-again-to-approve',\r\n\r\n        init : function () {\r\n\r\n            var buttons = document.getElementsByClassName('js-approval-button');\r\n\r\n            if (buttons.length) for (var i = buttons.length - 1; i >= 0; i--) {\r\n\r\n                buttons[i].addEventListener('click', codex.content.approvalButtons.clicked, false);\r\n\r\n            }\r\n\r\n        },\r\n\r\n        clicked : function (event) {\r\n\r\n            var button    = this,\r\n                isClicked = this.classList.contains(codex.content.approvalButtons.CLICKED_CLASS);\r\n\r\n            if (!isClicked) {\r\n\r\n                /* временное решение, пока нет всплывающего окна подверждения важных действий */\r\n                button.classList.add(codex.content.approvalButtons.CLICKED_CLASS);\r\n\r\n                event.preventDefault();\r\n\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    return {\r\n\r\n        toggleMobileMenu : toggleMobileMenu,\r\n        customCheckboxes : customCheckboxes,\r\n        approvalButtons : approvalButtons,\r\n        toggle : toggle\r\n\r\n    };\r\n\r\n}());\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/content.js\n// module id = 10\n// module chunks = 0","/**\r\n * Appender is being used for ajax-loading next pages of lists\r\n *\r\n *    codex.appender.init({\r\n *        buttonId      : 'buttonLoadNews',       // button for listening\r\n *        currentPage   : '<?= $page_number ?>',    // currentPage number\r\n *        url           : '/',                      // url for ajax-requests\r\n *        targetBlockId : 'list_of_news',           // target for appending\r\n *        autoLoading   : true,                     // allow loading when reach bottom while scrolling\r\n *    });\r\n */\r\n\r\nvar appender = {\r\n\r\n    /* Pagination. Here is a number of current page */\r\n    page : 1,\r\n\r\n    settings : null,\r\n\r\n    blockForItems : null,\r\n\r\n    loadMoreButton : null,\r\n\r\n    /**\r\n     * Button's text for saving it.\r\n     * On its place dots will be while news are loading\r\n     */\r\n    buttonText : null,\r\n\r\n    init : function (settings) {\r\n\r\n        this.settings = settings;\r\n\r\n        /* Checking for existing button and field for loaded info */\r\n        this.loadMoreButton = document.getElementById(this.settings.buttonId);\r\n\r\n        if (!this.loadMoreButton) return false;\r\n\r\n        this.blockForItems = document.getElementById(this.settings.targetBlockId);\r\n\r\n        if (!this.blockForItems) return false;\r\n\r\n        this.page       = settings.currentPage;\r\n        this.buttonText = this.loadMoreButton.innerHTML;\r\n\r\n        if (this.settings.autoLoading) this.autoLoading.isAllowed = true;\r\n\r\n        this.loadMoreButton.addEventListener('click', function (event) {\r\n\r\n            codex.appender.load();\r\n\r\n            event.preventDefault();\r\n\r\n            codex.appender.autoLoading.init();\r\n\r\n        }, false);\r\n\r\n        /** Force init if need no waiting for a first click */\r\n        if (this.settings.dontWaitFirstClick) {\r\n\r\n            codex.appender.autoLoading.init();\r\n\r\n        }\r\n\r\n\r\n    },\r\n\r\n    load : function () {\r\n\r\n        var requestUrl = this.settings.url + (parseInt(this.page) + 1);\r\n            // separator   = '<a href=\"' + requestUrl + '\"><div class=\"article post-list-item w_island separator\">Page ' + (parseInt(this.page) + 1) + '</div></a>';\r\n\r\n        codex.ajax.call({\r\n            type: 'post',\r\n            url: requestUrl,\r\n            data: {},\r\n            beforeSend : function () {\r\n\r\n                codex.appender.loadMoreButton.classList.add('loading');\r\n\r\n            },\r\n            success : function (response) {\r\n\r\n                response = JSON.parse(response);\r\n\r\n                if (response.success) {\r\n\r\n                    if (!response.list) return;\r\n\r\n                    /* Append items */\r\n                    // codex.appender.blockForItems.innerHTML += separator;\r\n                    codex.appender.blockForItems.innerHTML += response.list;\r\n\r\n                    /* Next page */\r\n                    codex.appender.page++;\r\n\r\n                    if (codex.appender.settings.autoLoading) {\r\n\r\n                        /* Removing restriction for auto loading */\r\n                        codex.appender.autoLoading.canLoad = true;\r\n\r\n                    }\r\n\r\n                    /* Checking for next page's existing. If no — hide the button for loading news and remove listener */\r\n                    if (!response.next_page) codex.appender.disable();\r\n\r\n                } else {\r\n\r\n                    codex.core.showException('Не удалось подгрузить новости');\r\n\r\n                }\r\n\r\n                codex.appender.loadMoreButton.classList.remove('loading');\r\n\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n    disable : function () {\r\n\r\n        codex.appender.loadMoreButton.style.display = 'none';\r\n\r\n        if (codex.appender.autoLoading.isLaunched) {\r\n\r\n            codex.appender.autoLoading.disable();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    autoLoading : {\r\n\r\n        isAllowed : false,\r\n\r\n        isLaunched : false,\r\n\r\n        /**\r\n         * Possibility to load news by scrolling.\r\n         * Restriction for reduction requests which could be while scrolling\r\n         */\r\n        canLoad : true,\r\n\r\n        init : function () {\r\n\r\n            if (!this.isAllowed) return;\r\n\r\n            window.addEventListener('scroll', codex.appender.autoLoading.scrollEvent);\r\n\r\n            codex.appender.autoLoading.isLaunched = true;\r\n\r\n        },\r\n\r\n        disable : function () {\r\n\r\n            window.removeEventListener('scroll', codex.appender.autoLoading.scrollEvent);\r\n\r\n            codex.appender.autoLoading.isLaunched = false;\r\n\r\n        },\r\n\r\n        scrollEvent : function () {\r\n\r\n            var scrollReachedEnd = window.pageYOffset + window.innerHeight >= document.body.clientHeight;\r\n\r\n            if (scrollReachedEnd && codex.appender.autoLoading.canLoad) {\r\n\r\n                codex.appender.autoLoading.canLoad = false;\r\n\r\n                codex.appender.load();\r\n\r\n            }\r\n\r\n        },\r\n\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = appender;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/appender.js\n// module id = 11\n// module chunks = 0","/**\r\n * Parser module\r\n * @author Taly Guryn\r\n */\r\nvar parser = {\r\n\r\n    input : null,\r\n\r\n    init : function () {\r\n\r\n        // this.input = document.getElementById(settings.input_id);\r\n\r\n        var _this = this;\r\n\r\n        this.input.addEventListener('paste', function () {\r\n\r\n            _this.inputPasteCallback();\r\n\r\n        }, false);\r\n\r\n    },\r\n\r\n    inputPasteCallback : function () {\r\n\r\n        var e = this.input;\r\n\r\n        var _this = this;\r\n\r\n        window.setTimeout(function () {\r\n\r\n            _this.sendRequest(e.value);\r\n\r\n        }, 100);\r\n\r\n    },\r\n\r\n\r\n    sendRequest : function (url) {\r\n\r\n        codex.core.ajax({\r\n            type: 'get',\r\n            url: '/ajax/get_page',\r\n            data: { 'url' : url },\r\n            success: function (response) {\r\n\r\n                var title, content, sourceLink;\r\n\r\n                if ( response.success == 1) {\r\n\r\n                    title = document.getElementById('page_form_title');\r\n                    content = document.getElementById('page_form_content');\r\n                    sourceLink = document.getElementById('source_link');\r\n\r\n                    title.value = response.title;\r\n                    content.value = response.article;\r\n                    sourceLink.value = url;\r\n\r\n                    // while we have no own editor, we should use this getting element\r\n                    // cause I can't edit code for external editor\r\n                    document.getElementsByClassName('redactor_redactor')[0].innerHTML = response.article;\r\n\r\n                } else {\r\n\r\n                    codex.core.showException('Не удалось импортировать страницу');\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n};\r\n\r\nmodule.exports = parser;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/parser.js\n// module id = 12\n// module chunks = 0","/**\r\n * Comments module\r\n * @author  @guryn @neSpecc\r\n * @copyright CodeX Team https://github.com/codex-team\r\n * @version 1.1.0\r\n */\r\nmodule.exports = (function () {\r\n\r\n    var commentsList = null,\r\n        anchor       = document.location.hash;\r\n\r\n    var CSS_ = {\r\n        replyForm :         'comments-form',\r\n        replyTextarea :     'comment-form__text',\r\n        replyOpened :       'comment-form__placeholder--opened',\r\n        replySubmitButton : 'comment-form__button',\r\n        highlighted :       'comment--highligthed'\r\n    };\r\n\r\n    /**\r\n     * Settings-menu toggler selector\r\n     * @type {String}\r\n     */\r\n    var menuTogglerSelector = '.js-comment-settings';\r\n\r\n    /**\r\n     * Initialize comments\r\n     * @param {object} data        params\r\n     * @param {sring} data.listId  comments list wrapper id\r\n     */\r\n    function init(data) {\r\n\r\n        commentsList = document.getElementById(data.listId);\r\n\r\n        if (anchor) {\r\n\r\n            highligthAnchor();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove holder and append form for comment\r\n     * @param {Element} placeholder 'Write reply...' button\r\n     */\r\n    function reply( replyButton ) {\r\n\r\n        /** If reply already opened, do noting */\r\n        if ( replyButton.classList.contains( CSS_.replyOpened ) ) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        /** Get reply params from dataset */\r\n        var replyParams = {\r\n            parentId : replyButton.dataset.parentId,\r\n            rootId   : replyButton.dataset.rootId,\r\n            action   : replyButton.dataset.action\r\n        };\r\n\r\n        /** Create reply form */\r\n        var form = createForm( replyParams );\r\n\r\n        /** Insert form after reply button */\r\n        codex.core.insertAfter( replyButton, form );\r\n\r\n        replyButton.classList.add( CSS_.replyOpened );\r\n        getFormTextarea(form).focus();\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns reply form\r\n     *\r\n     * @param {object} params\r\n     * @param {Number} params.parentId     parent comment's id\r\n     * @param {Number} params.rootId       root comment's id\r\n     * @param {String} params.action       URL for saving\r\n     *\r\n     * @return {Element} element that holds textarea and submit-button\r\n     */\r\n    function createForm( params ) {\r\n\r\n        var textarea     = createTextarea(),\r\n            button       = createButton(),\r\n            form         = document.createElement('DIV');\r\n\r\n        form.classList.add(CSS_.replyForm);\r\n\r\n        /** Store data in Textarea */\r\n        textarea.dataset.parentId = params.parentId;\r\n        textarea.dataset.rootId   = params.rootId;\r\n        textarea.dataset.action   = params.action;\r\n\r\n        form.appendChild(textarea);\r\n        form.appendChild(button);\r\n\r\n        return form;\r\n\r\n    }\r\n\r\n    /** Return textarea for form for comment */\r\n    function createTextarea() {\r\n\r\n        var textarea = document.createElement('TEXTAREA');\r\n\r\n        textarea.classList.add(CSS_.replyTextarea);\r\n        textarea.placeholder = 'Ваш комментарий';\r\n\r\n        textarea.addEventListener('keydown', keydownSubmitHandler, false);\r\n        textarea.addEventListener('blur', blurTextareaHandler, false);\r\n\r\n        codex.autoresizeTextarea.addListener(textarea);\r\n\r\n        return textarea;\r\n\r\n    }\r\n\r\n    /** Return submit button for form*/\r\n    function createButton() {\r\n\r\n        var button = document.createElement('DIV');\r\n\r\n        button.classList.add( CSS_.replySubmitButton, 'button', 'master');\r\n        button.textContent = 'Отправить';\r\n\r\n        button.addEventListener('click', submitClicked_, false);\r\n\r\n        return button;\r\n\r\n    }\r\n\r\n    /**\r\n     * Reply submit button click handler\r\n     */\r\n    function submitClicked_() {\r\n\r\n        var submit = this,\r\n            form   = submit.parentNode,\r\n            textarea = getFormTextarea(form);\r\n\r\n        send_( textarea );\r\n\r\n    }\r\n\r\n    /* Return textarea for given form */\r\n    function getFormTextarea(form) {\r\n\r\n        return form.getElementsByTagName('TEXTAREA')[0];\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove form on textarea blur\r\n     * @param {Event} blur Event\r\n     */\r\n    function blurTextareaHandler( event ) {\r\n\r\n        var textarea  = event.target,\r\n            form      = textarea.parentNode,\r\n            commentId = textarea.dataset.parentId;\r\n\r\n        if (!textarea.value.trim()) {\r\n\r\n            removeForm(form, commentId);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Removes reply form\r\n     * @param {Element} form\r\n     * @param {Number} commentId   reply target comment id\r\n     */\r\n    function removeForm( form, commentId ) {\r\n\r\n        var replyButton = document.getElementById('reply' + commentId );\r\n\r\n        form.remove();\r\n        replyButton.classList.remove(CSS_.replyOpened);\r\n\r\n    }\r\n\r\n    /**\r\n     * Catch Ctrl+Enter or Cmd+Enter for send form\r\n     * @param {Event} event    Keydown Event\r\n     */\r\n    function keydownSubmitHandler(event) {\r\n\r\n        var ctrlPressed  = event.ctrlKey || event.metaKey,\r\n            enterPressed = event.keyCode == 13,\r\n            textarea = event.target;\r\n\r\n        if ( ctrlPressed && enterPressed ) {\r\n\r\n            send_( textarea );\r\n\r\n            event.preventDefault();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Ajax function for submit comment\r\n     * @param {Element} textarea    input with dataset and text\r\n     */\r\n    function send_( textarea ) {\r\n\r\n        var formData  = new FormData(),\r\n            form      = textarea.parentNode,\r\n            submitBtn = form.querySelector('.' + CSS_.replySubmitButton),\r\n            rootId    = textarea.dataset.rootId,\r\n            parentId  = textarea.dataset.parentId,\r\n            actionURL = textarea.dataset.action;\r\n\r\n        formData.append('root_id', rootId);\r\n        formData.append('parent_id', parentId);\r\n        formData.append('comment_text', textarea.value);\r\n        formData.append('csrf', window.csrf);\r\n\r\n        codex.ajax.call({\r\n            type: 'POST',\r\n            url: actionURL,\r\n            data: formData,\r\n            beforeSend : function () {\r\n\r\n                submitBtn.classList.add('loading');\r\n\r\n            },\r\n            success : function (response) {\r\n\r\n                var comment;\r\n\r\n                submitBtn.classList.remove('loading');\r\n\r\n                response = JSON.parse(response);\r\n\r\n                if (!response.success) {\r\n\r\n                    codex.alerts.show({\r\n                        type: 'error',\r\n                        message: response.error\r\n                    });\r\n                    return;\r\n\r\n                }\r\n\r\n                /** Remove form and return placeholder */\r\n                removeForm(form, parentId);\r\n\r\n                /** Remove empty-feed block */\r\n                removeEmptyCommentsBlock();\r\n\r\n                comment = codex.core.parseHTML(response.comment)[0];\r\n                commentsList.appendChild(comment);\r\n\r\n                /** Scroll down to the new comment */\r\n                window.scrollTo(0, document.body.scrollHeight);\r\n\r\n                /** Highligth new comment */\r\n                highligthComment(response.commentId);\r\n\r\n                /** If menu found, activate it */\r\n                activateMenu(comment);\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * Removes empty-feed motivation\r\n     */\r\n    function removeEmptyCommentsBlock() {\r\n\r\n        var emptyCommentsBlock = document.querySelector('.js-empty-comments');\r\n\r\n        if (!emptyCommentsBlock) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        emptyCommentsBlock.remove();\r\n\r\n    }\r\n\r\n    /**\r\n     * If menu-toggler found in comment\r\n     * @return {Element} comment - comment's island\r\n     */\r\n    function activateMenu( comment ) {\r\n\r\n        var  menuToggler = comment.querySelector(menuTogglerSelector);\r\n\r\n        if (!menuToggler) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        codex.islandSettings.prepareToggler(menuToggler, menuTogglerSelector);\r\n\r\n    }\r\n\r\n    /**\r\n     * Highligth comment by id for a time\r\n     * @param {Number} commentId   id comment to highlight\r\n     */\r\n    function highligthComment(commentId) {\r\n\r\n        var comment = document.getElementById('comment' + commentId);\r\n\r\n        comment.classList.add(CSS_.highlighted);\r\n\r\n        window.setTimeout(function () {\r\n\r\n            comment.classList.remove(CSS_.highlighted);\r\n\r\n        }, 500);\r\n\r\n    }\r\n\r\n    /** Highligth comment if anchor is in url */\r\n    function highligthAnchor() {\r\n\r\n        var numbers = anchor.match(/\\d+/),\r\n            commentId;\r\n\r\n        if (!numbers) return;\r\n\r\n        commentId = numbers[0];\r\n\r\n        highligthComment(commentId);\r\n\r\n    }\r\n\r\n    /**\r\n     * Comment removing action\r\n     * @return {Event} click Event\r\n     */\r\n    function remove() {\r\n\r\n        var itemClicked = this,\r\n            targetId    = itemClicked.dataset.id;\r\n\r\n        if (!window.confirm('Подтвердите удаление комментария')) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        document.location = '/delete-comment/' + targetId;\r\n\r\n    }\r\n\r\n    return {\r\n        init : init,\r\n        reply : reply,\r\n        remove : remove\r\n    };\r\n\r\n}());\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/comments.js\n// module id = 13\n// module chunks = 0","/**\r\n* Notifications tips module\r\n*/\r\nmodule.exports = (function () {\r\n\r\n    require('../../css/modules/alerts.css');\r\n\r\n    var CSS_ = {\r\n        wrapper : 'cdx-notifies-wrapper',\r\n        notification : 'cdx-notifies',\r\n        crossBtn: 'cdx-notifies-cross'\r\n    };\r\n\r\n    var wrapper_ = null;\r\n\r\n    function prepare_() {\r\n\r\n        if ( wrapper_ ) {\r\n\r\n            return true;\r\n\r\n        }\r\n\r\n        wrapper_ = document.createElement('DIV');\r\n        wrapper_.classList.add(CSS_.wrapper);\r\n\r\n        document.body.appendChild(wrapper_);\r\n\r\n    }\r\n\r\n    /**\r\n    * @param {Object} options:\r\n    *\r\n    * @property {String} type    - type of notification. Just adds {CSS_.notification + '--' + type} class. 'notify' by default\r\n    * @property {String} message - text to notify, can contains HTML\r\n    * @property {String} time    - expiring time\r\n    */\r\n    function show(options) {\r\n\r\n        prepare_();\r\n\r\n        var notify  = document.createElement('DIV'),\r\n            cross   = document.createElement('DIV'),\r\n            message = options.message,\r\n            type    = options.type || 'notify',\r\n            time    = options.time || 8000;\r\n\r\n        if (!message) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        notify.classList.add(CSS_.notification);\r\n        notify.classList.add(CSS_.notification + '--' + type);\r\n        notify.innerHTML = message;\r\n\r\n        cross.classList.add(CSS_.crossBtn);\r\n        cross.addEventListener('click', function () {\r\n\r\n            notify.remove();\r\n\r\n        });\r\n\r\n        notify.appendChild(cross);\r\n        wrapper_.appendChild(notify);\r\n\r\n        notify.classList.add('bounceIn');\r\n\r\n        window.setTimeout(function () {\r\n\r\n            notify.remove();\r\n\r\n        }, time);\r\n\r\n    }\r\n\r\n    return {\r\n        show : show\r\n    };\r\n\r\n})({});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/alerts.js\n// module id = 14\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/css/modules/alerts.css\n// module id = 15\n// module chunks = 0","/**\r\n* Dropdown menu module\r\n* @author: @ndawn\r\n*/\r\n\r\nmodule.exports = (function () {\r\n\r\n    /**\r\n     * Menu block cache\r\n     * @type {Element|null}\r\n     */\r\n    var menuHolder = null;\r\n\r\n    /**\r\n     * Activated menus\r\n     * @type {Array}\r\n     */\r\n    var activated = [];\r\n\r\n    /**\r\n     * CSS class names\r\n     * @type {Object}\r\n     */\r\n    var CSS = {\r\n        menu   : 'island-settings__menu',\r\n        item   : 'island-settings__item',\r\n        showed : 'island-settings__menu--showed'\r\n\r\n    };\r\n\r\n    /**\r\n     * Initialization\r\n     * @param  {Object} settings  - initial settings\r\n     */\r\n    var init = function (settings) {\r\n\r\n        var menuTogglers = document.querySelectorAll(settings.selector),\r\n            startIndex   = activated.length,\r\n            endIndex     = menuTogglers.length + activated.length;\r\n\r\n        for (var index = startIndex; index < endIndex; index++) {\r\n\r\n            /**\r\n             * Save initial object\r\n             */\r\n            activated.push({\r\n                el : menuTogglers[index],\r\n                settings: settings\r\n            });\r\n\r\n            prepareToggler(index, menuTogglers[index - startIndex]);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * @public\r\n     * Add event listener to the toggler\r\n     * @param  {Number} index   - toggler initial index\r\n     * @param  {Element} toggler\r\n     */\r\n    var prepareToggler = function (index, toggler) {\r\n\r\n        /** Save initial selector to specify menu type */\r\n        toggler.dataset.index = index;\r\n        toggler.addEventListener('mouseover', menuTogglerHovered, false);\r\n        toggler.addEventListener('mouseleave', menuTogglerBlurred, false);\r\n\r\n    };\r\n\r\n    /**\r\n     * @private\r\n     *\r\n     * Island circled-icon mouseover handler\r\n     *\r\n     * @param {Event} event     mouseover-event\r\n     */\r\n    var menuTogglerHovered = function () {\r\n\r\n        var menuToggler = this,\r\n            menuParams;\r\n\r\n        /** Prevent mouseover handling multiple times */\r\n        if ( menuToggler.dataset.opened == 'true' ) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        menuToggler.dataset.opened = true;\r\n\r\n        if (!menuHolder) {\r\n\r\n            menuHolder = createMenu();\r\n\r\n        }\r\n\r\n        /**\r\n         * Get current menu params\r\n         * @type {Object}\r\n         */\r\n        menuParams = getMenuParams(menuToggler.dataset.index);\r\n\r\n        console.assert(menuParams.items, 'Menu items missed');\r\n\r\n        fill(menuParams.items, menuToggler);\r\n        move(menuToggler);\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggler blur handler\r\n     */\r\n    var menuTogglerBlurred = function () {\r\n\r\n        this.dataset.opened = false;\r\n\r\n    };\r\n\r\n    /**\r\n     * Return menu parametres by toggler index\r\n     * @param {Number}  index  - index got in init() method\r\n     * @return {Object}\r\n     */\r\n    var getMenuParams = function (index) {\r\n\r\n        return activated[index].settings;\r\n\r\n    };\r\n\r\n    /**\r\n     * Fills menu with items\r\n     * @param  {Array}   items     list of menu items\r\n     * @param  {Element} toggler   islan menu icon with data-attributes\r\n     */\r\n\r\n    var fill = function (items, toggler) {\r\n\r\n        var i,\r\n            itemData,\r\n            itemElement;\r\n\r\n        menuHolder.innerHTML = '';\r\n\r\n        for (i = 0; !!(itemData = items[i]); i++) {\r\n\r\n            itemElement = createItem(itemData);\r\n\r\n            /** Save index in dataset for edit-ability */\r\n            itemElement.dataset.itemIndex = i;\r\n\r\n            /** Pass all parametres stored in icon's dataset to the item's dataset */\r\n            for (var attr in toggler.dataset) {\r\n\r\n                itemElement.dataset[attr] = toggler.dataset[attr];\r\n\r\n            }\r\n\r\n            menuHolder.appendChild(itemElement);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n    * @private\r\n    * Creates an option block\r\n    * @param {Object}   item          - menu item data\r\n    * @param {String}   item.title    - title\r\n    * @param {Function} item.handler  - click handler\r\n    *\r\n    * @return {Element} menu item with click handler\r\n    */\r\n    var createItem = function ( item ) {\r\n\r\n        var itemEl = document.createElement('LI');\r\n\r\n        itemEl.classList.add(CSS.item);\r\n\r\n        console.assert(item.title, 'islandSettings: item title is missed');\r\n        console.assert(typeof item.handler == 'function', 'islandSettings: item handler is not a function');\r\n\r\n        itemEl.textContent = item.title;\r\n        itemEl.addEventListener('click', itemClicked);\r\n\r\n        return itemEl;\r\n\r\n    };\r\n\r\n    /**\r\n     * Single callback for all items handler\r\n     * Calls defined handler on itemClicked (Menu li Element) context and trasmits arguments\r\n     */\r\n    var itemClicked = function () {\r\n\r\n        var itemEl = this,\r\n            togglerIndex = itemEl.dataset.index,\r\n            itemIndex = itemEl.dataset.itemIndex,\r\n            menuParams,\r\n            handler,\r\n            args;\r\n\r\n        menuParams = getMenuParams(togglerIndex);\r\n\r\n        handler = menuParams.items[itemIndex].handler;\r\n        args    = menuParams.items[itemIndex].arguments;\r\n\r\n        handler.call(itemEl, args || {});\r\n\r\n    };\r\n\r\n    /**\r\n    * @private\r\n    * Creates the dropdown menu\r\n    */\r\n    var createMenu = function () {\r\n\r\n        var block = document.createElement('UL');\r\n\r\n        block.classList.add(CSS.menu);\r\n\r\n        return block;\r\n\r\n    };\r\n\r\n    /**\r\n    * Appends a menu to the container\r\n    * @param {Element} container - where to append menu\r\n    */\r\n    var move = function (container) {\r\n\r\n        container.appendChild(menuHolder);\r\n        menuHolder.classList.add(CSS.showed);\r\n\r\n    };\r\n\r\n    /**\r\n     * @public\r\n     * @description Updates menu item\r\n     * @param  {Number} togglerIndex   - Menu toggler initial index stored in toggler's dataset.index\r\n     * @param  {Number} itemIndex      - Item index stored in item's dataset.itemIndex\r\n     * @param  {String} title          - new title\r\n     * @param  {Function} handler      - new handler\r\n     * @param  {Object} args           - handler arguments\r\n     */\r\n    var updateItem = function (togglerIndex, itemIndex, title, handler, args) {\r\n\r\n        console.assert(activated[togglerIndex], 'Toggler was not found by index');\r\n\r\n        var currentMenu = activated[togglerIndex],\r\n            currentItemEl = menuHolder.childNodes[itemIndex],\r\n            currentItem;\r\n\r\n        if (!currentMenu) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        currentItem = activated[togglerIndex].settings.items[itemIndex];\r\n\r\n        if ( title ) {\r\n\r\n            currentItem.title = title;\r\n\r\n        }\r\n\r\n        if ( args  ) {\r\n\r\n            currentItem.arguments = args;\r\n\r\n        }\r\n\r\n        if (handler && typeof handler == 'function') {\r\n\r\n            currentItem.handler = handler;\r\n\r\n        }\r\n\r\n        /** Update opened menu item text  */\r\n        if (menuHolder) {\r\n\r\n            if ( title ) {\r\n\r\n                currentItemEl.textContent = title;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        codex.core.log('item updated %o', 'islandSettings', 'info', currentItem);\r\n\r\n    };\r\n\r\n    return {\r\n        init : init,\r\n        updateItem : updateItem,\r\n        prepareToggler : prepareToggler\r\n    };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/islandSettings.js\n// module id = 16\n// module chunks = 0","/**\r\n* Module for comments textarea autoresize\r\n*/\r\nmodule.exports = (function () {\r\n\r\n    /**\r\n    * Textareas initialization\r\n    */\r\n    var init = function () {\r\n\r\n        var textareas = document.getElementsByClassName('js-autoresizable');\r\n\r\n        if (textareas.length) {\r\n\r\n            for (var i = 0; i < textareas.length; i++) {\r\n\r\n                addListener(textareas[i]);\r\n\r\n                checkScrollHeight(textareas[i]);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n    * Add input event listener to textarea\r\n    *\r\n    * @param {Element} textarea — node which need to be able to autoresize\r\n    */\r\n    var addListener = function (textarea) {\r\n\r\n        textarea.addEventListener('input', textareaChanged, false);\r\n\r\n    };\r\n\r\n    /**\r\n    * Hanging events on textareas\r\n    */\r\n    var textareaChanged = function (event) {\r\n\r\n        var textarea = event.target;\r\n\r\n        checkScrollHeight(textarea);\r\n\r\n    };\r\n\r\n    /**\r\n    * Increasing textarea height\r\n    */\r\n    var checkScrollHeight = function (textarea) {\r\n\r\n        if (textarea.scrollHeight > textarea.clientHeight) {\r\n\r\n            textarea.style.height = textarea.scrollHeight + 'px';\r\n\r\n        }\r\n\r\n    };\r\n\r\n    return {\r\n        init: init,\r\n        addListener : addListener\r\n    };\r\n\r\n}());\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/autoresizeTextarea.js\n// module id = 17\n// module chunks = 0","/**\r\n * User methods module\r\n */\r\nmodule.exports = function () {\r\n\r\n    /**\r\n     * Manupulations with user photo\r\n     * @return {Object} - Module\r\n     */\r\n    var photo = function () {\r\n\r\n        /**\r\n         * Mark elements with this name=\"\" to dynamically update their sources\r\n         * @type {String}\r\n         */\r\n        var updatableElementsName = 'js-img-updatable';\r\n\r\n        /**\r\n         * Changes user's photo\r\n         * @param  {Event}  event   click event\r\n         */\r\n        var change = function ( event, transportType ) {\r\n\r\n            codex.transport.init({\r\n                url : '/upload/' + transportType,\r\n                success : uploaded,\r\n                error   : error\r\n            });\r\n\r\n        };\r\n\r\n        /**\r\n         * Uploading error\r\n         * @param  {Object} error\r\n         */\r\n        var error = function (uploadError) {\r\n\r\n            console.log(uploadError);\r\n\r\n        };\r\n\r\n        /**\r\n         * Photo uploading callback\r\n         * @param  {String} response    server answer\r\n         */\r\n        var uploaded = function (response) {\r\n\r\n            response = JSON.parse(response);\r\n\r\n            if ( !response.success ) {\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: response.message || 'File uploading error :('\r\n                });\r\n\r\n                return;\r\n\r\n            }\r\n\r\n            console.assert( response.data && response.data.url, 'Wrong response data');\r\n\r\n            updateAll( response.data.url );\r\n\r\n        };\r\n\r\n        /**\r\n         * Updates all user photo sources\r\n         * @uses   updatableElementsName  to find img tags\r\n         * @param  {String} newSource\r\n         */\r\n        var updateAll = function ( newSource) {\r\n\r\n            var updatebleImages = document.getElementsByName(updatableElementsName);\r\n\r\n            for (var i = updatebleImages.length - 1; i >= 0; i--) {\r\n\r\n                updatebleImages[i].src = newSource;\r\n\r\n            }\r\n\r\n        };\r\n\r\n        return {\r\n            change : change\r\n        };\r\n\r\n    }();\r\n\r\n    /**\r\n     * Updatin user ROLE or STATUS\r\n     * @type {{status, role}}\r\n     */\r\n    var promote = function () {\r\n\r\n        var status = function (args) {\r\n\r\n            var itemClicked = this,\r\n                userId = itemClicked.dataset.id,\r\n                value = args.value;\r\n\r\n            sendRequest(itemClicked, 'status', userId, value);\r\n\r\n        };\r\n\r\n        var role = function (args) {\r\n\r\n            var itemClicked = this,\r\n                userId = itemClicked.dataset.id,\r\n                value = args.value;\r\n\r\n            sendRequest(itemClicked, 'role', userId, value);\r\n\r\n        };\r\n\r\n        /**\r\n         * Change user role or status request\r\n         * @param {Element} itemClicked     - menu item element\r\n         * @param {string}  field           - field to save (role|status)\r\n         * @param {Number}  userId          - target user id\r\n         * @param {Number}  value           - new value\r\n         */\r\n        var sendRequest = function (itemClicked, field, userId, value) {\r\n\r\n            var url = '/user/' + userId + '/change/' + field,\r\n                requestData = new FormData();\r\n\r\n            requestData.append('value', value);\r\n\r\n            codex.ajax.call({\r\n                url : url,\r\n                type : 'POST',\r\n                data: requestData,\r\n                beforeSend : function () {\r\n\r\n                    itemClicked.classList.add('loading');\r\n\r\n                },\r\n                success: function (response) {\r\n\r\n                    var menuIndex = itemClicked.dataset.index,\r\n                        itemIndex = itemClicked.dataset.itemIndex;\r\n\r\n                    response = JSON.parse(response);\r\n\r\n                    itemClicked.classList.remove('loading');\r\n\r\n                    codex.islandSettings.updateItem(menuIndex, itemIndex, response.buttonText, null, {\r\n                        value: response.buttonValue\r\n                    });\r\n\r\n                    codex.alerts.show({\r\n                        type: response.success ? 'success' : 'error',\r\n                        message: response.message || 'Не удалось сохранить изменения'\r\n                    });\r\n\r\n                }\r\n            });\r\n\r\n        };\r\n\r\n        return {\r\n            status : status,\r\n            role   : role\r\n        };\r\n\r\n    }();\r\n\r\n\r\n    var changePassword = function () {\r\n\r\n        var form    = null,\r\n            input   = null,\r\n            button  = null;\r\n        /**\r\n         * Shows form with input for current password\r\n         *\r\n         * @param lockButton\r\n         */\r\n        var showForm = function (lockButton) {\r\n\r\n            lockButton.classList.add('hide');\r\n\r\n            form = document.getElementById('change-password-form');\r\n            input = document.getElementById('change-password-input');\r\n\r\n            form.classList.remove('hide');\r\n\r\n\r\n        };\r\n\r\n        /**\r\n         * Handler for set password button\r\n         *\r\n         * @param form_\r\n         */\r\n        var set = function (form_) {\r\n\r\n            form = form_;\r\n            requestChange(form, true);\r\n            showSuccessMessage();\r\n\r\n        };\r\n\r\n        /**\r\n         * Requests email with change password link\r\n         *\r\n         * @param button_\r\n         * @param dontShowResponse - if TRUE, response will be ignored\r\n         */\r\n        var requestChange = function (button_, dontShowResponse) {\r\n\r\n            button = button_;\r\n            button.classList.add('loading');\r\n\r\n            var data = new FormData();\r\n\r\n            data.append('csrf', window.csrf);\r\n            data.append('currentPassword', input ? input.value : '');\r\n\r\n            codex.ajax.call({\r\n                url: '/user/passchange',\r\n                type: 'POST',\r\n                data: data,\r\n                success: dontShowResponse ? null : ajaxResponse,\r\n                error: ajaxResponse\r\n            });\r\n\r\n        };\r\n\r\n        /**\r\n         * Repeat password change email sending\r\n         *\r\n         * @param button_\r\n         */\r\n        var repeatEmail = function (button_) {\r\n\r\n            button_.classList.add('loading');\r\n\r\n            var data = new FormData();\r\n\r\n            data.append('csrf', window.csrf);\r\n            data.append('repeatEmail', true);\r\n\r\n            codex.ajax.call({\r\n                url: '/user/passchange',\r\n                type: 'POST',\r\n                data: data,\r\n                success: function () {\r\n\r\n                    button_.classList.remove('loading');\r\n\r\n                    codex.alerts.show({\r\n                        type: 'success',\r\n                        message: 'Мы отправили на вашу почту письмо'\r\n                    });\r\n\r\n                },\r\n                error: function () {\r\n\r\n                    button_.classList.remove('loading');\r\n\r\n                    codex.alerts.show({\r\n                        type: 'error',\r\n                        message: 'Произошла ошибка'\r\n                    });\r\n\r\n                }\r\n            });\r\n\r\n        };\r\n\r\n        var ajaxResponse = function (response) {\r\n\r\n            button.classList.remove('loading');\r\n\r\n            try {\r\n\r\n                response = JSON.parse(response);\r\n\r\n            } catch (e) {\r\n\r\n                response = {success: 0, message: 'Произошла ошибка'};\r\n\r\n            }\r\n\r\n            if (!response.success) {\r\n\r\n                if (input) input.classList.add('form__input--invalid');\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message:response.message\r\n                });\r\n\r\n\r\n            } else {\r\n\r\n                showSuccessMessage();\r\n                return;\r\n\r\n            }\r\n\r\n\r\n        };\r\n\r\n        /**\r\n         * Shows success email sending message\r\n         *\r\n         */\r\n        var showSuccessMessage = function () {\r\n\r\n            codex.alerts.show({\r\n                type: 'success',\r\n                message: 'Мы выслали инструкцию на вашу почту'\r\n            });\r\n\r\n            form.classList.add('hide');\r\n\r\n            form = document.getElementById('change-password-success');\r\n            form.classList.remove('hide');\r\n\r\n        };\r\n\r\n        return {\r\n            showForm: showForm,\r\n            requestChange: requestChange,\r\n            set: set,\r\n            repeatEmail: repeatEmail,\r\n        };\r\n\r\n    }();\r\n\r\n    /**\r\n     * Working with bio\r\n     */\r\n    var bio = function () {\r\n\r\n        /**\r\n         * Edited textarea cache\r\n         * @type {Element|null}\r\n         */\r\n        var textarea = null;\r\n\r\n        /**\r\n         * Edit bio click handler;\r\n         * @param {Element} button  - button clicked\r\n         */\r\n        var edit = function ( button ) {\r\n\r\n            var opened = button.querySelector('textarea');\r\n\r\n            if (opened) {\r\n\r\n                return;\r\n\r\n            }\r\n\r\n            textarea = document.createElement('TEXTAREA');\r\n            textarea.innerHTML = button.textContent.trim();\r\n            textarea.addEventListener('keydown', keydown);\r\n\r\n            button.innerHTML = '';\r\n            button.appendChild(textarea);\r\n\r\n            textarea.focus();\r\n\r\n            /** Fire autoresize */\r\n            codex.autoresizeTextarea.addListener(textarea);\r\n\r\n        };\r\n\r\n        /**\r\n         * Bio textarea keydowns\r\n         * Sends via AJAX by ENTER\r\n         */\r\n        var keydown = function ( event ) {\r\n\r\n            if ( event.keyCode == codex.core.keys.ENTER ) {\r\n\r\n                send(this.value);\r\n                event.preventDefault();\r\n\r\n            }\r\n\r\n        };\r\n\r\n        /**\r\n         * Sends bio field\r\n         * @param  {String} val textarea value\r\n         */\r\n        var send = function (val) {\r\n\r\n            if (!val.trim()) {\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: 'Write something about yourself'\r\n                });\r\n                return;\r\n\r\n            }\r\n\r\n            var formData = new FormData();\r\n\r\n            formData.append('bio', val);\r\n            formData.append('csrf', window.csrf);\r\n\r\n            codex.ajax.call({\r\n                type : 'POST',\r\n                url : '/user/updateBio',\r\n                data : formData,\r\n                beforeSend: beforeSend,\r\n                success : saved\r\n            });\r\n\r\n        };\r\n\r\n        /**\r\n         * Simple beforeSend method\r\n         */\r\n        var beforeSend = function () {\r\n\r\n            textarea.classList.add('loading');\r\n\r\n        };\r\n\r\n        /**\r\n         * Success saving callback\r\n         */\r\n        var saved = function (response) {\r\n\r\n            response = JSON.parse(response);\r\n\r\n            if (!response.success || !response.bio) {\r\n\r\n                textarea.classList.remove('loading');\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: 'Saving error, sorry'\r\n                });\r\n                return;\r\n\r\n            }\r\n\r\n            var newBio = document.createTextNode(response.bio || '');\r\n\r\n            /** Update user's CSRF token */\r\n            window.csrf = response.csrf;\r\n\r\n            codex.core.replace(textarea, newBio);\r\n\r\n        };\r\n\r\n        return {\r\n            edit: edit\r\n        };\r\n\r\n    }();\r\n\r\n    var email = function () {\r\n\r\n        var currentEmail    = null,\r\n            loadingButton   = null;\r\n\r\n        var saved = function (response) {\r\n\r\n            try {\r\n\r\n                response = JSON.parse(response);\r\n\r\n                if (response.success) {\r\n\r\n                    codex.core.replace(currentEmail.parentNode, codex.core.parseHTML(response.island)[0]);\r\n\r\n                    codex.alerts.show({\r\n                        type: 'success',\r\n                        message: 'Адрес почты обновлен. Теперь вам нужно подтвердить его, перейдя по ссылке в письме.'\r\n                    });\r\n\r\n                    currentEmail = null;\r\n                    return;\r\n\r\n                }\r\n\r\n            } catch (e) {}\r\n\r\n            loadingButton.classList.remove('loading');\r\n\r\n            codex.alerts.show({\r\n                type: 'error',\r\n                message: response.message || 'Произошла ошибка, попробуйте позже'\r\n            });\r\n\r\n        };\r\n\r\n        var send = function () {\r\n\r\n            if (currentEmail.value.trim() == '') {\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: 'Введите email'\r\n                });\r\n\r\n                return;\r\n\r\n            }\r\n\r\n            loadingButton = this;\r\n            loadingButton.classList.add('loading');\r\n\r\n            var data = new FormData();\r\n\r\n            data.append('email', currentEmail.value);\r\n            data.append('csrf', window.csrf);\r\n\r\n            codex.ajax.call({\r\n                url: 'user/changeEmail',\r\n                type: 'POST',\r\n                data: data,\r\n                success: saved,\r\n                error: saved\r\n            });\r\n\r\n        };\r\n\r\n        var sendConfirmation = function (button) {\r\n\r\n            var success = function (response) {\r\n\r\n                response = JSON.parse(response);\r\n\r\n                codex.alerts.show({\r\n                    type: 'success',\r\n                    message: response.message\r\n                });\r\n                button.classList.remove('loading');\r\n\r\n            };\r\n\r\n            button.classList.add('loading');\r\n\r\n            codex.ajax.call({\r\n                url: '/ajax/confirmation-email',\r\n                success: success\r\n            });\r\n\r\n        };\r\n\r\n        var changed = function (input) {\r\n\r\n            if (currentEmail) {\r\n\r\n                return;\r\n\r\n            }\r\n\r\n            currentEmail = input;\r\n\r\n            var saveButton = document.createElement('BUTTON'),\r\n                sendButton = input.parentNode.querySelector('button');\r\n\r\n            if (sendButton) sendButton.classList.remove('master');\r\n\r\n            saveButton.classList.add('button', 'master');\r\n            saveButton.textContent = 'Сохранить';\r\n\r\n            saveButton.addEventListener('click', send);\r\n\r\n            input.oninput = null;\r\n            input.parentNode.appendChild(saveButton);\r\n\r\n        };\r\n\r\n        var set = function (button) {\r\n\r\n            button.classList.add('hide');\r\n\r\n            var form = document.getElementById('set-email-form');\r\n\r\n            form.classList.remove('hide');\r\n\r\n            currentEmail = document.getElementById('set-email-input');\r\n\r\n        };\r\n\r\n        return {\r\n            sendConfirmation: sendConfirmation,\r\n            changed: changed,\r\n            send: send,\r\n            set: set,\r\n        };\r\n\r\n    }();\r\n\r\n\r\n    return {\r\n        changePassword: changePassword,\r\n        promote: promote,\r\n        photo: photo,\r\n        bio : bio,\r\n        email: email,\r\n    };\r\n\r\n}();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/user.js\n// module id = 18\n// module chunks = 0","var sharer = {\r\n\r\n    init : function () {\r\n\r\n        var shareButtons = document.querySelectorAll('.js-share');\r\n\r\n        for (var i = shareButtons.length - 1; i >= 0; i--) {\r\n\r\n            shareButtons[i].addEventListener('click', sharer.click, true);\r\n\r\n        }\r\n\r\n    },\r\n\r\n    shareVk : function (data) {\r\n\r\n        var link  = 'https://vk.com/share.php?';\r\n\r\n        link += 'url='          + data.url;\r\n        link += '&title='       + data.title;\r\n        link += '&description=' + data.desc;\r\n        link += '&image='       + data.img;\r\n        link += '&noparse=true';\r\n\r\n        this.popup( link, 'vkontakte'  );\r\n\r\n    },\r\n\r\n    shareFacebook : function (data) {\r\n\r\n        var FB_APP_ID = 1740455756240878,\r\n            link      = 'https://www.facebook.com/dialog/share?display=popup';\r\n\r\n        link += '&app_id='       + FB_APP_ID;\r\n        link += '&href='         + data.url;\r\n        link += '&redirect_uri=' + document.location.href;\r\n\r\n        this.popup( link, 'facebook' );\r\n\r\n    },\r\n\r\n    shareTwitter : function (data) {\r\n\r\n        var link = 'https://twitter.com/share?';\r\n\r\n        link += 'text='      + data.title;\r\n        link += '&url='      + data.url;\r\n        link += '&counturl=' + data.url;\r\n\r\n        this.popup( link, 'twitter' );\r\n\r\n    },\r\n\r\n    shareTelegram : function (data) {\r\n\r\n        var link  = 'https://telegram.me/share/url';\r\n\r\n        link += '?text=' + data.title;\r\n        link += '&url='  + data.url;\r\n\r\n        this.popup( link, 'telegram' );\r\n\r\n    },\r\n\r\n    popup : function ( url, socialType ) {\r\n\r\n        window.open( url, '', 'toolbar=0,status=0,width=626,height=436' );\r\n\r\n        /**\r\n         * Write analytics goal\r\n         */\r\n        if ( window.yaCounter32652805 ) {\r\n\r\n            window.yaCounter32652805.reachGoal('article-share', function () {}, this, {type: socialType, url: url});\r\n\r\n        }\r\n\r\n    },\r\n\r\n    click : function (event) {\r\n\r\n        var target = event.target;\r\n\r\n        /**\r\n         * Social provider stores in data 'shareType' attribute on share-button\r\n         * But click may be fired on child-element in button, so we need to handle it.\r\n         */\r\n        var type = target.dataset.shareType || target.parentNode.dataset.shareType;\r\n\r\n        if (!sharer[type]) return;\r\n\r\n        /**\r\n         * Sanitize share params\r\n         * @todo test for taint strings\r\n         */\r\n            // for (key in window.shareData){\r\n            //      window.shareData[key] = encodeURIComponent(window.shareData[key]);\r\n            // }\r\n\r\n        var shareData = {\r\n\r\n            url:    target.dataset.url || target.parentNode.dataset.url,\r\n            title:  target.dataset.title || target.parentNode.dataset.title,\r\n            desc:   target.dataset.desc || target.parentNode.dataset.desc,\r\n            img:    target.dataset.img || target.parentNode.dataset.title\r\n\r\n        };\r\n\r\n        /**\r\n         * Fire click handler\r\n         */\r\n\r\n        sharer[type](shareData);\r\n\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = sharer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/sharer.js\n// module id = 19\n// module chunks = 0","/**\r\n * Module for load and start codex-editor\r\n *\r\n * Using:\r\n *\r\n * codex.writing.prepare({\r\n *     holderId : 'placeForEditor',                                         // (required)\r\n *     hideEditorToolbar : <?= $hideEditorToolbar ? 'true' : 'false' ?>,\r\n *     items : <?= json_encode($page->blocks) ?: '[]' ?>,\r\n *     pageId   : <?= $page->id ?>,\r\n *     parentId : <?= $page->id_parent ?>,\r\n * }).then(\r\n *    codex.writing.init\r\n * );\r\n */\r\n\r\n\r\nmodule.exports = (function () {\r\n\r\n    /**\r\n     * CodeX Editor Personality-tool\r\n     * @see  https://github.com/codex-editor/personality\r\n     * @type {[type]}\r\n     */\r\n    var personalityTool = require('exports-loader?cdxEditorPersonality!codex.editor.personality');\r\n\r\n\r\n    var editorIsReady = false,\r\n        submitButton = null,\r\n        settings = {\r\n            hideEditorToolbar   : false,\r\n            titleId             : 'editorWritingTitle',\r\n            initialBlockPlugin  : 'paragraph',\r\n            data                : {items: []},\r\n            resources           : [],\r\n            holderId            : null,\r\n            pageId              : 0,\r\n            parentId            : 0,\r\n        };\r\n\r\n    /**\r\n     * Prepare editor's resourses\r\n     *\r\n     * @param  {Object} initSettings    base settings for editor\r\n     * @return {Promise}            all editor's resources are ready\r\n     */\r\n    var prepare = function (initSettings) {\r\n\r\n        mergeSettings(initSettings);\r\n\r\n        return loadEditorResources(settings.resources)\r\n                .then(function () {\r\n\r\n                    editorIsReady = true;\r\n\r\n                });\r\n\r\n    };\r\n\r\n    /**\r\n     * Fill module's settings by settings from params\r\n     *\r\n     * @param  {Object} initSettings  list of params from init\r\n     */\r\n    function mergeSettings(initSettings) {\r\n\r\n        for (var key in initSettings) {\r\n\r\n            settings[key] = initSettings[key];\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Run editor\r\n     */\r\n    function startEditor() {\r\n\r\n        /**\r\n         * @todo get from server\r\n         */\r\n        var EDITOR_IMAGE = 1;\r\n        var EDITOR_FILE  = 2;\r\n        var EDITOR_PERSONALITY  = 6;\r\n\r\n        codex.editor.start({\r\n\r\n            holderId:  settings.holderId,\r\n            initialBlockPlugin : settings.initialBlockPlugin,\r\n            hideToolbar: settings.hideEditorToolbar,\r\n            sanitizer: {\r\n                tags : {\r\n                    p : {},\r\n                    a : {\r\n                        href: true,\r\n                        target: '_blank'\r\n                    }\r\n                }\r\n            },\r\n            tools : {\r\n                paragraph: {\r\n                    type               : 'paragraph',\r\n                    iconClassname      : 'ce-icon-paragraph',\r\n                    render             : window.paragraph.render,\r\n                    validate           : window.paragraph.validate,\r\n                    save               : window.paragraph.save,\r\n                    allowedToPaste     : true,\r\n                    showInlineToolbar  : true,\r\n                    destroy            : window.paragraph.destroy,\r\n                    allowRenderOnPaste : true\r\n                },\r\n                header: {\r\n                    type             : 'header',\r\n                    iconClassname    : 'ce-icon-header',\r\n                    appendCallback   : window.header.appendCallback,\r\n                    makeSettings     : window.header.makeSettings,\r\n                    render           : window.header.render,\r\n                    validate         : window.header.validate,\r\n                    save             : window.header.save,\r\n                    destroy          : window.header.destroy,\r\n                    displayInToolbox : true\r\n                },\r\n                image: {\r\n                    type                  : 'image',\r\n                    iconClassname         : 'ce-icon-picture',\r\n                    appendCallback        : window.image.appendCallback,\r\n                    prepare               : window.image.prepare,\r\n                    makeSettings          : window.image.makeSettings,\r\n                    render                : window.image.render,\r\n                    save                  : window.image.save,\r\n                    destroy               : window.image.destroy,\r\n                    isStretched           : true,\r\n                    showInlineToolbar     : true,\r\n                    displayInToolbox      : true,\r\n                    renderOnPastePatterns : window.image.pastePatterns,\r\n                    config: {\r\n                        uploadImage : '/upload/' + EDITOR_IMAGE,\r\n                        uploadFromUrl : ''\r\n                    }\r\n                },\r\n                attaches: {\r\n                    type             : 'attaches',\r\n                    displayInToolbox : true,\r\n                    iconClassname    : 'cdx-attaches__icon',\r\n                    prepare          : window.cdxAttaches.prepare,\r\n                    render           : window.cdxAttaches.render,\r\n                    save             : window.cdxAttaches.save,\r\n                    validate         : window.cdxAttaches.validate,\r\n                    destroy          : window.cdxAttaches.destroy,\r\n                    appendCallback   : window.cdxAttaches.appendCallback,\r\n                    config: {\r\n                        fetchUrl: '/upload/' + EDITOR_FILE,\r\n                        maxSize: codex.appSettings.uploadMaxSize * 1000,\r\n                    }\r\n                },\r\n                list: {\r\n                    type: 'list',\r\n                    iconClassname: 'ce-icon-list-bullet',\r\n                    make: window.list.make,\r\n                    appendCallback: null,\r\n                    makeSettings: window.list.makeSettings,\r\n                    render: window.list.render,\r\n                    validate: window.list.validate,\r\n                    save: window.list.save,\r\n                    destroy: window.list.destroy,\r\n                    displayInToolbox: true,\r\n                    showInlineToolbar: true,\r\n                    enableLineBreaks: true,\r\n                    allowedToPaste: true\r\n                },\r\n                raw : {\r\n                    type: 'raw',\r\n                    displayInToolbox: true,\r\n                    iconClassname: 'raw-plugin-icon',\r\n                    render: window.rawPlugin.render,\r\n                    save: window.rawPlugin.save,\r\n                    validate: window.rawPlugin.validate,\r\n                    destroy: window.rawPlugin.destroy,\r\n                    enableLineBreaks: true,\r\n                    allowPasteHTML: true\r\n                },\r\n                personality: {\r\n                    type             : 'personality',\r\n                    displayInToolbox : true,\r\n                    iconClassname    : 'cdx-personality-icon',\r\n                    prepare          : personalityTool.prepare,\r\n                    render           : personalityTool.render,\r\n                    save             : personalityTool.save,\r\n                    validate         : personalityTool.validate,\r\n                    destroy          : personalityTool.destroy,\r\n                    enableLineBreaks : true,\r\n                    showInlineToolbar: true,\r\n                    config: {\r\n                        uploadURL: '/upload/' + EDITOR_PERSONALITY,\r\n                    }\r\n                }\r\n            },\r\n\r\n            data : settings.data\r\n        });\r\n\r\n        var titleInput = document.getElementById(settings.titleId);\r\n\r\n        /**\r\n         * Focus at the title\r\n         */\r\n        titleInput.focus();\r\n        titleInput.addEventListener('keydown', titleKeydownHandler );\r\n\r\n    }\r\n\r\n    /**\r\n     * Title input keydowns\r\n     * @description  By ENTER, sets focus on editor\r\n     * @param  {Event} event  - keydown event\r\n     */\r\n    var titleKeydownHandler = function (event) {\r\n\r\n        /* Set focus on Editor by Enter     */\r\n        if ( event.keyCode == codex.core.keys.ENTER ) {\r\n\r\n            event.preventDefault();\r\n\r\n            focusRedactor();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * Temporary scheme to focus Codex Editor first-block\r\n     */\r\n    var focusRedactor = function () {\r\n\r\n        var firstBlock       = codex.editor.nodes.redactor.firstChild,\r\n            contentHolder    = firstBlock.firstChild,\r\n            firstToolWrapper = contentHolder.firstChild,\r\n            aloneTextNode;\r\n\r\n        /**\r\n         * Caret will not be placed in empty textNode, so we need textNode with zero-width char\r\n         */\r\n        aloneTextNode = document.createTextNode('\\u200B');\r\n\r\n        /**\r\n         * We need to append manually created textnode before returning\r\n         */\r\n        firstToolWrapper.appendChild(aloneTextNode);\r\n\r\n        codex.editor.caret.set(firstToolWrapper, 0, 0);\r\n\r\n    };\r\n\r\n    /**\r\n     * Public function for run editor\r\n     */\r\n    var init = function () {\r\n\r\n        if (!editorIsReady) return;\r\n\r\n        startEditor();\r\n\r\n    };\r\n\r\n    /**\r\n     * Show form and hide placeholder\r\n     *\r\n     * @param  {Element} targetClicked       placeholder with wrapper\r\n     * @param  {String}  formId               remove 'hide' from this form by id\r\n     * @param  {String}  hidePlaceholderClass add this class to placeholder\r\n     */\r\n    var open = function (targetClicked, formId, hidePlaceholderClass) {\r\n\r\n        if (!editorIsReady) return;\r\n\r\n        var holder = targetClicked;\r\n\r\n        document.getElementById(formId).classList.remove('hide');\r\n        holder.classList.add(hidePlaceholderClass);\r\n        holder.onclick = null;\r\n\r\n        init();\r\n\r\n    };\r\n\r\n    /**\r\n     * Load editor resources and append block with them to body\r\n     *\r\n     * @param  {Array} resources list of resources which should be loaded\r\n     * @return {Promise}\r\n     */\r\n    var loadEditorResources = function (resources) {\r\n\r\n        return Promise.all(\r\n            resources.map(loadResource)\r\n        );\r\n\r\n    };\r\n\r\n    /**\r\n     * Loads resource\r\n     *\r\n     * @param  {Object} resource name and paths for js and css\r\n     * @return {Promise}\r\n     */\r\n    function loadResource(resource) {\r\n\r\n        var name      = resource.name,\r\n            scriptUrl = resource.path.script,\r\n            styleUrl  = resource.path.style;\r\n\r\n        return Promise.all([\r\n            codex.loader.importScript(scriptUrl, name),\r\n            codex.loader.importStyle(styleUrl, name)\r\n        ]);\r\n\r\n    }\r\n\r\n    /**\r\n    * Prepares form to submit\r\n    */\r\n    var getForm = function () {\r\n\r\n        var atlasForm = document.forms.atlas;\r\n\r\n        if (!atlasForm) return;\r\n\r\n        /** CodeX.Editor */\r\n        var JSONinput = document.createElement('TEXTAREA');\r\n\r\n        JSONinput.name   = 'content';\r\n        JSONinput.id     = 'json_result';\r\n        JSONinput.hidden = true;\r\n        atlasForm.appendChild(JSONinput);\r\n\r\n        /**\r\n         * Save blocks\r\n         */\r\n        codex.editor.saver.saveBlocks();\r\n\r\n        return atlasForm;\r\n\r\n    };\r\n\r\n    /**\r\n     * Send ajax request with writing form data\r\n     * @param button - submit button (needed to add loading animation)\r\n     */\r\n    var submit = function (button) {\r\n\r\n        var title = document.forms.atlas.elements['title'],\r\n            form;\r\n\r\n        if (title.value.trim() === '') {\r\n\r\n            codex.editor.notifications.notification({\r\n                type: 'warn',\r\n                message: 'Заполните заголовок'\r\n            });\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        form = getForm();\r\n\r\n        submitButton = button;\r\n\r\n        submitButton.classList.add('loading');\r\n\r\n        window.setTimeout(function () {\r\n\r\n            form.elements['content'].innerHTML = JSON.stringify({items: codex.editor.state.jsonOutput});\r\n\r\n            codex.ajax.call({\r\n                url: '/p/save',\r\n                data: new FormData(form),\r\n                success: submitResponse,\r\n                type: 'POST'\r\n            });\r\n\r\n        }, 500);\r\n\r\n    };\r\n\r\n    /**\r\n     * Response handler for page saving\r\n     * @param response\r\n     */\r\n    var submitResponse = function (response) {\r\n\r\n        submitButton.classList.remove('loading');\r\n\r\n        response = JSON.parse(response);\r\n\r\n        if (response.success) {\r\n\r\n            window.location = response.redirect;\r\n            return;\r\n\r\n        }\r\n\r\n        codex.editor.notifications.notification({\r\n            type: 'warn',\r\n            message: response.message\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n    * Submits writing form for opening in full-screan page without saving\r\n    */\r\n    var openEditorFullscreen = function () {\r\n\r\n\r\n        var form = getForm();\r\n\r\n        window.setTimeout(function () {\r\n\r\n            form.elements['content'].innerHTML = JSON.stringify({ items: codex.editor.state.jsonOutput });\r\n\r\n            form.submit();\r\n\r\n        }, 500);\r\n\r\n    };\r\n\r\n    return {\r\n        init    : init,\r\n        prepare : prepare,\r\n        open    : open,\r\n        openEditorFullscreen : openEditorFullscreen,\r\n        submit               : submit,\r\n    };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/writing.js\n// module id = 20\n// module chunks = 0","var cdxEditorPersonality =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n * Interface for Personality tool\n * @author CodeX Team\n */\nmodule.exports = function (ui) {\n\n    'use strict';\n\n    /**\n     * CSS class names\n     * @type {Object}\n     */\n    ui.css = {\n        holder       : 'cdx-personality',\n        name         : 'cdx-personality__name',\n        cite         : 'cdx-personality__cite',\n        url          : 'cdx-personality__url',\n        photo        : 'cdx-personality__photo',\n        photoPreview : 'cdx-personality__photo--preview'\n    };\n\n    /**\n     * Creates Element\n     * @param {string} tagName\n     * @param {string} className\n     * @param {object} properties - allow to assign properties\n     */\n    var create = function ( tagName, className, properties ) {\n\n        var el = document.createElement( tagName );\n\n        if ( className ) el.className = className;\n\n        if ( properties ) {\n\n            for (var name in properties) {\n\n                el[name] = properties[name];\n\n            }\n\n        }\n\n        return el;\n\n    };\n\n    /**\n     * Creates plugin holder\n     * @return {Element}\n     */\n    ui.holder = function () {\n\n        return create('DIV', ui.css.holder);\n\n    };\n\n    /**\n     * Input for personality name\n     * @param {String} savedName\n     * @return {Element}\n     */\n    ui.nameInput = function (savedName) {\n\n        var name = create('INPUT', ui.css.name);\n\n        name.placeholder = 'Введите имя';\n        name.value = savedName || '';\n\n        return name;\n\n    };\n\n    /**\n     * Input for personality description\n     * @param {String} savedCite\n     * @return {Element}\n     */\n    ui.citeInput = function (savedCite) {\n\n        var div = create('DIV', ui.css.cite);\n\n        div.contentEditable = true;\n        div.setAttribute('data-placeholder', 'Должность или другая информация');\n        div.innerHTML = savedCite || '';\n\n        return div;\n\n    };\n\n    /**\n     * Input for personality URL\n     * @param {String} savedUrl\n     * @return {Element}\n     */\n    ui.urlInput = function (savedUrl) {\n\n        var url = create('INPUT', ui.css.url);\n\n        url.placeholder = 'Ссылка на страницу человека';\n        url.value = savedUrl || '';\n\n        return url;\n\n    };\n\n     /**\n     * @return {Element}\n     * @param {String} savedPhoto image URL\n     */\n    ui.photo = function (savedPhoto) {\n\n        var photo = create('DIV', ui.css.photo),\n            img;\n\n        if (savedPhoto) {\n\n            img = document.createElement('IMG');\n            img.src = savedPhoto;\n            photo.appendChild(img);\n\n        }\n\n        return photo;\n\n    };\n\n    return ui;\n\n}({});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Saver module for Personality tool\n * @author  CodeX Team\n */\nmodule.exports = function (saver) {\n\n    'use strict';\n\n    var ui = __webpack_require__(0);\n\n    /**\n     * Extracts data from block\n     * @param  {Element} block\n     * @return {Object}\n     */\n    saver.extractData = function (block) {\n\n        var nameEl = block.querySelector(`.${ui.css.name}`),\n            citeEl = block.querySelector(`.${ui.css.cite}`),\n            urlEl  = block.querySelector(`.${ui.css.url}`),\n            photo  = block.querySelector(`.${ui.css.photo} img`),\n            toolData = {},\n            sanitizerConfig = {\n                tags : {\n                    p : {},\n                    a: {\n                        href: true,\n                        target: '_blank',\n                        rel: 'nofollow'\n                    },\n                    i: {},\n                    b: {},\n                }\n            },\n            cite;\n\n        cite = citeEl.innerHTML;\n        cite = codex.editor.content.wrapTextWithParagraphs(cite);\n        cite = codex.editor.sanitizer.clean(cite, sanitizerConfig);\n\n        toolData.name = nameEl.value;\n        toolData.cite = cite;\n        toolData.url  = urlEl.value;\n        toolData.photo = null;\n\n        if (photo) {\n\n            toolData.photo = photo.src;\n\n        }\n\n        return toolData;\n\n    };\n\n    /**\n     * Validation method\n     * @param  {Object} toolData - saving data that needs to check\n     * @return {Boolean}         - TRUE if data is value\n     */\n    saver.validate = function (toolData) {\n\n        /** Dont allow empty name */\n        if (!toolData.name.trim()) {\n\n            return false;\n\n        }\n\n        return true;\n\n    };\n\n    return saver;\n\n}({});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Uploader module for Personality tool\n * @author  CodeX Team\n */\nmodule.exports = function (uploader) {\n\n    'use strict';\n\n    var ui = __webpack_require__(0);\n\n    /**\n     * External config\n     * @type {Object}\n     */\n    uploader.config = {\n        uploadURL : ''\n    };\n\n    /**\n     * Updates preview image\n     * @return {Element} preview - preview IMG\n     * @return {String} src      - preview image source\n     */\n    function updatePreview( preview, src ) {\n\n        preview.src = src;\n\n    }\n\n\n    /**\n     * Makes images preview\n     * @param  {HTMLElement} holder\n     */\n    function makePreview(holder) {\n\n        var input = codex.editor.transport.input,\n            files = input.files,\n            reader,\n            preview = document.createElement('IMG');\n\n        console.assert( files, 'There is no files in input');\n\n        reader = new window.FileReader();\n        reader.readAsDataURL(files[0]);\n\n        preview.classList.add(ui.css.photoPreview);\n        holder.innerHTML = '';\n        holder.appendChild(preview);\n\n        reader.onload = function ( e ) {\n\n            updatePreview(preview, e.target.result);\n\n        };\n\n        return preview;\n\n    }\n\n    /**\n     * Before send method\n     * @this {Button clicked}\n     */\n    function beforeSend() {\n\n        var selectPhotoButton = this;\n\n        /**\n         * Returned value will be passed as context of success and error\n         */\n        return makePreview(selectPhotoButton);\n\n    }\n\n    /**\n     * Success uploading hanlder\n     * @this - beforeSend result\n     * @param {String} response - upload response\n     *\n     * Expected response format:\n     * {\n     *     success : 1,\n     *     data: {\n     *         url : 'site/filepath.jpg'\n     *     }\n     * }\n     */\n    function success( response ) {\n\n        let preview = this;\n\n        response = JSON.parse(response);\n\n        console.assert(response.data && response.data.url, 'Expected photo URL was not found in response data');\n\n        updatePreview(preview, response.data.url);\n        preview.classList.remove(ui.css.photoPreview);\n\n    }\n\n    /**\n     * Error during upload handler\n     * @this {Element} preview\n     */\n    function failed() {\n\n        var preview = this;\n\n        codex.editor.notifications.notification({type: 'error', message: 'Ошибка во время загрузки. Попробуйте другой файл'});\n\n        preview.remove();\n\n    }\n\n    /**\n     * Select file click listener\n     */\n    uploader.photoClicked = function () {\n\n        var button = this;\n\n        codex.editor.transport.selectAndUpload({\n            url         : uploader.config.uploadURL,\n            multiple    : false,\n            accept      : 'image/*',\n            beforeSend  : beforeSend.bind(button),\n            success     : success,\n            error       : failed\n        });\n\n    };\n\n    return uploader;\n\n}({});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Personality\n * Tool for CodeX Editor\n *\n * @author CodeX Team\n * @version 1.0.0\n * @see https://github.com/codex-editor/personality\n *\n * @description Provides public interface methods\n */\nmodule.exports = function () {\n\n    'use strict';\n\n    /**\n     * Styleheets\n     */\n    __webpack_require__(3);\n\n    var ui       = __webpack_require__(0);\n    var saver    = __webpack_require__(1);\n    var uploader = __webpack_require__(2);\n\n    /**\n     * @param {Object} toolData\n     * @param {string} toolData.name    - Personality name\n     * @param {string} toolData.cite    - Personality cite\n     * @param {string} toolData.url     - Personality url\n     * @param {string} toolData.photo   - Personality photo URL\n     *\n     * @return {Element} personality tool block\n     */\n    function render( toolData ) {\n\n        toolData = toolData || {};\n\n        var pluginHolder = ui.holder(),\n            name         = ui.nameInput(toolData.name),\n            cite         = ui.citeInput(toolData.cite),\n            url          = ui.urlInput(toolData.url),\n            photo        = ui.photo(toolData.photo);\n\n        pluginHolder.appendChild(photo);\n        pluginHolder.appendChild(name);\n        pluginHolder.appendChild(cite);\n        pluginHolder.appendChild(url);\n\n        photo.addEventListener('click', uploader.photoClicked);\n\n        return pluginHolder;\n\n    }\n\n    /**\n     * Prepares plugin\n     * @param  {Object} config\n     * @return {Promise}\n     */\n    function prepare(config) {\n\n        return Promise.resolve().then(function () {\n\n            uploader.config = config;\n\n        });\n\n    }\n\n    /**\n     * Validation\n     * @param  {Object} savingData - tool presaved data\n     * @fires saver.validate\n     * @return {Boolean}\n     */\n    function validate( savingData ) {\n\n        return saver.validate(savingData);\n\n    }\n\n    /**\n     * Destroy method\n     */\n    function destroy() {\n\n        window.cdxEditorPersonality = null;\n\n    }\n\n    /**\n     * Saving method\n     * @param  {Element} block   - plugin content\n     * @return {Object}          - personality data\n     */\n    function save( block ) {\n\n        var data = saver.extractData(block);\n\n        return data;\n\n    }\n\n    return {\n        render, save, validate, destroy, prepare\n    };\n\n}();\n\n/***/ })\n/******/ ]);\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = cdxEditorPersonality;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exports-loader?cdxEditorPersonality!./~/codex.editor.personality/personality.js\n// module id = 21\n// module chunks = 0","module.exports = {\r\n\r\n    prefixJS : 'cdx-script-',\r\n\r\n    prefixCSS : 'cdx-style-',\r\n\r\n    importScript : function (scriptPath, instanceName) {\r\n\r\n        return new Promise(function (resolve, reject) {\r\n\r\n            var script;\r\n\r\n            /** Script is already loaded */\r\n            if ( !instanceName ) {\r\n\r\n                reject('Instance name is missed');\r\n\r\n            } else if ( document.getElementById(this.prefixJS + instanceName) ) {\r\n\r\n                resolve(scriptPath);\r\n\r\n            }\r\n\r\n            script = document.createElement('SCRIPT');\r\n            script.async = true;\r\n            script.defer = true;\r\n            script.id    = codex.loader.prefixJS + instanceName;\r\n\r\n            script.onload = function () {\r\n\r\n                resolve(scriptPath);\r\n\r\n            };\r\n\r\n            script.onerror = function () {\r\n\r\n                reject(scriptPath);\r\n\r\n            };\r\n\r\n            script.src = scriptPath;\r\n            document.head.appendChild(script);\r\n\r\n        });\r\n\r\n    },\r\n\r\n    importStyle : function (stylePath, instanceName) {\r\n\r\n        return new Promise(function (resolve, reject) {\r\n\r\n            var style;\r\n\r\n            /** Style is already loaded */\r\n            if ( !instanceName ) {\r\n\r\n                reject('Instance name is missed');\r\n\r\n            } else if ( document.getElementById(this.prefixCSS + instanceName) ) {\r\n\r\n                resolve(stylePath);\r\n\r\n            }\r\n\r\n            style = document.createElement('LINK');\r\n            style.type = 'text/css';\r\n            style.href = stylePath;\r\n            style.rel  = 'stylesheet';\r\n            style.id   = codex.loader.prefixCSS + instanceName;\r\n\r\n            style.onload = function () {\r\n\r\n                resolve(stylePath);\r\n\r\n            };\r\n\r\n            style.onerror = function () {\r\n\r\n                reject(stylePath);\r\n\r\n            };\r\n\r\n            style.src = stylePath;\r\n            document.head.appendChild(style);\r\n\r\n        });\r\n\r\n    },\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/loader.js\n// module id = 22\n// module chunks = 0","/**\r\n* Module for scroll-up button\r\n* @author @scytem @guryn\r\n*/\r\n\r\n\r\nmodule.exports = (function () {\r\n\r\n\r\n    /**\r\n     * Scroll-up will be shown after sroll reaches this value\r\n     * @type {Number}\r\n     */\r\n    var offsetToShow = 300;\r\n\r\n    /**\r\n     * Size content width\r\n     * @type {Number}\r\n     */\r\n    var layoutWidth = 0;\r\n\r\n    /**\r\n     * Clickable Element that holds arrow\r\n     * @type {Element}\r\n     */\r\n    var clickableZone = null;\r\n\r\n    /**\r\n     * Window Resize stop watcher Timeout\r\n     * @type {timeoutId}\r\n     */\r\n    var resizeStopWatcher = null;\r\n\r\n    /**\r\n     * @public\r\n     *\r\n     * Init method\r\n     * Fired after document is ready\r\n     */\r\n    var init = function ( layoutHolderId ) {\r\n\r\n        var layout = document.getElementById(layoutHolderId);\r\n\r\n        if (!layout) {\r\n\r\n            codex.core.log('Layout center-col ID wissed', 'scrollUp', 'warn');\r\n            return;\r\n\r\n        }\r\n\r\n        layoutWidth = layout.offsetWidth;\r\n\r\n        clickableZone = makeUI();\r\n\r\n        /** Bind click event on scroll-up button */\r\n        clickableZone.addEventListener('click', scrollPage);\r\n\r\n        /** Global window scroll handler */\r\n        window.addEventListener('scroll', windowScrollHandler);\r\n\r\n        /** Autoresize */\r\n        window.addEventListener('resize', sizeChanged, false);\r\n\r\n        /** Set size */\r\n        resize();\r\n\r\n        /* Check heigth */\r\n        windowScrollHandler();\r\n\r\n    };\r\n\r\n    /**\r\n    * Scroll the document to the begin position\r\n    * @param {number} yCoords Y-coordinate\r\n    */\r\n    var scrollPage = function (yCoords) {\r\n\r\n        window.scrollTo(0, yCoords);\r\n\r\n    };\r\n\r\n    /**\r\n    * Hiding Scroll-up button if user on the top of page\r\n    */\r\n    var windowScrollHandler = function () {\r\n\r\n        var notTheTop = window.pageYOffset > offsetToShow;\r\n\r\n        if (notTheTop) {\r\n\r\n            clickableZone.classList.add('show');\r\n\r\n        } else {\r\n\r\n            clickableZone.classList.remove('show');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n    * Resize hover/click area touching user width of screen\r\n    */\r\n    var resize = function () {\r\n\r\n        var windowWidth     = document.body.clientWidth,\r\n            leftColumtWidth = (windowWidth - layoutWidth) / 2;\r\n\r\n        clickableZone.style.width = leftColumtWidth + 'px';\r\n\r\n    };\r\n\r\n\r\n    /**\r\n    * Delay for resize\r\n    */\r\n    var sizeChanged = function () {\r\n\r\n        if ( resizeStopWatcher ) {\r\n\r\n            window.clearTimeout(resizeStopWatcher);\r\n\r\n        }\r\n\r\n        resizeStopWatcher = window.setTimeout(resize, 150);\r\n\r\n    };\r\n\r\n    /**\r\n     * Makes scroll-up arrow and wrapper\r\n     */\r\n    var makeUI = function () {\r\n\r\n        var wrapper = document.createElement('DIV'),\r\n            arrow   = document.createElement('DIV');\r\n\r\n        wrapper.classList.add('scroll-up');\r\n        arrow.classList.add('scroll-up__arrow');\r\n\r\n        wrapper.appendChild(arrow);\r\n        document.body.appendChild(wrapper);\r\n\r\n        return wrapper;\r\n\r\n    };\r\n\r\n    return {\r\n        init: init\r\n    };\r\n\r\n}());\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/scrollUp.js\n// module id = 23\n// module chunks = 0","/**\r\n * Admin module\r\n */\r\n\r\nmodule.exports = (function () {\r\n\r\n    var emptyBrandingClass = 'branding--empty';\r\n    var loadingClass       = 'branding--loading';\r\n    var preloaderClass     = 'branding__preloader';\r\n    var preloadShown       = 'branding__preloader--shown';\r\n\r\n    /**\r\n     * Branding holder\r\n     * @type {Element|null}\r\n     */\r\n    var wrapper = null;\r\n\r\n    /**\r\n     * Initialization\r\n     * @fires preload\r\n     */\r\n    var init = function () {\r\n\r\n        wrapper = document.getElementById('brandingSection');\r\n\r\n        if ( !wrapper ) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        var url = wrapper.dataset.src;\r\n\r\n        preload( url );\r\n\r\n    };\r\n\r\n    /**\r\n     * Shows blurred preview and change it to the full-view image\r\n     * @param  {String} fullUrl          - URL of original image\r\n     * @return {String|null} previewUrl  - pass to renew preloader\r\n     */\r\n    var preload = function ( fullUrl, previewUrl ) {\r\n\r\n        var preloader = wrapper.querySelector('.' + preloaderClass),\r\n            img = document.createElement('IMG');\r\n\r\n        if ( previewUrl ) {\r\n\r\n            preloader.style.backgroundImage = \"url('\" + previewUrl + \"')\";\r\n            preloader.classList.add(preloadShown);\r\n\r\n        }\r\n\r\n        img.src = fullUrl;\r\n        img.onload = function () {\r\n\r\n            wrapper.style.backgroundImage = \"url('\" + fullUrl + \"')\";\r\n            preloader.classList.remove(preloadShown);\r\n\r\n        };\r\n\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * changes site branding\r\n     * @private\r\n     */\r\n    var change = function () {\r\n\r\n        codex.transport.init({\r\n\r\n            url : '/upload/4',\r\n            accept : 'image/*',\r\n            beforeSend: function () {\r\n\r\n                wrapper.classList.add(loadingClass);\r\n\r\n            },\r\n            success : function (result) {\r\n\r\n                var response = JSON.parse(result),\r\n                    url,\r\n                    preview;\r\n\r\n                wrapper.classList.remove(loadingClass);\r\n\r\n                if ( response.success ) {\r\n\r\n                    url = response.data.url;\r\n                    preview = '/upload/branding/preload_' + response.data.name + '.jpg';\r\n\r\n                    if ( wrapper.classList.contains(emptyBrandingClass) ) {\r\n\r\n                        wrapper.classList.remove(emptyBrandingClass);\r\n\r\n                    }\r\n\r\n                    preload( url, preview );\r\n\r\n                } else {\r\n\r\n                    codex.alerts.show({\r\n                        type: 'error',\r\n                        message: 'Uploading failed'\r\n                    });\r\n\r\n                }\r\n\r\n            },\r\n            error: function () {\r\n\r\n                wrapper.classList.remove(loadingClass);\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: 'Error while uploading branding image;'\r\n                });\r\n\r\n            }\r\n\r\n        });\r\n\r\n    };\r\n\r\n    return {\r\n        init: init,\r\n        change : change\r\n    };\r\n\r\n})({});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/branding.js\n// module id = 24\n// module chunks = 0","/**\r\n * Page significant methods\r\n */\r\nmodule.exports = (function () {\r\n\r\n    /**\r\n     * Page cover module\r\n     */\r\n    var cover = require('./pages/cover');\r\n\r\n    /**\r\n     * Page pin module\r\n     */\r\n    var pin = require('./pages/pin');\r\n\r\n    /**\r\n     * Saves current clicked item in page drop-down menu\r\n     * @type {Element}\r\n     */\r\n    var currentItemClicked = null;\r\n\r\n    /**\r\n     * Opens page-writing form\r\n     */\r\n    var openWriting = function () {\r\n\r\n        currentItemClicked = this;\r\n\r\n        var targetId = currentItemClicked.dataset.id;\r\n\r\n        document.location = '/p/writing?id=' + targetId;\r\n\r\n    };\r\n\r\n    /**\r\n     * Opens page-writing form\r\n     */\r\n    var remove = function () {\r\n\r\n        currentItemClicked = this;\r\n\r\n        var targetId    = currentItemClicked.dataset.id;\r\n\r\n        if (!window.confirm('Подтвердите удаление страницы')) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        codex.ajax.call({\r\n            url : '/p/' + targetId + '/delete',\r\n            success: removeHandler\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Opens writing form for child page\r\n     */\r\n    var newChild = function () {\r\n\r\n        currentItemClicked = this;\r\n\r\n        var targetId = currentItemClicked.dataset.id;\r\n\r\n        document.location = '/p/writing?parent=' + targetId;\r\n\r\n    };\r\n\r\n    /**\r\n     * Send ajax request to add page to menu\r\n     */\r\n    var addToMenu = function () {\r\n\r\n        currentItemClicked = this;\r\n        currentItemClicked.classList.add('loading');\r\n\r\n        var targetId = currentItemClicked.dataset.id;\r\n\r\n        codex.ajax.call({\r\n            url : '/p/' + targetId + '/promote?list=4',\r\n            success: promote\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Send ajax request to add page to main\r\n     */\r\n    var addToMain = function () {\r\n\r\n        currentItemClicked = this;\r\n        currentItemClicked.classList.add('loading');\r\n\r\n        var targetId = currentItemClicked.dataset.id;\r\n\r\n        codex.ajax.call({\r\n            url : '/p/' + targetId + '/promote?list=3',\r\n            success: promote\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Parse JSON response\r\n     * @param {JSON} response\r\n     * @returns {Object} response\r\n     */\r\n    var getResponse = function (response) {\r\n\r\n        try {\r\n\r\n            response = JSON.parse(response);\r\n\r\n        } catch(e) {\r\n\r\n            return {\r\n                success: 0,\r\n                message: 'Произошла ошибка, попробуйте позже'\r\n            };\r\n\r\n        }\r\n\r\n        return response;\r\n\r\n    };\r\n\r\n    /**\r\n     * Response handler for page remove\r\n     * @param response\r\n     */\r\n    var removeHandler = function (response) {\r\n\r\n        response = getResponse(response);\r\n\r\n        if (response.success) {\r\n\r\n            window.location.replace(response.redirect);\r\n            return;\r\n\r\n        }\r\n\r\n        codex.alerts.show({\r\n            type: 'error',\r\n            message: response.message\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Response handler for page promotion\r\n     * @param response\r\n     */\r\n    var promote = function (response) {\r\n\r\n        response = getResponse(response);\r\n        currentItemClicked.classList.remove('loading');\r\n\r\n        if (response.success) {\r\n\r\n            if (response.buttonText) {\r\n\r\n                replaceMenu(currentItemClicked, response.buttonText);\r\n\r\n            }\r\n\r\n            if (response.menu) {\r\n\r\n                updateSiteMenu(response.menu);\r\n\r\n            }\r\n\r\n            /**\r\n             * TODO: сделать замену текста кнопки\r\n             **/\r\n\r\n            codex.alerts.show({\r\n                type: 'success',\r\n                message: response.message\r\n            });\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        codex.alerts.show({\r\n            type: 'error',\r\n            message: response.message\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Replace site menu with new button text from server response\r\n     * @param currentItemMenu\r\n     * @param newResponseMenuText\r\n     */\r\n    var replaceMenu = function (currentItemMenu, newResponseMenuText) {\r\n\r\n        var itemIndex = currentItemMenu.dataset.itemIndex,\r\n            menuIndex = currentItemMenu.dataset.index;\r\n\r\n        /** update item on menu */\r\n        codex.islandSettings.updateItem(menuIndex, itemIndex, newResponseMenuText);\r\n\r\n        /** update item text immediatelly */\r\n        currentItemMenu.textContent = newResponseMenuText;\r\n\r\n    };\r\n\r\n    /**\r\n     * Replace site menu with menu form server response\r\n     *\r\n     * @param menu\r\n     */\r\n    var updateSiteMenu = function (menu) {\r\n\r\n        var oldMenu = document.getElementById('js-site-menu'),\r\n            newMenu = codex.core.parseHTML(menu)[0];\r\n\r\n        codex.core.replace(oldMenu, newMenu);\r\n\r\n    };\r\n\r\n    return {\r\n        openWriting: openWriting,\r\n        newChild: newChild,\r\n        addToMenu: addToMenu,\r\n        addToMain: addToMain,\r\n        remove : remove,\r\n        pin: pin,\r\n        cover: cover\r\n    };\r\n\r\n}());\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/pages.js\n// module id = 25\n// module chunks = 0","/**\r\n * Actions with page cover\r\n */\r\nmodule.exports = function (cover) {\r\n\r\n    var css = {\r\n        cover          : 'posts-list-item__cover',\r\n        setCover       : 'posts-list-item__cover--empty',\r\n        setCoverShowed : 'posts-list-item__cover--empty-showed',\r\n        preview        : 'posts-list-item__cover--preview',\r\n    };\r\n\r\n    /**\r\n     * Transport type constant\r\n     * @type {Number}\r\n     */\r\n    var TRANSPORT_PAGE_COVER = 5;\r\n\r\n    /**\r\n     * Menu 'set-cover' button handler\r\n     * @this menu Element\r\n     */\r\n    cover.toggleButton = function () {\r\n\r\n        var pageId = this.dataset.id,\r\n            pageIsland,\r\n            setCoverButton;\r\n\r\n        pageIsland = document.getElementById('js-page-' + pageId);\r\n\r\n        if (!pageIsland) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        setCoverButton = pageIsland.querySelector('.' + css.cover);\r\n\r\n        setCoverButton.classList.add(css.setCover);\r\n        setCoverButton.classList.toggle(css.setCoverShowed);\r\n\r\n        /** Let user see cover-button, than click on it */\r\n        window.setTimeout(function () {\r\n\r\n            cover.set(pageId);\r\n\r\n        }, 300);\r\n\r\n    };\r\n\r\n    /**\r\n     * Select file\r\n     * @param {Number} pageId - cover's page id\r\n     */\r\n    cover.set = function ( pageId ) {\r\n\r\n        if ( isNaN(pageId) ) {\r\n\r\n            codex.core.log('Wrong pageId passed %o', '[page.cover]', 'warn', pageId);\r\n            return;\r\n\r\n        }\r\n\r\n        codex.transport.init({\r\n            url : '/upload/' + TRANSPORT_PAGE_COVER,\r\n            data : {\r\n                target : pageId\r\n            },\r\n            success : uploaded,\r\n            beforeSend : beforeSend.bind(pageId),\r\n            error   : error\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Makes preview\r\n     * @this {pageId}\r\n     */\r\n    function beforeSend() {\r\n\r\n        var pageId = this,\r\n            article = document.getElementById('js-page-' + pageId),\r\n            coverHolder;\r\n\r\n        if (!article) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        coverHolder = article.querySelector('.' + css.cover);\r\n\r\n        /** Compose preview */\r\n        makePreview(coverHolder, pageId);\r\n\r\n    }\r\n\r\n    /**\r\n     * Makes uploading image preview\r\n     * @param  {Element} holder cover holder image\r\n     * @param  {string|Number} pageId\r\n     */\r\n    function makePreview( holder, pageId ) {\r\n\r\n        var input = codex.transport.input,\r\n            files = input.files,\r\n            reader;\r\n\r\n        console.assert( files, 'There is no files in input');\r\n\r\n        reader = new FileReader();\r\n        reader.readAsDataURL(files[0]);\r\n\r\n        holder.classList.add(css.preivew);\r\n\r\n        reader.onload = function ( e ) {\r\n\r\n            updateCoverImage(\r\n                {\r\n                    url : e.target.result,\r\n                    target : pageId\r\n                },\r\n                holder,\r\n                true // is preview mode\r\n            );\r\n\r\n        };\r\n\r\n    }\r\n\r\n    /**\r\n     * Success uploading handler\r\n     * @param  {String} response    server answer\r\n     */\r\n    function uploaded( response ) {\r\n\r\n        response = JSON.parse(response);\r\n\r\n        if ( !response.success ) {\r\n\r\n            codex.alerts.show({\r\n                type: 'error',\r\n                message: response.message || 'File uploading error :('\r\n            });\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        console.assert( response.data && response.data.url, 'Wrong response data');\r\n\r\n        update( response.data );\r\n\r\n    }\r\n\r\n    /**\r\n     * Update cover after succes uploading\r\n     * Do it after new image loading\r\n     * @param  {Object} imageData  - new cover data\r\n     */\r\n    function update( imageData ) {\r\n\r\n        var img = document.createElement('IMG');\r\n\r\n        /** Wait for browser download and cache image */\r\n        img.onload = function () {\r\n\r\n            updateCoverImage(imageData);\r\n\r\n        };\r\n\r\n        img.src = imageData.url;\r\n\r\n    }\r\n\r\n    /**\r\n     * Updates visible cover image\r\n     * @param  {Object} imageData\r\n     * @param  {string} imageData.url       - full cover URL\r\n     * @param  {string} imageData.target    - page id\r\n     * @param  {Element|null} coverHolder   - page cover holder (if known)\r\n     * @param  {Boolean} isPreview          - pass TRUE for preview-mode\r\n     */\r\n    function updateCoverImage( imageData, coverHolder, isPreview ) {\r\n\r\n        console.assert(imageData.target, 'Page id must be passed as target');\r\n\r\n        var article = document.getElementById('js-page-' + imageData.target);\r\n\r\n        if (!article) {\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        coverHolder = coverHolder || article.querySelector('.' + css.cover);\r\n\r\n        if ( !coverHolder ) {\r\n\r\n            codex.core.log('Nothing to update. Cover was not found', '[page.cover]', 'warn');\r\n            return;\r\n\r\n        }\r\n\r\n        if (isPreview) {\r\n\r\n            coverHolder.classList.add(css.preview);\r\n\r\n        } else {\r\n\r\n            coverHolder.classList.remove(css.preview);\r\n\r\n        }\r\n\r\n        /** Remove button svg icon */\r\n        coverHolder.innerHTML = '';\r\n\r\n        coverHolder.style.backgroundImage = 'url(' + imageData.url + ')';\r\n        coverHolder.classList.remove(css.setCover, css.setCoverShowed);\r\n\r\n    }\r\n\r\n    /**\r\n     * Uploading error\r\n     * @param  {Object} error\r\n     */\r\n    var error = function (uploadError) {\r\n\r\n        codex.core.log('Cover uploading error: %o', '[pages.cover]', 'warn', uploadError);\r\n\r\n    };\r\n\r\n    return cover;\r\n\r\n}({});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/pages/cover.js\n// module id = 26\n// module chunks = 0","/**\r\n * Pins page in news feed\r\n */\r\nmodule.exports = function () {\r\n\r\n    var currentItemClicked = null,\r\n        targetId           = null;\r\n\r\n    /**\r\n     * Requests page pin toggle via ajax\r\n     */\r\n    var toggle = function () {\r\n\r\n        currentItemClicked = this;\r\n        targetId = currentItemClicked.dataset.id;\r\n\r\n        currentItemClicked.classList.add('loading');\r\n\r\n        codex.ajax.call({\r\n            url : '/p/' + targetId + '/pin',\r\n            success: success,\r\n            error: error\r\n        });\r\n\r\n    };\r\n\r\n    /** Response for success ajax request **/\r\n    var success =  function (response) {\r\n\r\n        currentItemClicked.classList.remove('loading');\r\n        response = JSON.parse(response);\r\n\r\n        codex.alerts.show({\r\n            type: response.success ? 'success' : 'error',\r\n            message: response.message\r\n        });\r\n\r\n        var page = document.getElementById('js-page-' + targetId);\r\n\r\n        var time = page.querySelector('.js-article-time');\r\n\r\n        time.textContent = response.message;\r\n\r\n\r\n    };\r\n\r\n    /** Response for ajax request errors **/\r\n    var error = function () {\r\n\r\n        currentItemClicked.classList.remove('loading');\r\n\r\n        codex.alerts.show({\r\n            type: 'error',\r\n            message: 'Произошла ошибка'\r\n        });\r\n\r\n    };\r\n\r\n    return {\r\n        toggle: toggle\r\n    };\r\n\r\n}();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/pages/pin.js\n// module id = 27\n// module chunks = 0","/**\r\n *  Module for custom checkboxes\r\n *\r\n *  Adds stylized checkbox. You can use them in forms as default checkboxes.\r\n *  You can user your own styles, just change classes names in classes dictionary\r\n *\r\n *  To init module\r\n *  1. Add element with `cdx-custom-checkbox` name to page.\r\n *     You can have any other elements in it, checkbox will be added as first child.\r\n *\r\n *     `cdx-custom-checkbox` element can have data attributes:\r\n *      - data-name -- name of checkbox input, that will be in request array.\r\n *                    By default uses NAMES.defaultInput ('cdx-custom-checkbox')\r\n *\r\n *     - data-checked -- if TRUE checkbox will be checked by default\r\n *\r\n *      Example:\r\n *      <span name='cdx-custom-checkbox' data-name='checkbox1' data-checked='false'>I agree</span>\r\n *\r\n *  2. Call `init` method of this module\r\n *  3. If you want to handle changing of checkbox just register event listener on `cdx-custom-checkbox` element with 'toggle' event type:\r\n *\r\n *     checkbox.addEventListener('toggle', handler)\r\n *\r\n *  @requires checkboxes.css\r\n *\r\n *  @author gohabereg\r\n *  @version 1.0\r\n */\r\n\r\nmodule.exports = function () {\r\n\r\n    /**\r\n     * Custom event for checkboxes. Dispatches when checkbox clicked\r\n     * @type {CustomEvent}\r\n     */\r\n    var ToggleEvent = new window.CustomEvent('toggle'),\r\n\r\n    /**\r\n     * Elements classes dictionary\r\n     */\r\n        CLASSES    = {\r\n            wrapper: 'cdx-checkbox',\r\n            checkbox: 'cdx-checkbox__slider',\r\n            checked: 'cdx-checkbox--checked',\r\n            defaultCheckbox: 'cdx-default-checkbox--hidden'\r\n        },\r\n    /**\r\n     * Elements names dictionary\r\n     */\r\n        NAMES      = {\r\n            checkbox: 'cdx-custom-checkbox',\r\n            defaultInput: 'cdx-custom-checkbox'\r\n        };\r\n\r\n\r\n    /**\r\n     * Creates checkbox element in wrapper with `cdx-custom-checkbox` name\r\n     *\r\n     * @param wrapper - element with `cdx-custom-checkbox` name\r\n     */\r\n    var prepareCheckbox = function (wrapper) {\r\n\r\n        var input      = document.createElement('INPUT'),\r\n            checkbox   = document.createElement('SPAN'),\r\n            firstChild = wrapper.firstChild;\r\n\r\n        input.type  = 'checkbox';\r\n        input.name  = wrapper.dataset.name || NAMES.defaultInput;\r\n        input.value = 1;\r\n        input.classList.add(CLASSES.defaultCheckbox);\r\n\r\n        checkbox.classList.add(CLASSES.checkbox);\r\n        checkbox.appendChild(input);\r\n\r\n        wrapper.classList.add(CLASSES.wrapper);\r\n        wrapper.addEventListener('click', clicked);\r\n\r\n        if (wrapper.dataset.checked) {\r\n\r\n            input.checked = true;\r\n\r\n            wrapper.classList.add(CLASSES.checked);\r\n\r\n        }\r\n\r\n        if (firstChild) {\r\n\r\n            wrapper.insertBefore(checkbox, firstChild);\r\n\r\n        } else {\r\n\r\n            wrapper.appendChild(checkbox);\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n    /**\r\n     * Handler for click event on checkbox. Toggle checkbox state and dispatch CheckEvent\r\n     */\r\n    var clicked = function () {\r\n\r\n        var wrapper  = this,\r\n            checkbox = wrapper.querySelector('.' + CLASSES.checkbox),\r\n            input    = checkbox.querySelector('input');\r\n\r\n        checkbox.parentNode.classList.toggle(CLASSES.checked);\r\n        input.checked = !input.checked;\r\n\r\n        /**\r\n         * Add `checked` property to CheckEvent\r\n         */\r\n        ToggleEvent.checked = input.checked;\r\n\r\n        checkbox.dispatchEvent(ToggleEvent);\r\n\r\n    };\r\n\r\n    /**\r\n     * Takes all elements with `cdx-custom-checkbox` name and calls prepareCheckbox function for each one\r\n     */\r\n    var init = function () {\r\n\r\n        var checkboxes = document.getElementsByName(NAMES.checkbox);\r\n\r\n        Array.prototype.forEach.call(checkboxes, prepareCheckbox);\r\n\r\n    };\r\n\r\n    return {\r\n        init: init\r\n    };\r\n\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/checkboxes.js\n// module id = 28\n// module chunks = 0","module.exports = function () {\r\n\r\n    var change = function (e) {\r\n\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n\r\n        var wrapper = this.parentNode;\r\n\r\n        codex.transport.init({\r\n\r\n            url : '/upload/7',\r\n            accept : 'image/*',\r\n            success : function (result) {\r\n\r\n                var response = JSON.parse(result),\r\n                    img = document.getElementById('js-site-logo');\r\n\r\n                if ( response.success ) {\r\n\r\n                    img.src = response.data.url;\r\n                    wrapper.classList.remove('site-head__logo--empty');\r\n\r\n                } else {\r\n\r\n                    codex.alerts.show({\r\n                        type: 'error',\r\n                        message: 'Uploading failed'\r\n                    });\r\n\r\n                }\r\n\r\n            },\r\n            error: function () {\r\n\r\n                codex.alerts.show({\r\n                    type: 'error',\r\n                    message: 'Error while uploading logo'\r\n                });\r\n\r\n            }\r\n\r\n        });\r\n\r\n    };\r\n\r\n    return {\r\n        change : change\r\n    };\r\n\r\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/js/modules/logo.js\n// module id = 29\n// module chunks = 0"],"sourceRoot":""}